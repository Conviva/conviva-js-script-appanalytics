/*!
 * Web analytics for Conviva v1.5.2 (http://bit.ly/sp-js)
 * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
 * Licensed under BSD-3-Clause
 */

"use strict";!function(){function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,s(i.key),i)}}function i(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return{s:t=function(){},n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw r}}}}function o(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){e:if("object"==typeof e&&e){var t=e[Symbol.toPrimitive];if(void 0!==t){if("object"!=typeof(e=t.call(e,"string")))break e;throw new TypeError("@@toPrimitive must return a primitive value.")}e=String(e)}return"symbol"==typeof e?e:e+""}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(t,n){if(t){if("string"==typeof t)return e(t,n);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?e(t,n):void 0}}function d(e,t){var n,i={};for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)0>t.indexOf(n[r])&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}function f(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{s(i.next(e))}catch(e){o(e)}}function l(e){try{s(i.throw(e))}catch(e){o(e)}}function s(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,l)}s((i=i.apply(e,t||[])).next())}))}function v(e,t){function n(n){return function(a){return function(n){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,r&&(o=2&n[0]?r.return:n[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,n[1])).done)return o;switch(r=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,r=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(!(o=l.trys,(o=0<o.length&&o[o.length-1])||6!==n[0]&&2!==n[0])){l=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3]))l.label=n[1];else if(6===n[0]&&l.label<o[1])l.label=o[1],o=n;else{if(!(o&&l.label<o[2])){o[2]&&l.ops.pop(),l.trys.pop();continue}l.label=o[2],l.ops.push(n)}}n=t.call(e,l)}catch(e){n=[6,e],r=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}var i,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}function g(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function h(){var e,t={},n=[],i=[],r=[],o=function(e,n){null!=n&&""!==n&&(t[e]=n)};return{add:o,addDict:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o(t,e[t])},addJson:function(e,t,r){r&&m(r)&&(e={keyIfEncoded:e,keyIfNotEncoded:t,json:r},i.push(e),n.push(e))},addContextEntity:function(e){r.push(e)},getPayload:function(){return t},getJson:function(){return n},withJsonProcessor:function(t){e=t},build:function(){return null==e||e(this,i,r),t}}}function p(e){return function(t,n,i){for(var r=function(n,i,r){if(n=JSON.stringify(n),e){if(r=t.add,n){var o=0,a=0,l=[];if(n){n=unescape(encodeURIComponent(n));do{var s=n.charCodeAt(o++),c=n.charCodeAt(o++),u=n.charCodeAt(o++),d=s<<16|c<<8|u;s=d>>18&63,c=d>>12&63,u=d>>6&63,d&=63,l[a++]=Ut.charAt(s)+Ut.charAt(c)+Ut.charAt(u)+Ut.charAt(d)}while(o<n.length);o=l.join(""),n=((n=n.length%3)?o.slice(0,n-3):o)+"===".slice(n||3)}n=n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}r.call(t,i,n)}else t.add(r,n)},o=function(n,i){if(!n){var r=t.getPayload();if(e?r.cx:r.co){var o=(n=JSON).parse;if(e){if(r=r.cx){switch(4-r.length%4){case 2:r+="==";break;case 3:r+="="}r=function(e){var t,n=0,i=0,r="",o=[];if(!e)return e;e+="";do{var a=Ut.indexOf(e.charAt(n++)),l=Ut.indexOf(e.charAt(n++));r=Ut.indexOf(e.charAt(n++));var s=Ut.indexOf(e.charAt(n++)),c=a<<18|l<<12|r<<6|s;a=c>>16&255,l=c>>8&255,c&=255,o[i++]=64===r?String.fromCharCode(a):64===s?String.fromCharCode(a,l):String.fromCharCode(a,l,c)}while(n<e.length);return r=o.join(""),t=r.replace(/\0+$/,""),decodeURIComponent(t.split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}(r=r.replace(/-/g,"+").replace(/_/g,"/"))}}else r=r.co;n=o.call(n,r)}else n=void 0}return n?n.dt=n.dt.concat(i.dt):n=i,n},a=void 0,l=0;l<n.length;l++){var s=n[l];"cx"===s.keyIfEncoded?a=o(a,s.json):r(s.json,s.keyIfEncoded,s.keyIfNotEncoded)}n.length=0,i.length&&(a=o(a,n={sc:"sp/ctx/1-0-0",dt:g([],i,!0)}),i.length=0),a&&r(a,"cx","co")}}function m(e){if(!y(e))return!1;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}function y(e){return null!=e&&(e.constructor==={}.constructor||e.constructor===[].constructor)}function b(){var e=[],t=[];return{getGlobalPrimitives:function(){return e},getConditionalProviders:function(){return t},addGlobalContexts:function(n){for(var i=[],r=[],o=0;o<n.length;o++){var a=n[o];I(a)?i.push(a):R(a)&&r.push(a)}e=e.concat(r),t=t.concat(i)},clearGlobalContexts:function(){t=[],e=[]},removeGlobalContexts:function(n){for(var i=function(n){I(n)?t=t.filter((function(e){return JSON.stringify(e)!==JSON.stringify(n)})):R(n)&&(e=e.filter((function(e){return JSON.stringify(e)!==JSON.stringify(n)})))},r=0;r<n.length;r++)i(n[r])},getApplicableContexts:function(n){e:{for(var i=0,r=n.getJson();i<r.length;i++){var o=r[i];if("ue_px"===o.keyIfEncoded&&"object"===c(o.json.data)&&"string"==typeof(o=o.json.data.schema)){i=o;break e}}i=""}o="string"==typeof(r=n.getPayload().e)?r:"",r=[];var a=D(e,n,o,i);return r.push.apply(r,a),n=function(e,t,n,i){var r;return e=M(e).map((function(e){e:{if(N(e)){var r=e[0],o=!1;try{o=r({event:t.getPayload(),eventType:n,eventSchema:i})}catch(e){o=!1}if(!0===o){e=D(e[1],t,n,i);break e}}else if(O(e)&&function(e,t){var n=0,i=0,r=e.accept;return Array.isArray(r)?e.accept.some((function(e){return x(e,t)}))&&i++:"string"==typeof r&&x(r,t)&&i++,r=e.reject,Array.isArray(r)?e.reject.some((function(e){return x(e,t)}))&&n++:"string"==typeof r&&x(r,t)&&n++,0<i&&0===n}(e[0],i)){e=D(e[1],t,n,i);break e}e=[]}if(e&&0!==e.length)return e})),(r=[]).concat.apply(r,e.filter((function(e){return null!=e&&e.filter(Boolean)})))}(t,n,o,i),r.push.apply(r,n),r}}}function w(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return null!==(t=null==e?void 0:e.map((function(e){if("function"!=typeof e)return e;try{return e.apply(void 0,n)}catch(e){}})).filter(Boolean))&&void 0!==t?t:[]}function _(e){return!!((e=e.split("."))&&1<e.length)&&function(e){if("*"===e[0]||"*"===e[1])return!1;if(0<e.slice(2).length){var t=!1,n=0;for(e=e.slice(2);n<e.length;n++)if("*"===e[n])t=!0;else if(t)return!1;return!0}return 2==e.length}(e)}function k(e){if(null!==(e=/^iglu:((?:(?:[a-zA-Z0-9-_]+|\*).)+(?:[a-zA-Z0-9-_]+|\*))\/([a-zA-Z0-9-_.]+|\*)\/jsonschema\/([1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)$/.exec(e))&&_(e[1]))return e.slice(1,6)}function C(e){if(e=k(e)){var t=e[0];return 5===e.length&&_(t)}return!1}function E(e){return Array.isArray(e)&&e.every((function(e){return"string"==typeof e}))}function T(e){return E(e)?e.every((function(e){return C(e)})):"string"==typeof e&&C(e)}function S(e){return!!(m(e)&&"sc"in e&&"dt"in e)&&("string"==typeof e.sc&&"object"===c(e.dt))}function A(e){return"function"==typeof e&&1>=e.length}function R(e){return A(e)||S(e)}function N(e){return!(!Array.isArray(e)||2!==e.length)&&(Array.isArray(e[1])?A(e[0])&&e[1].every(R):A(e[0])&&R(e[1]))}function O(e){return!(!Array.isArray(e)||2!==e.length)&&(!!function(e){var t=0;if(null!=e&&"object"===c(e)&&!Array.isArray(e)){if(Object.prototype.hasOwnProperty.call(e,"accept")){if(!T(e.accept))return!1;t+=1}if(Object.prototype.hasOwnProperty.call(e,"reject")){if(!T(e.reject))return!1;t+=1}return 0<t&&2>=t}return!1}(e[0])&&(Array.isArray(e[1])?e[1].every(R):R(e[1])))}function I(e){return N(e)||O(e)}function x(e,t){if(!C(e))return!1;if(e=k(e),t=null!==(t=/^iglu:([a-zA-Z0-9-_.]+)\/([a-zA-Z0-9-_]+)\/jsonschema\/([1-9][0-9]*)-(0|[1-9][0-9]*)-(0|[1-9][0-9]*)$/.exec(t))?t.slice(1,6):void 0,e&&t){if(!function(e,t){if(t=t.split("."),e=e.split("."),t&&e){if(t.length!==e.length)return!1;for(var n=0;n<e.length;n++)if(!L(t[n],e[n]))return!1;return!0}return!1}(e[0],t[0]))return!1;for(var n=1;5>n;n++)if(!L(e[n],t[n]))return!1;return!0}return!1}function L(e,t){return e&&t&&"*"===e||e===t}function M(e){return Array.isArray(e)?e:[e]}function D(e,t,n,i){var r;return e=M(e).map((function(e){e:if(S(e))e=[e];else{if(A(e)){t:{var r=void 0;try{if(r=e({event:t.getPayload(),eventType:n,eventSchema:i}),Array.isArray(r)&&r.every(S)||S(r)){var o=r;break t}o=void 0;break t}catch(e){}o=void 0}if(S(o)){e=[o];break e}if(Array.isArray(o)){e=o;break e}}e=void 0}if(e&&0!==e.length)return e})),(r=[]).concat.apply(r,e.filter((function(e){return null!=e&&e.filter(Boolean)})))}function P(e){void 0===e&&(e={});var t,n,i,r,o,a,l,s,c=e.base64,u=e.corePlugins,d=null!=u?u:[];t=null==c||c,n=d,i=e.callback,r=function(e){return{addPluginContexts:function(t){var n=t?g([],t,!0):[];return e.forEach((function(e){try{e.contexts&&n.push.apply(n,e.contexts())}catch(e){Gt.error("Error adding plugin contexts",e)}})),n}}}(n),o=b(),a=t,l={},s=null;var f=bt(bt({},c={track:function(e,t,s){e.withJsonProcessor(p(a)),e.add("eid",Pt.v4()),e.addDict(l),s=function(e){return null==e?{type:"dtm",value:(new Date).getTime()}:"number"==typeof e?{type:"dtm",value:e}:"ttm"===e.type?{type:"ttm",value:e.value}:{type:"dtm",value:e.value||(new Date).getTime()}}(s),e.add(s.type,s.value.toString()),t=function(e,t){e=o.getApplicableContexts(e);var n=[];return t&&t.length&&n.push.apply(n,t),e&&e.length&&n.push.apply(n,e),n}(e,r.addPluginContexts(t)),void 0!==(t=t&&t.length?{sc:"sp/ctx/1-0-0",dt:t}:void 0)&&e.addJson("cx","co",t),n.forEach((function(t){try{t.beforeTrack&&t.beforeTrack(e)}catch(e){Gt.error("Plugin beforeTrack",e)}})),"function"==typeof i&&i(e);var c=e.build();return n.forEach((function(e){try{e.afterTrack&&e.afterTrack(c)}catch(e){Gt.error("Plugin afterTrack",e)}})),c},addPayloadPair:function(e,t){l[e]=t},configuration:e,getConfig:function(){return e},setConfig:function(t){t&&(void 0!==t.base64&&(a=e.base64=t.base64),void 0!==t.lifecycleAutotracking&&(e.lifecycleAutotracking=t.lifecycleAutotracking),void 0!==t.cacheRefreshInterval&&(e.cacheRefreshInterval=t.cacheRefreshInterval),void 0!==t.exceptionAutotracking&&(e.exceptionAutotracking=t.exceptionAutotracking),void 0!==t.enablePeriodicHeartbeat&&(e.enablePeriodicHeartbeat=t.enablePeriodicHeartbeat),void 0!==t.periodicHeartbeatInterval&&(e.periodicHeartbeatInterval=t.periodicHeartbeatInterval),void 0!==t.enc&&(e.enc=t.enc),void 0!==t.mend&&(e.mend=t.mend),void 0!==t.maxLocalStorageQueueSize&&(e.maxLocalStorageQueueSize=t.maxLocalStorageQueueSize),void 0!==t.maxGetBytes&&(e.maxGetBytes=t.maxGetBytes),void 0!==t.bufferSize&&(e.bufferSize=t.bufferSize),void 0!==t.customEventTrackingConfiguration&&(e.customEventTrackingConfiguration=t.customEventTrackingConfiguration),void 0!==t.networkRequestTrackingConfiguration&&(e.networkRequestTrackingConfiguration=t.networkRequestTrackingConfiguration),void 0!==t.traceparentconfig&&(e.traceparentconfig=t.traceparentconfig),void 0!==t.baggageConfiguration&&(e.baggageConfiguration=t.baggageConfiguration),void 0!==t.metaTagsTrackingConfiguration&&(e.metaTagsTrackingConfiguration=t.metaTagsTrackingConfiguration),void 0!==t.evtStreamTrackingConfiguration&&(e.evtStreamTrackingConfiguration=t.evtStreamTrackingConfiguration),void 0!==t.performanceContextConfig&&(e.performanceContextConfig=t.performanceContextConfig),void 0!==t.configurationVersion&&(e.configurationVersion=t.configurationVersion),void 0!==t.catRcLastUpdatedTs&&(e.catRcLastUpdatedTs=t.catRcLastUpdatedTs),void 0!==t.endpoint&&(e.endpoint=t.endpoint),void 0!==t.controlIngestConfig&&(e.controlIngestConfig=t.controlIngestConfig),void 0!==t.applicationContext&&(e.applicationContext=t.applicationContext),void 0!==t.emitterConfiguration&&(e.emitterConfiguration=t.emitterConfiguration),void 0!==t.di&&(e.di=t.di),void 0!==t.clickcc&&(e.clickcc=t.clickcc),void 0!==t.collectionRateLimit&&(e.collectionRateLimit=t.collectionRateLimit),e.pageUrlTrackingConfig=void 0!==t.pageUrlTrackingConfig?t.pageUrlTrackingConfig:null,e.sessionReplayConfiguration=void 0!==t.sessionReplayConfiguration?t.sessionReplayConfiguration:null,e.valueProbes=void 0!==t.valueProbes?t.valueProbes:null,e.webVitals=void 0!==t.webVitals?t.webVitals:null)},getBase64Encoding:function(){return a},setBase64Encoding:function(e){a=e},addPayloadDict:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(l[t]=e[t])},resetPayloadPairs:function(e){l=y(e)?e:{}},setTrackerVersion:function(e){l.tv=e},setTrackerNamespace:function(e){l.tna=e},setAppId:function(e){l.aid=e},setPlatform:function(e){l.p=e},setUserId:function(e){l.uid=e},setConversationId:function(e){s=e},getConversationId:function(){return s},setScreenResolution:function(e,t){l.res=e+"x"+t},setViewport:function(e,t){l.vp=e+"x"+t},setColorDepth:function(e){l.cd=e},setTimezone:function(e){l.tz=e},setLang:function(e){l.lang=e},setIpAddress:function(e){l.ip=e},setUseragent:function(e){l.ua=e},addGlobalContexts:function(e){o.addGlobalContexts(e)},clearGlobalContexts:function(){o.clearGlobalContexts()},removeGlobalContexts:function(e){o.removeGlobalContexts(e)}}),{addPlugin:function(e){var t,n;e=e.plugin,d.push(e),null===(t=e.logger)||void 0===t||t.call(e,Gt),null===(n=e.activateCorePlugin)||void 0===n||n.call(e,f)}});return null==d||d.forEach((function(e){var t,n;null===(t=e.logger)||void 0===t||t.call(e,Gt),null===(n=e.activateCorePlugin)||void 0===n||n.call(e,f)})),f}function U(e){var t=e.event;return e={sc:"sp/ue/1-0-0",dt:{sc:e=t.sc,dt:t.dt}},(t=h()).add("e","ue"),t.addJson("ue_px","ue_pr",e),t}function q(e){return U({event:{sc:"cv/re/1-0-1",dt:G({name:e.name,data:e.data})}})}function G(e,t){void 0===t&&(t={});var n,i={};for(n in e)(t[n]||null!==e[n]&&void 0!==e[n])&&(i[n]=e[n]);return i}function B(e){for(var t=e.length;0<=--t;)e[t]=0}function z(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function H(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function j(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}function F(){this.strm=null,this.status=0,this.pending_buf=null,this.wrap=this.pending=this.pending_out=this.pending_buf_size=0,this.gzhead=null,this.gzindex=0,this.method=jn,this.last_flush=-1,this.w_mask=this.w_bits=this.w_size=0,this.window=null,this.window_size=0,this.head=this.prev=null,this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Vn(this.dyn_ltree),Vn(this.dyn_dtree),Vn(this.bl_tree),this.bl_desc=this.d_desc=this.l_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Vn(this.heap),this.heap_max=this.heap_len=0,this.depth=new Uint16Array(573),Vn(this.depth),this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.sym_end=this.sym_next=this.lit_bufsize=this.sym_buf=0}function V(e){(e=this.options=ci.assign({level:ki,method:Ei,chunkSize:16384,windowBits:15,memLevel:8,strategy:Ci},e||{})).raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&16>e.windowBits&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new gi,this.strm.avail_out=0;var t=si.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(t!==wi)throw Error(Cn[t]);if(e.header&&si.deflateSetHeader(this.strm,e.header),e.dictionary){if(e="string"==typeof e.dictionary?vi.string2buf(e.dictionary):"[object ArrayBuffer]"===hi.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(t=si.deflateSetDictionary(this.strm,e))!==wi)throw Error(Cn[t]);this._dict_set=!0}}function W(e,t){if((t=new V(t)).push(e,!0),t.err)throw t.msg||Cn[t.err];return t.result}function K(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.total=this.check=this.dmax=this.flags=0,this.head=null,this.wnext=this.whave=this.wsize=this.wbits=0,this.window=null,this.extra=this.offset=this.length=this.bits=this.hold=0,this.distcode=this.lencode=null,this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.distdyn=this.lendyn=null,this.was=this.back=this.sane=0}function Z(e){var t=this.options=ci.assign({chunkSize:65536,windowBits:15,to:""},e||{});if(t.raw&&0<=t.windowBits&&16>t.windowBits&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&16>t.windowBits)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&48>t.windowBits&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new gi,this.strm.avail_out=0,(e=Xi.inflateInit2(this.strm,t.windowBits))!==nr)throw Error(Cn[e]);if(this.header=new Qi,Xi.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=vi.string2buf(t.dictionary):"[object ArrayBuffer]"===$i.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=Xi.inflateSetDictionary(this.strm,t.dictionary))!==nr))throw Error(Cn[e])}function J(e,t){if((t=new Z(t)).push(e),t.err)throw t.msg||Cn[t.err];return t.result}function Y(e){return!(!e||"string"!=typeof e.valueOf())}function X(e){return Number.isInteger&&Number.isInteger(e)||"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function Q(e){if(!Y(e)){e=e.text||"";var t=document.getElementsByTagName("title");t&&null!=t[0]&&(e=t[0].text)}return e}function $(e){var t=/^(?:(?:https?|ftp):)\/*(?:[^@]+@)?([^:/#]+)/.exec(e);return t?t[1]:e}function ee(e){var t=e.length;return"."===e.charAt(--t)&&(e=e.slice(0,t)),"*."===e.slice(0,2)&&(e=e.slice(1)),e}function te(e){var t=window,n=ie("referrer",t.location.href)||ie("referer",t.location.href);if(n)return n;if(e)return e;try{if(t.top)return t.top.document.referrer;if(t.parent)return t.parent.document.referrer}catch(e){}return document.referrer}function ne(e,t,n,i){return void 0!==e&&(e.addEventListener?(e.addEventListener(t,n,i),!0):e.attachEvent?e.attachEvent("on"+t,n):void(e["on"+t]=n))}function ie(e,t){return(e=new RegExp("^[^#]*[?&]"+e+"=([^&#]*)").exec(t))?decodeURIComponent(e[1].replace(/\+/g," ")):null}function re(e,t,n){void 0===n&&(n=63072e3);try{var i=window.localStorage,r=Date.now()+1e3*n;return i.setItem("".concat(e,".expires"),r.toString()),i.setItem(e,t),!0}catch(e){return!1}}function oe(e){try{var t=window.localStorage;return t.removeItem(e),t.removeItem(e+".expires"),!0}catch(e){return!1}}function ae(e,t,n,i){return le(e,"",-1,"/",t,n,i)}function le(e,t,n,i,r,o,a){return 1<arguments.length?document.cookie=e+"="+encodeURIComponent(null!=t?t:"")+(n?"; Expires="+new Date(+new Date+1e3*n).toUTCString():"")+(i?"; Path="+i:"")+(r?"; Domain="+r:"")+(o?"; SameSite="+o:"")+(a?"; Secure":""):decodeURIComponent((("; "+document.cookie).split("; "+e+"=")[1]||"").split(";")[0])}function se(e){try{var t=null===window||void 0===window?void 0:window.localStorage;return!!t&&(t.removeItem(e),!0)}catch(e){return!1}}function ce(){"undefined"!=typeof window&&void 0!==window.localStorage&&(localStorage.removeItem(ur.SAMPLING_STORAGE_RANDOM_NUMBER_KEY),localStorage.removeItem(ur.SAMPLING_MODE_STORAGE_KEY))}function ue(e,t){return void 0!==e.act&&void 0!==e.act[t]&&void 0!==(e=e.act[t])?e:ur.DEFAULT_SAMPLING_ACTION[t]}function de(e,t){return e.length<=t?e:e.slice(0,t-3)+"..."}function fe(e,t,n,i,r){var o=[vr.request_body,vr.response_body,vr.request_headers,vr.response_headers,vr.request_query],a={};if("number"==typeof r&&(pr=1024*r),t&&0<t.length)for(r=0;r<t.length;r++){var l=t[r],s=l.conditions;l=d(l,["conditions"]);try{if(ge(e,s)){s=0;for(var u=Object.entries(e);s<u.length;s++){var f=u[s],v=f[0],g=f[1];o.includes(v)||(a[v]=g)}s=0;for(var h=Object.entries(l);s<h.length;s++){var p=h[s];v=p[0],g=p[1];try{if(g&&0<l[v].length){var m=!1;if(v!==vr.response_headers&&v!==vr.request_headers||(m=!0),v===vr.request_body){var y=void 0,b=void 0,w=void 0,_=void 0,k=void 0,C=void 0,E=void 0,T=n,S=e;void 0===T&&(T={});var A=mr(null===(E=null==T?void 0:T.requestDetails)||void 0===E?void 0:E.headers);if(void 0!==A&&(A.toLowerCase().includes("text/plain")||A.toLowerCase().includes("json")||A.toLowerCase().includes("text/javascript")||A.toLowerCase().includes("application/javascript")||A.toLowerCase().includes("text/html"))||void 0===A)try{if("string"==typeof(null===(C=null==T?void 0:T.requestDetails)||void 0===C?void 0:C.body)&&(null===(k=null==T?void 0:T.requestDetails)||void 0===k?void 0:k.body.length)<=pr)try{S[vr.request_body]=JSON.parse(null===(_=null==T?void 0:T.requestDetails)||void 0===_?void 0:_.body)}catch(e){}else"object"===c(null===(w=null==T?void 0:T.requestDetails)||void 0===w?void 0:w.body)&&JSON.stringify(null===(b=null==T?void 0:T.requestDetails)||void 0===b?void 0:b.body).length<=pr&&(S[vr.request_body]=null===(y=null==T?void 0:T.requestDetails)||void 0===y?void 0:y.body)}catch(e){}}if(v===vr.response_body){var R,N=S=T=E=C=k=_=w=b=y=void 0,O=void 0,I=void 0,x=n,L=e;void 0===x&&(x={});e:{var M=null===(I=null==x?void 0:x.responseDetails)||void 0===I?void 0:I.headers;try{I=void 0,null!=M&&(I=M["content-length"]||M["Content-Length"]||M["Content-length"]);var D=null==I||isNaN(I)?I:Number(I);break e}catch(e){}D=void 0}var P=mr(null===(R=null==x?void 0:x.responseDetails)||void 0===R?void 0:R.headers);if(void 0!==P&&(P.toLowerCase().includes("text/plain")||P.toLowerCase().includes("json")||P.toLowerCase().includes("text/javascript")||P.toLowerCase().includes("application/javascript")||P.toLowerCase().includes("text/html")))if(void 0!==D&&D<=pr)if("string"==typeof(null===(O=null==x?void 0:x.responseDetails)||void 0===O?void 0:O.body))try{L[vr.response_body]=JSON.parse(null===(N=null==x?void 0:x.responseDetails)||void 0===N?void 0:N.body)}catch(e){}else"object"===c(null===(S=null==x?void 0:x.responseDetails)||void 0===S?void 0:S.body)&&(L[vr.response_body]=null===(T=null==x?void 0:x.responseDetails)||void 0===T?void 0:T.body);else if(void 0===D)try{if("string"==typeof(null===(E=null==x?void 0:x.responseDetails)||void 0===E?void 0:E.body)&&(null===(k=null===(C=null==x?void 0:x.responseDetails)||void 0===C?void 0:C.body)||void 0===k?void 0:k.length)<=pr)try{L[vr.response_body]=JSON.parse(null===(_=null==x?void 0:x.responseDetails)||void 0===_?void 0:_.body)}catch(e){}else"object"===c(null===(w=null==x?void 0:x.responseDetails)||void 0===w?void 0:w.body)&&JSON.stringify(null===(b=null==x?void 0:x.responseDetails)||void 0===b?void 0:b.body).length<=pr&&(L[vr.response_body]=null===(y=null==x?void 0:x.responseDetails)||void 0===y?void 0:y.body)}catch(e){}}v===vr.request_query&&pe(e,i);var U=he(e[v],l[v],m);0!==Object.keys(U).length&&(a[v]=U)}}catch(e){a[v]=void 0}}return a}}catch(e){console.warn("Conviva App Tracker: Error in collecting attributes nwreqConfig ".concat(e))}}for(a=bt({},e),e=0;e<o.length;e++)t=o[e],null!=a&&a.hasOwnProperty(t)&&delete a[t];return a}function ve(e,t,n){try{if("string"==typeof n&&"string"==typeof e&&"*"===n.trim())return!0;switch(t){case"==":case"equal":return e===n;case"!=":return e!==n;case">":return e>n;case"<":return e<n;case">=":return e>=n;case"<=":return e<=n;case"contains":return""!==n&&"string"==typeof e&&"string"==typeof n&&-1!==e.toLowerCase().indexOf(n.toLowerCase());default:return!1}}catch(e){return console.warn("Conviva App Tracker: Error in Compare values nwreq ".concat(e)),!1}}function ge(e,t){try{for(var n=0;n<t.length;n++){var i=t[n],r=!1;if(0<Object.keys(i).length)for(var o=0,a=Object.entries(i);o<a.length;o++){var l=a[o],s=l[1],u=e[l[0]];if(0<s.length){for(var d=0,f=0,v=s;f<v.length;f++){var g=v[f],h="contains",p=g;if("object"===c(g)&&g.length?(h=g[1],p=g[0]):"boolean"!=typeof g&&null!==g||(h="equal",p=g),ve(u,h,p)){r=!0;break}if(r=!1,d+1===s.length)break;d++}if(!1===r)break}}if(r)return!0}}catch(e){console.warn("Conviva App Tracker: Error in Applying nwreqConfig ".concat(e))}return!1}function he(e,t,n){var i={};try{for(var r=0;r<t.length;r++){var o=t[r],a=e,l=i;n&&(o=o.toLowerCase(),a=a&&Object.entries(a).reduce((function(e,t){var n=t[1];return e[t[0].toLowerCase()]=n,e}),{}));for(var s=o.split("."),c=0;c<s.length;c++){var u=s[c];if(null==a||!a.hasOwnProperty(u))break;c===s.length-1?l[u]=a[u]:(l[u]=l[u]||{},a=a[u],l=l[u])}}}catch(e){console.warn("Conviva App Tracker: Error in filtering schema object nwreq ".concat(e))}return i}function pe(e,t){try{var n=(null==e?void 0:e.targetUrl)||(null==e?void 0:e.url);if(n&&"string"==typeof n&&n.includes("?")){var i=void 0;try{var r=n.indexOf("?");if(-1===r)return;var o=n.indexOf("#",r),a=-1!==o?n.substring(r+1,o):n.substring(r+1);if(!a||a.length>(t||10240))return;i="undefined"!=typeof URLSearchParams?new URLSearchParams(a):null}catch(e){return void console.warn("Conviva App Tracker: Error creating URLSearchParams: ".concat(e))}var l={};if(i instanceof URLSearchParams)i.forEach((function(e,t){l[t]=e}));else{t=0;for(var s=n.substring(n.indexOf("?")+1).split("&");t<s.length;t++){var c=s[t];if(c){var u=c.indexOf("="),d=0<u?decodeURIComponent(c.substring(0,u)):decodeURIComponent(c);if(d){var f=0<u&&u<c.length-1?decodeURIComponent(c.substring(u+1)):"";l[d]=f}}}}0<Object.keys(l).length&&(e[vr.request_query]=l)}}catch(e){console.warn("Conviva App Tracker: Error parsing request query parameters: ".concat(e))}}function me(e,t,n,i,r,o){for(var a={},l=0;l<t.length;l++){var s=t[l],c=s.req,u=s.opt,d=s.smb;s=s.rqq;try{var f=i([{req:c,opt:u}],[],e,n);if(null!=f&&f.result){if(d&&Array.isArray(d)){var v=ye(e,d,!1,o);0<Object.keys(v).length&&Object.assign(a,v)}return s&&Array.isArray(s)&&(pe(e,r),v=ye(e[vr.request_query],s,!1,o),0<Object.keys(v).length)&&(void 0!==a[vr.request_query]&&null!==a[vr.request_query]||(a[vr.request_query]={}),Object.assign(a[vr.request_query],v)),a}}catch(e){console.warn("Conviva App Tracker: Error in collecting conditional SSE attributes ".concat(e))}}return a}function ye(e,t,n,i){if(void 0===i&&(i=!1),i)return function(e,t,n){var i={};try{for(var r=new Map,o=new Set,a=0;a<t.length;a++){var l=t[a];n&&(l=l.toLowerCase());var s=l.split(".");if(1===s.length)o.add(s[0]);else if(2!==s.length||isNaN(Number(s[1]))){if(1<s.length&&!isNaN(Number(s[1]))){d=s[0],f=Number(s[1]);var u=s.slice(2);v="".concat(d,".").concat(f),r.has(v)||r.set(v,[]),r.get(v).push(u.join("."))}}else{var d=s[0],f=Number(s[1]),v="".concat(d,".").concat(f);r.has(v)||r.set(v,[]),r.get(v).push("")}}t=0;for(var g=Array.from(o);t<g.length;t++){var h=g[t],p=e;n&&(p=p&&Object.entries(p).reduce((function(e,t){var n=t[1];return e[t[0].toLowerCase()]=n,e}),{})),null!=p&&p.hasOwnProperty(h)&&(i[h]=p[h])}o=0;for(var m=Array.from(r.entries());o<m.length;o++){var y=m[o];v=y[0];var b=y[1],w=v.split(".");if(d=w[0],f=Number(w[1]),p=e,r=i,n&&(p=p&&Object.entries(p).reduce((function(e,t){var n=t[1];return e[t[0].toLowerCase()]=n,e}),{})),null!=p&&p.hasOwnProperty(d)&&(p=p[d],Array.isArray(r[d])||(r[d]=[]),r=r[d],Array.isArray(p)&&void 0!==p[f])){for(p=p[f];r.length<=f;)r.push(null);var _=r[f]||{};for(g=0,h=b;g<h.length;g++){var k=h[g];if(""===k)_=p;else for(u=k.split("."),t=p,a=_,l=0;l<u.length;l++){var C=u[l];if(null==t||!t.hasOwnProperty(C))break;if(l===u.length-1){var E=t[C];if("string"==typeof E)try{E=JSON.parse(E)}catch(e){}a[C]=E}else{if(isNaN(Number(u[l+1]))){if(a[C]&&"object"===c(a[C])||(a[C]={}),"string"==typeof(t=t[C])&&l<u.length-1)try{t=JSON.parse(t)}catch(e){}}else if(a[C]&&"object"===c(a[C])||(a[C]={}),"string"==typeof(t=t[C])&&l<u.length-1)try{t=JSON.parse(t)}catch(e){}a=a[C]}}}r[f]=_}}}catch(e){console.warn("Conviva App Tracker: Error in filtering SSE ArrayBuffer object ".concat(e))}return i}(e,t,n);i={};try{for(var r=0;r<t.length;r++){var o=t[r],a=e,l=i;n&&(o=o.toLowerCase(),a=a&&Object.entries(a).reduce((function(e,t){var n=t[1];return e[t[0].toLowerCase()]=n,e}),{}));for(var s=o.split("."),u=0;u<s.length;u++){var d=s[u];if(null==a||!a.hasOwnProperty(d))break;if(u===s.length-1)l[d]=a[d];else{if(l[d]=l[d]||{},"string"==typeof(a=a[d])&&u<s.length-1)try{a=JSON.parse(a)}catch(e){}l=l[d]}}}}catch(e){console.warn("Conviva App Tracker: Error in filtering SSE object ".concat(e))}return i}function be(e,t){return t?t.split(".").reduce((function(e,t){if(null!=e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return t=/^\d+$/.test(t)?Number(t):t,null==e?void 0:e[t]}}),e):e}function we(e,t,n){return"translate.googleusercontent.com"===e?(""===n&&(n=t),e=$(t=null!=(e=(e=/^(?:https?|ftp)(?::\/*(?:[^?]+))([?][^#]+)/.exec(t))&&1<(null==e?void 0:e.length)?ie("u",e[1]):null)?e:"")):"cc.bingj.com"!==e&&"webcache.googleusercontent.com"!==e||(e=$(t=document.links[0].href)),[e,t,n]}function _e(e,t){return void 0===t&&(t=1),"0"===e[0]?(e[7]=e[6],e[5]=e[4],e[3]++):e[3]=t,t=Pt.v4(),e[6]=t,e[8]="",e[9]=void 0,t}function ke(e){e[4]=Math.round((new Date).getTime()/1e3)}function Ce(e){return{activateLCPObserver:function(){try{PerformanceObserver&&new PerformanceObserver((function(e){try{e.getEntries().forEach((function(e){var t;if("largest-contentful-paint"===e.entryType){var n=null===performance||void 0===performance?void 0:performance.getEntriesByType("navigation"),i=void 0;n&&0<(null==n?void 0:n.length)&&(i=null===(t=n[0])||void 0===t?void 0:t.activationStart),yr=bt(bt({},e.toJSON()),{performanceNavigationActivationStart:null!=i?i:0})}}))}catch(e){console.warn("convivaAppTracker error in conviva lcp observer "+e)}})).observe({type:"largest-contentful-paint",buffered:!0})}catch(e){console.warn("convivaAppTracker conviva_lcp failed "+e)}},contexts:function(){try{switch(e){case ur.PERFORMANCE_CONTEXT.DISABLED:return[];case ur.PERFORMANCE_CONTEXT.PERFORMANCE_NAVIGATION_TIMING:return function(){var e,t,n;try{var i=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance||{};if(i.getEntriesByType){var r=i.getEntriesByType("navigation")[0],o=null!==(e=null==i?void 0:i.timeOrigin)&&void 0!==e?e:0;if(!r)return[];var a={st:Math.floor(o+r.startTime),dls:Math.floor(o+r.domainLookupStart),dle:Math.floor(o+r.domainLookupEnd),rss:Math.floor(o+r.responseStart),rse:Math.floor(o+r.responseEnd),le:Math.floor(o+r.loadEventEnd),dur:Math.floor(r.loadEventEnd-r.activationStart),as:Math.floor(o+r.activationStart)};return null!=yr&&yr.startTime&&(a.lcp={rt:Math.floor(o+yr.startTime),url:128<(null===(t=null==yr?void 0:yr.url)||void 0===t?void 0:t.length)?null===(n=null==yr?void 0:yr.url)||void 0===n?void 0:n.substring(0,128):yr.url,sz:yr.size}),[{sc:"cv/pc/1-0-1",dt:a}]}return[]}catch(e){return console.warn("ConvivaAppTracker: issue will getting performance Navigation timing context"),[]}}();default:var t=window,n=t.performance||t.mozPerformance||t.msPerformance||t.webkitPerformance,i=n.timing;return g(g([],n?[{sc:"w3/pt/1-0-0",dt:{navigationStart:i.navigationStart,domainLookupStart:i.domainLookupStart,domainLookupEnd:i.domainLookupEnd,responseStart:i.responseStart,responseEnd:i.responseEnd,loadEventEnd:i.loadEventEnd}}]:[],!0),function(){var e,t,n;try{if(void 0!==(null==yr?void 0:yr.startTime)&&"number"==typeof(null==yr?void 0:yr.startTime))return[{sc:"cv/lcp/1-0-0",dt:{lcp:Math.round(yr.startTime)-(null!==(e=yr.performanceNavigationActivationStart)&&void 0!==e?e:0),url:128<(null===(t=null==yr?void 0:yr.url)||void 0===t?void 0:t.length)?null===(n=null==yr?void 0:yr.url)||void 0===n?void 0:n.substring(0,128):yr.url}}]}catch(e){}return[]}(),!0)}}catch(e){return console.warn("convivaAppTracker problem in perfromance context "+e),[]}}}}function Ee(e,t,n,i,r,o){var a;try{var l=null,s=null!==(a=o.url)&&void 0!==a?a:"";if(!s)return!0;if(Sr.some((function(e){return s.includes(e)})))return!1;var c=new URL(s),u=c.protocol.replace(":","");if(a=function(e,t){var n;return(e=Se(e,{scheme:u,host:c.hostname,path:decodeURIComponent(c.pathname)},Cr.NETWORK_REQUEST)).matched?e.opt?Ae(e.opt,{responseStatusCode:null!==(n=null==r?void 0:r.status)&&void 0!==n?n:0,duration:Date.now()-o.requestTimestamp},Cr.NETWORK_REQUEST)===t:t:null},e&&null===l&&(l=a(e,!0)),t&&null===l&&(l=a(t,!1)),null===l){var d=(null==n?void 0:n.includes("*"))||(null==n?void 0:n.some((function(e){return!(!e||""===e)&&s.includes(e)}))),f=null==i?void 0:i.some((function(e){return!(!e||""===e)&&s.includes(e)}));l=!d||f}return!0===l}catch(e){return!0}}function Te(e,t,n,i){try{var r=null;if(!(i=null!=i?i:""))return{result:!0};var o=new URL(i),a=o.protocol.replace(":","");return i=function(e,t){var i;if((e=Se(e,bt({scheme:a,host:o.hostname,path:decodeURIComponent(o.pathname)},n),Cr.SSE_EVENT)).matched){if(e.opt){var r=Ae(e.opt,n,Cr.SSE_EVENT);return!0!==(null===(i=null==e?void 0:e.item)||void 0===i?void 0:i.count)||r?{result:r===t,matchedConfig:e.item,shouldSend:!0}:{result:e.matched===t,matchedConfig:e.item,shouldSend:!1}}return{result:t,matchedConfig:e.item,shouldSend:!1}}return null},e&&null===r&&(r=i(e,!0)),t&&null===r&&(r=i(t,!1)),(!e||Array.isArray(e)&&0===e.length)&&null===r&&(r={result:!0}),r}catch(e){return{result:!0}}}function Se(e,t,n){try{for(var i=0;i<e.length;i++){var r=e[i],o=r.opt;if(Ae(r.req,t,n))return{matched:!0,opt:o||null,item:r}}return{matched:!1,opt:null}}catch(e){return{matched:!1,opt:null}}}function Ae(e,t,n){try{if(!e)return!1;if("and"===e.type){for(var i=0,r=e.cond;i<r.length;i++){var o=r[i];if(!Ae(o,t,n))return!1}return!0}if("or"===e.type){for(r=0,i=e.cond;r<i.length;r++)if(Ae(o=i[r],t,n))return!0;return!1}return n===Cr.NETWORK_REQUEST?function(e,t){var n=e.key,i=e.op;if(e=e.val,!n||!i)return!1;switch(n){case"sch":return!!t.scheme&&Re(t.scheme,i,e);case"host":return!!t.host&&Re(t.host,i,e);case"path":return!!t.path&&Re(t.path,i,e);case"dur":return!!t.duration&&Ne(t.duration,i,e);case"rsc":return void 0!==t.responseStatusCode&&0<=t.responseStatusCode&&Ne(t.responseStatusCode,i,e);default:return!1}}(e,t):n===Cr.CUSTOM_EVENT?function(e,t){var n=e.key,i=e.op;if(e=e.val,!n||!i)return!1;if(void 0!==t[n]){if(Y(t[n]))return Re(t[n],i,e);if("boolean"==typeof t[n])switch(t=t[n],i){case"!=":return t!==e;case"==":return t===e;default:return!1}if(Number.isInteger(t[n]))return Ne(t[n],i,e)}return!1}(e,t):n===Cr.SSE_EVENT&&function(e,t){var n=e.key,i=e.op;if(e=e.val,!n||!i)return!1;switch(n){case"sch":return!!t.scheme&&Re(t.scheme,i,e);case"host":return!!t.host&&Re(t.host,i,e);case"path":return!!t.path&&Re(t.path,i,e);default:if(null!=(t=be(t,n))){if("string"==typeof t)return Re(t,i,e);if("boolean"==typeof t)switch(i){case"!=":return t!==e;case"==":return t===e;default:return!1}if("number"==typeof t&&Number.isInteger(t))return Ne(t,i,e)}return!1}}(e,t)}catch(e){return!1}}function Re(e,t,n){return"=="===t&&Array.isArray(n)?!!(t=n).includes("*")||t.some((function(t){return!(!t||""===t)&&e===t})):"contains"===t&&Array.isArray(n)?!!(t=n).includes("*")||t.some((function(t){return!(!t||""===t)&&e.includes(t)})):"sw"===t&&Array.isArray(n)?!!(t=n).includes("*")||t.some((function(t){return!(!t||""===t)&&e.startsWith(t)})):!("ew"!==t||!Array.isArray(n))&&(!!(t=n).includes("*")||t.some((function(t){return!(!t||""===t)&&e.endsWith(t)})))}function Ne(e,t,n){if("in"===t.toLowerCase()&&Array.isArray(n))return n.includes(e);if("range"===t.toLowerCase()&&"object"===c(n)){t=n.min;var i=n.max,r=n.minExclusive;return n=n.maxExclusive,void 0!==t&&void 0!==i?e>=t&&e<=i:void 0!==r&&void 0!==n&&(e>r&&e<n)}if(X(n))switch(t){case"!=":return e!==n;case">":return e>n;case">=":return e>=n;case"<":return e<n;case"<=":return e<=n;case"==":return e===n}return!1}function Oe(e,t,n){var i=null;e:{for(var r=0;r<e.length;r++){var o=e[r],a=o.opt;if(Ae(o.req,t,n)){if(!a){e=!0,a=null;break e}if(Ae(a,t,n)){e=!0;break e}}}e=!1,a=null}return e&&(i=!a||!!Ae(a,t,n)),i}function Ie(e,t,n){var i,r;try{if(e&&t){var o,a=null==e?void 0:e.getConfig();e:{var l,s,u,d={message:""};try{var f=n.message,v=n.error,g=n.className,h=n.extraData;if(f)d.message=f;else if("string"==typeof v){if(!(0<v.trim().length)){Gt.warn("Conviva Eco Sensor:: Mandatory field message is missing");var p=null;break e}d.message=v}else"object"===c(v)&&("string"==typeof v.message&&0<v.message.trim().length&&(d.message=de(v.message,ur.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_MESSAGE_LENGTH)),"string"==typeof v.name&&0<v.name.trim().length&&(d.exceptionName=de(v.name,ur.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_EXCEPTION_NAME_LENGTH)),"string"==typeof v.stack&&0<v.stack.trim().length&&(d.stackTrace=de(v.stack,ur.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_STACK_LENGTH)));if(0===d.message.trim().length){Gt.warn("Conviva Eco Sensor:: Mandatory field message is missing"),p=null;break e}"string"==typeof g&&0<g.trim().length&&(d.className=de(g,ur.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_CLASSNAME_LENGTH)),null!=h&&(d.extraData=h);var m=null==e?void 0:e.getConfig();if(null!=m&&m.configurationVersion&&(d.remoteConfigVersion=m.configurationVersion),null!=n&&n.configAppliedTime&&(d.configAppliedTime=null==n?void 0:n.configAppliedTime),null!=m&&m.cacheRefreshInterval&&(d.cacheRefreshInterval=m.cacheRefreshInterval),null!=n&&n.configAppliedSrc&&(d.configAppliedSrc=null==n?void 0:n.configAppliedSrc),localStorage){var y=localStorage.getItem(ur.SAMPLING_STORAGE_RANDOM_NUMBER_KEY);null!=y&&(d.samplingRandomNumber=parseFloat(y))}"number"==typeof(null===(s=null===(l=null==m?void 0:m.controlIngestConfig)||void 0===l?void 0:l.sel)||void 0===s?void 0:s.pct)?(d.samplingPercentage=m.controlIngestConfig.sel.pct,d.samplingDecision=ur.SAMPLING_STATUS.DERIVED,null!=c(null===(u=null==m?void 0:m.controlIngestConfig)||void 0===u?void 0:u.act)&&(d.extraData=bt(bt({},d.extraData),{samplingActionConfig:m.controlIngestConfig.act}))):d.samplingDecision=ur.SAMPLING_STATUS.DEFAULT,"function"==typeof t&&"string"==typeof t()&&(d.samplingStatus=t()==ur.SAMPLING_MODES.RCFG)}catch(e){Gt.warn("Error occurred while generating diagnostic object",e),p=null;break e}p=d}if(!(o=!p)){var b;try{var w=null==e?void 0:e.getConfig(),_=(null===(b=null==w?void 0:w.di)||void 0===b?void 0:b.lim)||10,k=Date.now();6e4<=k-Lr&&(xr=0,Lr=k);var C=!(++xr>_)}catch(e){Gt.warn("Conviva Eco Sensor:: Error occured while checking diagnostic event is allowed",e),C=!1}o=!C}if(!o&&"boolean"==typeof(null===(i=null==a?void 0:a.di)||void 0===i?void 0:i.en)&&!0===(null===(r=null==a?void 0:a.di)||void 0===r?void 0:r.en))if(null==e);else{var E=e.track,T=U({event:{sc:"iglu:com.conviva/di/jsonschema/1-0-4",dt:G({msg:p.message,cn:p.className,st:p.stackTrace,en:p.exceptionName,ed:p.extraData,rcv:p.remoteConfigVersion,cat:p.configAppliedTime,cri:p.cacheRefreshInterval,csrc:p.configAppliedSrc,srn:p.samplingRandomNumber,spr:p.samplingPercentage,ss:p.samplingStatus,sd:p.samplingDecision})}});E.call(e,T)}}}catch(e){Gt.warn("Conviva Eco Sensor:: Error occurred while sending reportDiagnosticError",e)}}function xe(){var e,t,n=null===(e=null==Or?void 0:Or.core)||void 0===e?void 0:e.getConfig();jr=(null==(jr=(null===(t=null==n?void 0:n.clickcc)||void 0===t?void 0:t.cssSelectorList)||jr)?void 0:jr.replace(/\s+/g,""))||""}function Le(e,t){if(!(e instanceof HTMLElement||e instanceof SVGElement))return null;var n=null==e?void 0:e.closest(Br);if(n)return n;if(n=null==e?void 0:e.closest(jr))return function(e,t){var n;if(0===(e=e.querySelectorAll(Br)).length)return null;if(1===e.length&&0<e[0].offsetWidth&&0<e[0].offsetHeight)return e[0];var i=t.clientX;if(t=t.clientY,e.length<=("IntersectionObserver"in window&&"fetch"in window&&"Promise"in window?ur.MAX_NATIVE_SCAN:ur.MAX_NATIVE_SCAN_LEGACY))for(var r=0;r<e.length;r++){var o=null===(n=e[r])||void 0===n?void 0:n.getBoundingClientRect();if(o&&i>=o.left&&i<=o.right&&t>=o.top&&t<o.bottom)return e[r]}return null}(n,t)||n;t=e,n=0;var i=ur.CLICK_MAX_DEPTH;e:{if(t.style){if(t.style.visibility&&""!==t.style.visibility&&"hidden"==t.style.visibility||t.style.pointerEvents&&""!==t.style.pointerEvents&&"none"==t.style.pointerEvents){var r=!1;break e}if(t.style.cursor&&""!==t.style.cursor&&"pointer"==t.style.cursor){r=!0;break e}}r="hidden"!==(r=getComputedStyle(t)).visibility&&"none"!==r.pointerEvents&&"pointer"===r.cursor}if(r){for(;t&&t!==document.documentElement&&(t instanceof HTMLElement||t instanceof SVGElement)&&n<i;){if("function"==typeof t.onclick)return t;t=t.parentElement,n++}return e.closest(zr)||e}return null}function Me(e){try{if(!e||e.nodeType!==Node.ELEMENT_NODE)return null;if(e.id&&"string"==typeof e.id&&""!==e.id.trim()&&1===document.querySelectorAll("#".concat(function(e){return"undefined"!=typeof CSS&&CSS.escape?CSS.escape(e):e.replace(/[!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g,"\\$&")}(e.id))).length)return'//*[@id="'.concat(e.id,'"]');var t=[],n=e;for(e=function(){var e=n.tagName.toLowerCase(),i=n.parentElement;if(i){var r=Array.from(i.children).filter((function(t){return t.tagName.toLowerCase()===e}));1<r.length&&(r=r.indexOf(n)+1,e+="[".concat(r,"]")),t.unshift(e),n=i}else{if(!((i=n.getRootNode())instanceof ShadowRoot))return t.unshift(e),"break";t.unshift(e),t.unshift(">>"),n=i.host}};n&&n.nodeType===Node.ELEMENT_NODE&&"break"!==e(););return"/"+t.join("/")}catch(e){return Gt.warn("Conviva Browser Tracker caused Exception in calculateXPath method of user click tracking module",e),null}}function De(e){try{var t=Date.now(),n=ur.CLICK_DEBOUNCING_DELAY;if(null===qr||t-qr>=n){var i,r,o,a,l,s,c;try{var u,d;if(null!==(u=e.target)&&void 0!==u&&u.shadowRoot)var f=null===(d=e.composedPath)||void 0===d?void 0:d.call(e);var v=function(e,t){var n,i;try{if(!Or||!Or.core||!e)return null;var r=Or.core.getConfig();if(!0!==(null===(n=null==r?void 0:r.clickcc)||void 0===n?void 0:n.en))return null;var o=null===(i=null==r?void 0:r.clickcc)||void 0===i?void 0:i.uiMode;return o===Ir.RAW?e:o===Ir.BOTH?Le(e,t)||e:Le(e,t)}catch(e){return Gt.warn("Conviva App Tracker caused Exception in getTrackedElement method of user click tracking module",e),null}}(f&&f[0]||e.target,e);if(v&&(v instanceof HTMLElement||v instanceof HTMLInputElement)){e={};var g=ur.CLICK_KEY_MAX_LENGTH;null!=v&&v.id&&(e.id=de(v.id,g)),null!=v&&v.className&&(e.class=de(v.className,g)),null!=v&&v.tagName&&(e.elementName=de(v.tagName.toLowerCase(),g)),null!==(i=null==v?void 0:v.innerText)&&void 0!==i&&i.trim()&&(e.text=de(v.innerText.trim(),g)),null!=v&&v.getAttribute("name")&&(e.name=de(v.getAttribute("name")||"",g)),null!=v&&v.getAttribute("type")&&(e.elementType=de((null===(r=v.getAttribute("type"))||void 0===r?void 0:r.toLowerCase())||"",g)),null!=v&&v.placeholder&&(e.placeholder=de(v.placeholder,g)),null!=v&&v.getAttribute("type")&&"password"!==(null==v?void 0:v.getAttribute("type"))&&v.value&&(e.value=de(v.value,g));var h=null===(o=null==Or?void 0:Or.core)||void 0===o?void 0:o.getConfig(),p=null===(a=null==h?void 0:h.clickcc)||void 0===a?void 0:a.collectattr;if(p)for(i=0;i<p.length;i++){var m=p[i],y=null==v?void 0:v.getAttribute(m);y&&(e[m]=de(y,g))}try{if("A"===v.tagName.toUpperCase()||"AREA"===v.tagName.toUpperCase()){if(null!=v.href){var b=v.hostname||$(v.href),w=b.toLowerCase(),_=v.href.replace(b,w);/^(javascript|vbscript|jscript|mocha|livescript|ecmascript|mailto):/i.test(_)||(e.targetUrl=de(decodeURIComponent(_),g))}v.target&&(e.target=de(v.target,g))}}catch(e){Gt.warn("Conviva App Tracker caused Exception in handleClick href setting",e)}var k=null===(l=v.querySelector("use"))||void 0===l?void 0:l.getAttribute("xlink:href");k&&(e["xlink:href"]=de(k,g));var C=Me(v);C&&(e.xpath=de(C,g));var E=null!==(s=null==h?void 0:h.clickcc)&&void 0!==s?s:{},T=Cr.CUSTOM_EVENT,S=E.collect,A=E.block;if(l=null,S&&(l=Oe(S,e,T)),A&&null===l){var R=Oe(A,e,T);"boolean"==typeof R&&(l=!R)}var N=null===l||l;"boolean"==typeof N&&!1===N||null===(c=null==Or?void 0:Or.core)||void 0===c||c.track(q({name:"conviva_click",data:JSON.stringify(e)}))}}catch(e){Gt.warn("Conviva App Tracker caused Exception in handleClick method of user click tracking module",e)}0<Gr&&Ie(Or.core,Or.getSamplingMode,{className:"clickTracking - droppedEvent",message:"total click events dropped to Avoid tracking spam from rapid clicks",extraData:{clickEventDropped:Gr}}),Gr=0}else Gr++;qr=t}catch(e){console.warn("Conviva App Tracker caused Exception in immediateClickHandler method of user click tracking module",e)}}function Pe(){try{Pr||"undefined"==typeof document||(document.body?(Ur=De,ne(document.body,"click",Ur,{signal:gr,capture:!0,passive:!0}),Pr=!0):document.addEventListener("DOMContentLoaded",(function(){null!==document&&void 0!==document&&document.body&&(Ur=De,ne(document.body,"click",Ur,{signal:gr,capture:!0,passive:!0}),Pr=!0)})),xe(),null!==window&&void 0!==window&&window.addEventListener&&window.addEventListener("RemoteConfigUpdateApplied",(function(){xe()}),{signal:gr}))}catch(e){Gt.warn("Conviva App Tracker caused Exception in enableUserClickTracking method of user click tracking module",e)}}function Ue(){try{Pr&&"undefined"!=typeof document&&document.body&&(Ur&&(document.body.removeEventListener("click",Ur),Ur=null),Pr=!1)}catch(e){Gt.warn("Conviva App Tracker caused Exception in disableUserClickTracking method of user click tracking module",e)}}function qe(e,t,n,i){return!(null==n||!n.enabled||null==n||!n.attributeExtraction)&&(!!(e=function(e,t,n){var i,r,o,a,l,s,c;if(e&&0<e.length){var u={targetUrl:null===(i=null==t?void 0:t.requestDetails)||void 0===i?void 0:i.url};for(i=0;i<e.length;i++){var f=e[i],v=f.conditions;f=d(f,["conditions"]);try{if(ge(u,v)){v=0;for(var g=Object.entries(f);v<g.length;v++){var h=g[v],p=h[0],m=h[1];try{if(m&&0<f[p].length){if(p===vr.response_headers&&(u[p]=null===(r=null==t?void 0:t.responseDetails)||void 0===r?void 0:r.headers,Array.isArray(m)))for(var y=0,b=m;y<b.length;y++){var w=b[y],_=be(u[p],w);if(null!=_)return _}if(p===vr.request_headers&&(u[p]=null===(o=null==t?void 0:t.requestDetails)||void 0===o?void 0:o.headers,Array.isArray(m)))for(y=0,b=m;y<b.length;y++)if(w=b[y],null!=(_=be(u[p],w)))return _;if(p===vr.request_body){var k=mr(null===(a=null==t?void 0:t.requestDetails)||void 0===a?void 0:a.headers);if((void 0!==k&&(k.toLowerCase().includes("text/plain")||k.toLowerCase().includes("json")||k.toLowerCase().includes("text/javascript")||k.toLowerCase().includes("application/javascript")||k.toLowerCase().includes("text/html"))||void 0===k)&&(u[p]=null===(l=null==t?void 0:t.requestDetails)||void 0===l?void 0:l.body,Array.isArray(m)))for(y=0,b=m;y<b.length;y++)if(w=b[y],null!=(_=be(u[p],w)))return _}if(p===vr.response_body){var C=mr(null===(s=null==t?void 0:t.responseDetails)||void 0===s?void 0:s.headers);if(void 0!==C&&(C.toLowerCase().includes("text/plain")||C.toLowerCase().includes("json")||C.toLowerCase().includes("text/javascript")||C.toLowerCase().includes("application/javascript")||C.toLowerCase().includes("text/html"))&&(u[p]=null===(c=null==t?void 0:t.responseDetails)||void 0===c?void 0:c.body,Array.isArray(m)))for(y=0,b=m;y<b.length;y++)if(w=b[y],null!=(_=be(u[p],w)))return _}if(p===vr.request_query&&(pe(u,n),Array.isArray(m)))for(y=0,b=m;y<b.length;y++)if(w=b[y],null!=(_=be(u[p],w)))return _}}catch(e){console.warn("Conviva App Tracker: Error in extracting attributes nwreqConfig ".concat(e))}}}}catch(e){console.warn("Conviva App Tracker: Error in collecting attributes nwreqConfig ".concat(e))}}}}(n.attributeExtraction,{requestDetails:e,responseDetails:t}))&&(i.setConversationId("string"==typeof e?e:JSON.stringify(e)),!0))}function Ge(e,t,n,i,r,o,a){var l,s,c;return void 0===o&&(o={}),f(this,void 0,void 0,(function(){var u,d,f,g,h,p,m,y,b,w,_,k,C,E,T,S,A;return v(this,(function(v){switch(v.label){case 0:u=null!==(l=o.idleMs)&&void 0!==l?l:3e4,d=null!==(s=o.maxEvents)&&void 0!==s?s:1e4,f=null!==(c=o.bufferMaxBytes)&&void 0!==c?c:1e6,g=e.getReader(),h=new TextDecoder("utf-8"),p="",m=0,y=void 0,(b=function(){void 0!==y&&(clearTimeout(y),y=void 0),y=setTimeout((function(){console.warn("Conviva App Tracker:: stream idle >",u,"ms  cancelling",t),g.cancel()}),u)})(),v.label=1;case 1:v.trys.push([1,5,6,7]),v.label=2;case 2:return[4,g.read()];case 3:if(w=v.sent(),_=w.value,w.done)return[3,4];if(b(),p+=h.decode(_,{stream:!0}),(new TextEncoder).encode(p).length>f)return console.warn("Conviva App Tracker:: SSE buffer exceeded",f,"bytes, cancelling stream",t),g.cancel(),[3,4];for(k=void 0;-1!==(k=p.search(n));)if(C=p.slice(0,k).replace(/\s+$/,""),T=(E=p.match(n))?E[0].length:0,p=p.slice(k+T),(S=i(C))&&(r(S),++m>=d)){console.warn("Conviva App Tracker:: event budget reached  cancelling",t),g.cancel();break}return[3,2];case 4:return[3,7];case 5:if(!((A=v.sent())instanceof DOMException&&"AbortError"===A.name))throw A;return[3,7];case 6:return clearTimeout(y),g.releaseLock(),a&&a(),[7];case 7:return[2]}}))}))}function Be(e){var t={data:""},n=0;for(e=e.split(/\n+/);n<e.length;n++){var i=e[n];if(i&&!i.startsWith(":")){var r=i.indexOf(":"),o=(-1===r?i:i.slice(0,r)).trim();switch(i=-1===r?"":i.slice(r+1).replace(/^\s+/,""),o){case"data":t.data+=(t.data?"\n":"")+i;break;case"event":t.event=i;break;case"id":t.id=i}}}return t.data?t:null}function ze(e){return{data:e}}function He(e,t,n){var i={};for(n&&(n=new URL(n).searchParams,e||(e={}),n.forEach((function(t,n){e[n]=t}))),n=0,t=t.cond;n<t.length;n++){var r=t[n],o=be(e,r.key);if("string"==typeof o)for(var a=0,l=r.val;a<l.length;a++){var s=l[a],c=!1;switch(r.op){case"contains":default:c=o.toLowerCase().includes(s.toLowerCase());break;case"==":case"equals":c=o===s;break;case"startsWith":c=o.startsWith(s);break;case"endsWith":c=o.endsWith(s)}c&&(i[r.type]||(i[r.type]={}),i[r.type][s]=c)}}return i}function je(e){for(var t=[e],n=0,i=["\r\n","\n","\0"];n<i.length;n++){var r=i[n];if(e.includes(r)){t=e.split(r).filter((function(e){return 0<e.trim().length}));break}}return t}function Fe(e,t,n,i,r,o,a,l,s,u,d,f,v,g,h,p,m,y,b){function w(e){var t=Object.keys(e).map((function(t){return[t,e[t]]})).reduce((function(e,t){return e[t[0]]=t[1].toString(),e}),{});return{evt:t,bytes:_(JSON.stringify(t))}}function _(e){for(var t=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);127>=i?t+=1:2047>=i?t+=2:55296<=i&&57343>=i?(t+=4,n++):t=65535>i?t+3:t+4}return t}function k(e,t){t=T(t,!0,!1),e=S(A([e.evt]));try{h().toLowerCase()!==br.NONE&&(e=cr.gzip(e,{level:6}),t.setRequestHeader("Content-Encoding",br.GZIP))}catch(e){}b()!==ur.SAMPLING_MODES.NONE&&t.send(e)}function C(e){try{if("undefined"!=typeof window&&void 0!==window.__CONVIVA_VISUAL_ACTIVATION_EXTENSION__&&"function"==typeof window.__CONVIVA_VISUAL_ACTIVATION_EXTENSION__.postMessage){var t=S(A(e));t&&0<t.length&&window.__CONVIVA_VISUAL_ACTIVATION_EXTENSION__.postMessage(t)}}catch(e){Gt.warn("Error occured while sending message to Visual Labelling Extension",e)}}function E(e){for(void 0===e&&(e=!1);L.length&&"string"!=typeof L[0]&&"object"!==c(L[0]);)L.shift();if(1>L.length)x=!1;else{if(!Y(N))throw"No collector configured";if(x=!0,window.clearTimeout(M),M=-1,U){var t=function(e){for(var t=0,n=0;t<e.length&&!((n+=e[t].bytes)>=m());)t+=1;return t},i=void 0,r=void 0;if("object"===c(L[0])){var o=T(i=N,!0,e);r=t(L)}else i=R(L[0]),o=T(i,!1,e),r=1;var a=setTimeout((function(){o.abort(),x=!1}),u);if(o.onreadystatechange=function(){4===o.readyState&&(clearTimeout(a),200<=o.status&&300>o.status?E():(Gt.error("Status ".concat(o.status,", will not retry.")),x=!1))},"object"!==c(L[0]))o.send();else if(0<(t=L.slice(0,r)).length){if(e=!1,t=t.map((function(e){return e.evt})),P){var l=new Blob([S(A(t))],{type:"application/json"});try{e=navigator.sendBeacon(i,l)}catch(t){e=!1}}if(!0===e)E();else{i=S(A(t));try{h().toLowerCase()!==br.NONE&&(i=cr.gzip(i,{level:6}),o.setRequestHeader("Content-Encoding",br.GZIP))}catch(e){}try{b()!==ur.SAMPLING_MODES.NONE&&o.send(i)}catch(e){}}}!function(e){for(var t=0;t<e;t++)L.shift();n&&re(B,JSON.stringify(L.slice(-1*s())))}(r)}else if(d||"object"===c(L[0]))x=!1;else{r=new Image(1,1);var f=!0;r.onload=function(){f&&(f=!1,L.shift(),n&&re(B,JSON.stringify(L.slice(-1*s()))),E())},r.onerror=function(){f&&(x=f=!1)},r.src=R(L[0]),setTimeout((function(){f&&x&&(f=!1,E())}),u)}}}function T(e,t,n){var i=new XMLHttpRequest;for(var r in t?(i.open("POST",e,!n),i.setRequestHeader("Content-Type","application/json; charset=UTF-8")):i.open("GET",e,!n),i.withCredentials=v,d&&i.setRequestHeader("SP-Anonymous","*"),f)Object.prototype.hasOwnProperty.call(f,r)&&i.setRequestHeader(r,f[r]);return i}function S(e){return JSON.stringify({sc:"sp/pd/1-0-4",dt:e})}function A(e){for(var t=(new Date).getTime().toString(),n=0;n<e.length;n++)e[n].stm=t;return e}function R(e){return l?N+e.replace("?","?stm="+(new Date).getTime()+"&"):N+e}null!==window&&void 0!==window&&window.addEventListener&&window.addEventListener("RemoteConfigUpdateApplied",(function(){E()}),{signal:gr});var N,O,I,x=!1,L=[],M=-1,D=!0===(i="string"==typeof i?i.toLowerCase():i)||"beacon"===i||"true"===i,P=!(!(D&&window.navigator&&window.navigator.sendBeacon)||(O=window.navigator.userAgent,(I=(I=O).match(/\(iP.+; CPU .*OS (\d+)[_\d]*.*\) AppleWebKit\//))&&I.length&&parseInt(I[0])<=13||function(e,t,n){return!(!(n=n.match("(Macintosh;.*Mac OS X (\\d+)_(\\d+)[_\\d]*.*) AppleWebKit/"))||!n.length)&&(parseInt(n[2])<=e||parseInt(n[2])===e&&parseInt(n[3])<=t)}(10,15,O)&&function(e){var t;return(t=/^(?!.*Chrome)(?!.*Chromium)(?!.*Edg)(?!.*OPR)(?=.*Safari)/.test(e))&&(t=!/(Chrome|Chromium|Edg|OPR)/.test(e)),t}(O)))&&D,U=!(!window.XMLHttpRequest||!("withCredentials"in new XMLHttpRequest)),q="get"!==i&&U&&("post"===i||D),G=q?r:"/i";i="convivaOutQueue_".concat(e,"_").concat(q?"post2":"get");var B="convivaOutQueue_".concat(e,"_").concat(q?"post2":"get");if(se(i),se("".concat(i,".expires")),D&&(f={}),o=n&&function(){try{var e=!!window.localStorage}catch(t){e=!0}if(!e)return!1;try{var t=window.localStorage;return t.setItem("modernizr","modernizr"),t.removeItem("modernizr"),!0}catch(e){return!1}}()&&q&&o||1,n)try{var z=window.localStorage.getItem(B);L=z?JSON.parse(z):[]}catch(O){}return Array.isArray(L)||(L=[]),t.outQueues.push(L),U&&1<o&&t.bufferFlushers.push((function(e){x||E(e)})),{enqueueRequest:function(e,t,i){if(b()!=ur.SAMPLING_MODES.NONE){if(N=t+G,q){if(C([(e=w(e)).evt]),t=m(),e.bytes>=t)return x||E(),Gt.warn("Event ("+e.bytes+"B) too big, max is "+t),void k(e,N);L.push(e)}else{var l,c="?",u={co:!0,cx:!0},d=!0;for(l in e)e.hasOwnProperty(l)&&!u.hasOwnProperty(l)&&(d?d=!1:c+="&",c+=encodeURIComponent(l)+"="+encodeURIComponent(e[l]));for(var f in u)e.hasOwnProperty(f)&&u.hasOwnProperty(f)&&(c+="&"+f+"="+encodeURIComponent(e[f]));if(0<(u=a())&&(d=_(d=R(c)))>=u)return Gt.warn("Event ("+d+"B) too big, max is "+u),void(U&&(e=w(e),C([e.evt]),k(e,t+r)));L.push(c)}t=!1,n&&(t=re(B,JSON.stringify(L.slice(-1*s())))),!x&&-1===M&&t&&(M=window.setTimeout(E,y()+Math.floor(Math.random()*g))),!x&&(!t||!p()||q&&(q?L.reduce((function(e,t){return e+t.bytes}),0):L.reduce((function(e,t){return e+t.length}),0))>m()||L.length>o||i)&&E()}},executeQueue:function(){x||E()},setUseLocalStorage:function(e){n=e},setAnonymousTracking:function(e){d=e},setCollectorUrl:function(e){N=e+G},setBufferSize:function(e){o=e},setCustomHeaders:function(e){f=e}}}function Ve(e){try{null!=Kr&&Kr.isAllowedToSendEvent()&&Ke({message:e.message,filename:e.filename,lineno:e.lineno,colno:e.colno,error:e.error})}catch(e){console.warn("Conviva App Tracker caused Exception in captureError method of error tracking module",e)}}function We(e){try{null!=Kr&&Kr.isAllowedToSendEvent()&&Ke({message:e.reason})}catch(e){console.warn("Conviva App Tracker caused Exception in captureRejection method of error tracking module",e)}}function Ke(e){var t,n,i=e.message,r=e.filename,o=e.lineno,a=e.colno,l=e.error,s=e.context;if(e=e.timestamp,l=l&&l.stack?l.stack:void 0,!(void 0===i||null===i&&void 0===l||null===l&&void 0===o||null===o&&void 0===a||null===a&&void 0===r||null===r)){var c=null===(t=null==Wr?void 0:Wr.core)||void 0===t?void 0:t.getConfig();null!=c&&c.exceptionAutotracking&&(null===(n=null==Wr?void 0:Wr.core)||void 0===n||n.track(U({event:{sc:"sp/ae/1-0-1",dt:{programmingLanguage:"JAVASCRIPT",message:i?fo(i,2048):"JS Exception.",stackTrace:l?fo(l,8192):"",lineNumber:o,lineColumn:a,fileName:r}}}),s,e))}}function Ze(e){return e=new URL(e,location.href),"".concat(e.origin).concat(e.pathname).concat(e.search).concat(e.hash)}function Je(e){var t=(e=e.split("#"))[1];return{originPathSearch:e[0],hash:null!=t?t:""}}function Ye(e,t){return new Promise((function(n){var i=function(){var r=performance.now();if(r-e>=go.maxMeasurementMs)n(r);else{var o=performance.now()-((null==ho?void 0:ho.lastLongTaskTs)||0)>=t,a=0===((null==mo?void 0:mo.getInflightRequests())||0);o&&a?n(r):requestAnimationFrame(i)}};setTimeout((function(){return requestAnimationFrame(i)}),50)}))}function Xe(e){var t=history[e];history[e]=function(n,i,r){return n=t.call(this,n,i,r),Qe(e,null!=r?r:location.href),n}}function Qe(e,t){if(ho){if(t=Ze(t),!go.includeHashChanges){var n=Je(ho.lastUrlKey),i=Je(t);if(n.originPathSearch===i.originPathSearch&&n.hash!==i.hash)return}t===ho.lastUrlKey&&"replaceState"!==e||(ho.lastUrlKey=t,ho.currentMeasurement&&(ho.currentMeasurement=null),function(e,t){f(this,void 0,void 0,(function(){var n,i,r,o,a;return v(this,(function(l){switch(l.label){case 0:return ho&&po?(n=++ho.navSeq,i=performance.now(),ho.currentMeasurement={id:n,startTime:i,urlKey:t,trigger:e},[4,Ye(i,go.idleWindowMs)]):[2];case 1:if(r=l.sent(),!ho.currentMeasurement||ho.currentMeasurement.id!==n)return[2];o=Math.round((r-i)/1e3*100)/100,a={load_time:o,page_url:t,trigger:e,navigation_id:n,start_time:Math.round(i/1e3*100)/100,end_time:Math.round(r/1e3*100)/100};try{po.trackCustomEvent({name:"conviva_soft_navigation",data:a})}catch(e){}return ho.currentMeasurement=null,[2]}}))}))}(e,t))}}function $e(e){var t,n,i;try{var r=null===(t=null==e?void 0:e.core)||void 0===t?void 0:t.getConfig();if(function(e){var t,n,i,r,o;null!=e&&e.softNavigationTrackingConfiguration&&(e=e.softNavigationTrackingConfiguration,go=bt(bt({},vo),{idleWindowMs:null!==(t=e.idleWindowMs)&&void 0!==t?t:vo.idleWindowMs,maxMeasurementMs:null!==(n=e.maxMeasurementMs)&&void 0!==n?n:vo.maxMeasurementMs,includeHashChanges:null!==(i=e.includeHashChanges)&&void 0!==i?i:vo.includeHashChanges,domainAllowlist:null!==(r=e.domainAllowlist)&&void 0!==r?r:vo.domainAllowlist,domainBlocklist:null!==(o=e.domainBlocklist)&&void 0!==o?o:vo.domainBlocklist,requireLcp:vo.requireLcp,lcpTimeoutMs:vo.lcpTimeoutMs}))}(r),(null!==(i=null===(n=null==r?void 0:r.softNavigationTrackingConfiguration)||void 0===n?void 0:n.enabled)&&void 0!==i?i:wr.softNavigationTrackingConfiguration.enabled)&&(null==e?void 0:e.getSamplingMode())!==ur.SAMPLING_MODES.NONE){var o=location.hostname;go.domainAllowlist.length&&!go.domainAllowlist.some((function(e){return o.endsWith(e)}))||go.domainBlocklist.some((function(e){return o.endsWith(e)}))||(ho={lastLongTaskTs:0,lastLcpTs:0,currentMeasurement:null,navSeq:0,patched:!1,lastUrlKey:Ze(location.href)},po=e,mo=so.getInstance(e.trackNetworkRequest,e.trackerConfiguration,e.getSamplingMode),function(){if(ho&&!ho.patched){ho.patched=!0;try{new PerformanceObserver((function(e){var t=0;for(e=e.getEntries();t<e.length;t++)ho.lastLongTaskTs=performance.now()})).observe({entryTypes:["longtask"]})}catch(e){}try{var e=new PerformanceObserver((function(e){var t=0;for(e=e.getEntries();t<e.length;t++)ho.lastLcpTs=e[t].startTime}));e.observe({type:"largest-contentful-paint",buffered:!0}),null===window||void 0===window||window.addEventListener("pagehide",(function(){try{e.disconnect()}catch(e){}}))}catch(e){}}}(),Xe("pushState"),Xe("replaceState"),addEventListener("popstate",(function(){return Qe("popstate",location.href)}),{signal:gr}),addEventListener("hashchange",(function(){return Qe("hashchange",location.href)}),{signal:gr}),document.addEventListener("DOMContentLoaded",(function(){ho&&(ho.lastUrlKey=Ze(location.href))}),{signal:gr}))}}catch(e){}}function et(){if(!yo)return!1;var e=yo.core.getConfig();return!0===(null==(e=null==e?void 0:e.valueProbes)?void 0:e.enabled)}function tt(e){return new Promise((function(t){return setTimeout(t,e)}))}function nt(e){return e=new URL(e,location.href),"".concat(e.origin).concat(e.pathname).concat(e.search).concat(e.hash)}function it(e){var t=e.emit||"once_per_view";return"always"===t||("once_per_session"===t?!_o.has(e.id):"once_per_view"===t&&!ko.has(e.id))}function rt(e,t){if(!t)return!0;var n=t.key,i=t.op;t=t.val;var r=("class"===n?e.className||"":"id"===n?e.id||"":e.getAttribute(n)||"").toLowerCase();return e=Array.isArray(t)?t.map((function(e){return String(e).toLowerCase()})):[String(t).toLowerCase()],"=="===i?e.includes(r):"contains"===i&&e.some((function(e){return r.includes(e)}))}function ot(e){return f(this,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:if(!et())return[2];if(10<=Co)return Eo.push(e),[2];Co++,t.label=1;case 1:return t.trys.push([1,,3,4]),[4,at(e)];case 2:return t.sent(),[3,4];case 3:return Co--,0<Eo.length&&ot(Eo.shift()),[7];case 4:return[2]}}))}))}function at(e){var t,n,i;return f(this,void 0,void 0,(function(){var r,o,a,l,s,c,u,d,f,g,h,p,m,y,b,w;return v(this,(function(v){switch(v.label){case 0:if(!et()||!it(e))return[2];r=Date.now(),o=[0,50,200],a=null!==(n=null===(t=e.strategy)||void 0===t?void 0:t.maxTotalMs)&&void 0!==n?n:1e3,l=null!==(i=e.strategy)&&void 0!==i&&i.retries&&0<e.strategy.retries.length?e.strategy.retries:o;for(var _=e.id,k=0,C=0;C<_.length;C++)k=(k<<5)-k+_.charCodeAt(C),k&=k;s=Math.abs(k)%100,c=0,u=[],g=f=d=0,v.label=1;case 1:return g<l.length?(h=l[g],0<(p=0===g?0:Math.max(0,h+2*(s%20/20-.5)*Math.min(.1*h,5)))?[4,tt(p)]:[3,3]):[3,5];case 2:v.sent(),v.label=3;case 3:if(Date.now()-r>=a)return[3,5];c++,_=e.conditions,k=[],C=0;for(var E=e.selectors;C<E.length;C++){var T=E[C];try{var S=document.querySelectorAll(T);for(T=0;T<S.length;T++){var A=S[T];rt(A,_)&&k.push(A)}if(0<k.length)break}catch(e){}}0<(m=k).length&&0===u.length&&(u=m,d=Date.now()-r,f=c),v.label=4;case 4:return g++,[3,1];case 5:if(0<u.length){for(y=e.emit||"once_per_view",b=0,w=u;b<w.length;b++){var R=w[b];if(v=e,S=d,A=f,yo)try{if(yo.getSamplingMode()!==ur.SAMPLING_MODES.NONE){var N=void 0,O=void 0,I=R,x=v,L={};if(k=ur.CLICK_KEY_MAX_LENGTH,I.id&&(L.id=de(I.id,k)),I.className&&(L.class=de(I.className,k)),I.tagName&&(L.elementName=de(I.tagName.toLowerCase(),k)),null!==(O=I.innerText)&&void 0!==O&&O.trim()&&(L.text=de(I.innerText.trim(),k)),I.getAttribute("name")&&(L.name=de(I.getAttribute("name")||"",k)),I.getAttribute("type")&&(L.elementType=de((null===(N=I.getAttribute("type"))||void 0===N?void 0:N.toLowerCase())||"",k)),null!=I&&I.placeholder&&(L.placeholder=de(I.placeholder,k)),"password"!==I.getAttribute("type")&&I.value&&(L.value=de(I.value,k)),x.collectAttributes&&0<x.collectAttributes.length)for(N=0,C=x.collectAttributes;N<C.length;N++)E=C[N],(T=I.getAttribute(E))&&(L[E]=de(T,k));_=L;e:{var M=v.selectors;for(I=0;I<M.length;I++){var D=M[I];try{if(R.matches(D)){var P=D;break e}}catch(e){}}P=null}var U={probeId:v.id,selectorMatched:P||v.selectors[0]||"",timestamp:Date.now(),attemptCount:A,discoveryTime:S,method:1===A?"immediate":"retry"},G=bt(bt({},_),U);yo.core.track(q({name:"conviva_dom_value_probe",data:JSON.stringify(G)}))}}catch(e){Gt.warn("Conviva App Tracker: Error emitting probe event",e)}}_=e.id,"once_per_session"===(k=y||"once_per_view")?_o.add(_):"once_per_view"===k&&ko.add(_)}return[2]}}))}))}function lt(e){if(et()&&yo&&0!==e.length){var t=0;for(e=e.filter((function(e){return it(e)}));t<e.length;t++)ot(e[t])}}function st(){var e;if(et()&&yo){var t=yo.core.getConfig(),n=null==t?void 0:t.valueProbes;null!=n&&n.enabled&&null!==(e=null==n?void 0:n.probes)&&void 0!==e&&e.length&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",(function(){et()&&requestAnimationFrame((function(){return lt(n.probes)}))})):et()&&requestAnimationFrame((function(){return lt(n.probes)})))}}function ct(e,t){var n;et()&&yo&&((t=nt(t))===nt(location.href)&&"replaceState"!==e||(ko.clear(),null!=(e=null==(e=yo.core.getConfig())?void 0:e.valueProbes)&&e.enabled&&null!==(n=null==e?void 0:e.probes)&&void 0!==n&&n.length&&(0<(n=e.probes.filter((function(e){return"once_per_view"===(e.emit||"once_per_view")}))).length&&lt(n))))}function ut(e){try{yo=e,(null==e?void 0:e.getSamplingMode())!==ur.SAMPLING_MODES.NONE&&et()&&(function(){if(et()&&!bo&&yo){var e=history.pushState,t=history.replaceState;history.pushState=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.apply(this,t),et()&&ct("pushState",location.href)},history.replaceState=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.apply(this,e),et()&&ct("replaceState",location.href)},ne(window,"popstate",(function(){et()&&ct("popstate",location.href)}),{signal:gr}),bo=!0}}(),"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("RemoteConfigUpdateApplied",(function(){wo?et()?(_o.clear(),ko.clear(),st()):(_o.clear(),ko.clear()):wo=!0}),{signal:gr}),st())}catch(e){Gt.warn("Conviva App Tracker: Error enabling DOM value probe",e)}}function dt(e,t){return No.get(e)||No.set(e,new t),No.get(e)}function ft(e){var t,n;try{var i=Jr.core.getConfig();if(!0===(null===(t=null==i?void 0:i.webVitals)||void 0===t?void 0:t.enabled)){var r="conviva_webvitals_".concat(e.name.toLowerCase()),o={value:e.value,rating:e.rating,delta:e.delta,id:e.id,navigationType:e.navigationType,attribution:vt(e,(null===(n=null==i?void 0:i.webVitals)||void 0===n?void 0:n.collectattr)||[])};Jr.core.track(q({name:r,data:JSON.stringify(o)}))}}catch(e){console.warn("Error sending Web Vitals event",e)}}function vt(e,t){var n=e.attribution;if(n){var i={};return(e={LCP:"target",INP:"interactionTarget",CLS:"largestShiftTarget"}[e.name])&&null!=n[e]&&(i[e]=n[e]),t.forEach((function(e){if(e){var t=e.split("."),r=n;for(e=0;e<t.length;e++){var o=t[e];if(!r||"object"!==c(r)||!(o in r))return;r=r[o]}var a=i;t.forEach((function(e,n){n===t.length-1?a[e]=r:("object"===c(a[e])&&null!==a[e]||(a[e]={}),a=a[e])}))}})),Object.keys(i).length?i:void 0}}function gt(e,t,n,i,r){void 0===r&&(r={});var o=[];e=function(e,t,n,i,r){function l(){(at=we(window.location.hostname,window.location.href,te()))[1]!==st&&(ct=te(st)),lt=ee(at[0]),st=at[1]}function s(e){try{var t=(new Date).getTime(),n=e.currentTarget;if(null!=n&&n.href){e="_cnv="+$e+"."+t;var i=n.href.split("#"),r=i[0].split("?"),o=r.shift(),a=r.join("?");if(a){r=!0;var l=a.split("&");for(t=0;t<l.length;t++)if("_cnv="===l[t].substr(0,5)){r=!1,l[t]=e,a=l.join("&");break}r&&(a=e+"&"+a)}else a=e;i[0]=o+"?"+a;var s=i.join("#");n.href=s}}catch(e){console.warn("Conviva App Tracker:: Error in linkDecorationHandler of decorateLinks ".concat(e))}}function u(e){if("undefined"!=typeof document&&document.links&&0<document.links.length)for(var t=0;t<document.links.length;t++){var n=document.links[t];!n.spDecorationEnabled&&e(n)&&(ne(n,"click",s,!0),ne(n,"mousedown",s,!0),n.spDecorationEnabled=!0)}}function f(e){if(Ge){var t=/#.*/;e=e.replace(t,"")}return Be&&(t=/[{}]/g,e=e.replace(t,"")),e}function v(e){return(e=/^([a-z]+):/.exec(e))?e[1]:null}function p(e){if(e=_t+e+"."+Qe,"localStorage"==Lt){try{var t=window.localStorage,n=t.getItem(e+".expires");if(null===n||+n>Date.now())var i=t.getItem(e);else t.removeItem(e),t.removeItem(e+".expires"),i=void 0}catch(e){i=void 0}return i}if("cookie"==Lt||"cookieAndLocalStorage"==Lt)return le(e)}function m(){l(),Qe=Ft((kt||lt)+(Ct||"/")).slice(0,4)}function y(){Fe=(new Date).getTime()}function b(){var e=_(),t=e[0];t<Ze?Ze=t:t>Je&&(Je=t),(e=e[1])<Ye?Ye=e:e>Xe&&(Xe=e),y()}function _(){var e="undefined"!=typeof document?null===document||void 0===document?void 0:document.documentElement:void 0;return e?[e.scrollLeft||window.pageXOffset,e.scrollTop||window.pageYOffset]:[0,0]}function k(){var e=_(),t=e[0];Je=Ze=t,Xe=Ye=e=e[1]}function C(){T(_t+"ses."+Qe,"*",Nt)}function E(e){var t=_t+"id."+Qe;e.shift(),T(t,e=e.join("."),Rt)}function T(e,t,n){xt&&!Ot||("localStorage"==Lt?re(e,t,n):("cookie"==Lt||"cookieAndLocalStorage"==Lt)&&le(e,t,n,Ct,kt,Et,Tt))}function S(e){var t=_t+"id."+Qe,n=_t+"ses."+Qe;oe(t),oe(n),ae(t,kt,Et,Tt),ae(n,kt,Et,Tt),null!=e&&e.preserveSession||(et=Pt.v4(),qt=1),null!=e&&e.preserveUser||($e=Pt.v4(),tt=null)}function A(e){e&&e.stateStorageStrategy&&(r.stateStorageStrategy=e.stateStorageStrategy,Lt=xe(r)),xt=!!r.anonymousTracking,Ot=Le(r),It=Me(r),Bt.setUseLocalStorage("localStorage"==Lt||"cookieAndLocalStorage"==Lt),Bt.setAnonymousTracking(It)}function R(){var e;try{var t=null;if(null!==(e=null==r?void 0:r.configs)&&void 0!==e&&e.enableClIdInCookies){e:{e="Conviva_sdkConfig";try{var n=le(e);if(n&&0<n.length){try{if("string"==typeof n&&0!==n.length&&/%[0-9A-Fa-f]{2}/.test(n))var i=decodeURIComponent(n),o=!/%[0-9A-Fa-f]{2}/.test(i);else o=!1}catch(e){o=!1}if(!o){var a=n;break e}ae(e,L(),"None",!0)}a=window.localStorage.getItem(e)}catch(e){Gt.warn("getConvivaCookie",e),a=null}}a&&(t=a)}else try{ae("Conviva_sdkConfig",L(),"None",!0)}catch(e){}t||(t=window.localStorage.getItem("Conviva.sdkConfig"));var l=JSON.parse(t||"{}");"{}"===l||void 0===l?He=M():(He=l.clId||M(),2147483648<=Mt?Mt=-1:Mt++);try{je=Math.floor(2147483647*Math.random())}catch(e){console.warn(e),je=-1}var s=bt(bt({},l),{clId:He,iid:je});e:{var c;try{t=null;try{t=JSON.stringify(s)}catch(e){break e}if(window.localStorage.setItem("Conviva.sdkConfig",t),null!==(c=null==r?void 0:r.configs)&&void 0!==c&&c.enableClIdInCookies){s=t;try{var u=L();le("Conviva_sdkConfig",s,void 0,"/",u,"None",!0)}catch(e){Gt.warn("setConvivaCookie",e)}}}catch(e){}}}catch(e){Gt.warn("getEventIndexByClid",e)}xt&&!Ot||(u="none"!=Lt&&!!p("ses"),(s=N())[1]?c=s[1]:(c=xt?"":Pt.v4(),s[1]=c),$e=c,et=u?s[6]:_e(s),qt=s[3],"none"!=Lt&&(C(),ke(s),E(s)))}function N(){return"none"==Lt?["1","",0,0,0,void 0,"","","",void 0]:function(e,t,n,i){var r=Math.round((new Date).getTime()/1e3);e?(e=e.split(".")).unshift("0"):e=["1",t,r,i,r,"",n],e[6]&&"undefined"!==e[6]||(e[6]=Pt.v4()),e[7]&&"undefined"!==e[7]||(e[7]=""),e[8]&&"undefined"!==e[8]||(e[8]=""),e[9]&&"undefined"!==e[9]||(e[9]=""),e[10]&&"undefined"!==e[10]||(e[10]=-1);var o=function(e,t){return e=parseInt(e),isNaN(e)?t:e};return t=function(e){return e?o(e,void 0):void 0},[e[0],e[1],o(e[2],r),o(e[3],i),o(e[4],r),t(e[5]),e[6],e[7],e[8],t(e[9])]}(p("id")||void 0,$e,et,qt)}function O(e,t){var n,i,o,a,l=!0,s=ot.getConfig();return void 0!==s.mend?l=s.mend:void 0!==(null===(i=null===(n=null==r?void 0:r.configs)||void 0===n?void 0:n.network)||void 0===i?void 0:i.mergeEndpoint)&&(l=null===(a=null===(o=null==r?void 0:r.configs)||void 0===o?void 0:o.network)||void 0===a?void 0:a.mergeEndpoint),0===e.indexOf("http")?(t&&l&&(e=e.replace(/^(https?:\/\/)(.*)$/,"$1"+t+".$2")),e):t&&l?("https:"===document.location.protocol?"https":"http")+"://"+t+"."+e:("https:"===document.location.protocol?"https":"http")+"://"+e}function I(){zt&&null!=i.pageViewId||(i.pageViewId=Pt.v4())}function x(){return null==i.pageViewId&&(i.pageViewId=Pt.v4()),i.pageViewId}function L(){var e=window.location.hostname,t=e.split(".");return 2<=t.length?"."+t.slice(-2).join("."):e}function M(){try{return B({"First Launch":"Yes"}),Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()}catch(e){console.warn(e)}}function D(e){try{return"object"===c(JSON.parse(e))}catch(e){return!1}}function B(e){try{var t=Object.keys(e);D(JSON.stringify(e))?t.forEach((function(t){if(""!==t.trim()){var n=e[t];n&&""!==n&&(n="object"===c(n)?JSON.stringify(n):""+n,Object.defineProperty(pt,t,{value:n,writable:!0,enumerable:!0,configurable:!0}))}})):console.warn("Conviva AppTracker:: Invalid JSON Format")}catch(e){console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",e)}}function z(e){try{e.forEach((function(e){delete pt[e]}))}catch(e){console.warn("Conviva AppTracker:: Failed to unset Custom tag(s). Check format of keys set.")}}function H(){var e,t,n,i,o,l,s,c,u,d,f,v,h,p,m,y,b,w,_,k,C,E,T,S,A,R,N,O,I,x,L,M;try{var D=null===(e=null==a?void 0:a.core)||void 0===e?void 0:e.getConfig();e=void 0,mt={};var P=Yr.MERGE;switch(void 0!==(null===(n=null===(t=null==r?void 0:r.configs)||void 0===t?void 0:t.metaTagsTracking)||void 0===n?void 0:n.preference)?P=null===(o=null===(i=null==r?void 0:r.configs)||void 0===i?void 0:i.metaTagsTracking)||void 0===o?void 0:o.preference:!0===(null===(s=null===(l=null==r?void 0:r.configs)||void 0===l?void 0:l.metaTagsTracking)||void 0===s?void 0:s.force)?P=Yr.APP:void 0!==(null===(c=null==D?void 0:D.metaTagsTrackingConfiguration)||void 0===c?void 0:c.pref)&&(P=null===(u=null==D?void 0:D.metaTagsTrackingConfiguration)||void 0===u?void 0:u.pref),P){case Yr.APP:if(!1===(null===(f=null===(d=null==r?void 0:r.configs)||void 0===d?void 0:d.metaTagsTracking)||void 0===f?void 0:f.enabled))return;0<(null===(p=null===(h=null===(v=null==r?void 0:r.configs)||void 0===v?void 0:v.metaTagsTracking)||void 0===h?void 0:h.tags)||void 0===p?void 0:p.length)&&(e=g([],null===(y=null===(m=null==r?void 0:r.configs)||void 0===m?void 0:m.metaTagsTracking)||void 0===y?void 0:y.tags,!0));break;case Yr.REMOTE:if(!1===(null===(b=null==D?void 0:D.metaTagsTrackingConfiguration)||void 0===b?void 0:b.enabled))return;void 0!==(null==D?void 0:D.metaTagsTrackingConfiguration)&&0<(null===(_=null===(w=null==D?void 0:D.metaTagsTrackingConfiguration)||void 0===w?void 0:w.tags)||void 0===_?void 0:_.length)&&(e=g([],null===(k=null==D?void 0:D.metaTagsTrackingConfiguration)||void 0===k?void 0:k.tags,!0));break;default:if(void 0===(null==D?void 0:D.metaTagsTrackingConfiguration)&&!1===(null===(E=null===(C=null==r?void 0:r.configs)||void 0===C?void 0:C.metaTagsTracking)||void 0===E?void 0:E.enabled)||void 0===(null===(T=null==r?void 0:r.configs)||void 0===T?void 0:T.metaTagsTracking)&&!1===(null===(S=null==D?void 0:D.metaTagsTrackingConfiguration)||void 0===S?void 0:S.enabled))return;var U=null===(R=null===(A=null==r?void 0:r.configs)||void 0===A?void 0:A.metaTagsTracking)||void 0===R?void 0:R.tags,q=null===(N=null==D?void 0:D.metaTagsTrackingConfiguration)||void 0===N?void 0:N.tags;!1===(null===(I=null===(O=null==r?void 0:r.configs)||void 0===O?void 0:O.metaTagsTracking)||void 0===I?void 0:I.enabled)&&(U=[]),!1===(null===(x=null==D?void 0:D.metaTagsTrackingConfiguration)||void 0===x?void 0:x.enabled)&&(q=[]),e=g([],function(e,t){return g(g([],e,!0),t,!0).reduce((function(e,t){var n=e.find((function(e){return e.key===t.key}));return n?t.condition&&(n.condition=g(g([],n.condition||[],!0),t.condition,!0)):e.push(bt({},t)),e}),[])}(U||[],q||[]),!0)}if(void 0!==e&&0<(null==e?void 0:e.length)){t={};var G=null===document||void 0===document?void 0:document.head,B=null==G?void 0:G.getElementsByTagName("meta");if(void 0!==B&&0<(null==B?void 0:B.length))for(G=0;G<B.length;G++){var z=B[G];for(n=0;n<e.length;n++){var H=z.getAttribute(e[n].key),j=z.getAttribute(e[n].value);i=void 0,null!==(L=e[n])&&void 0!==L&&L.condition&&(i=null===(M=e[n])||void 0===M?void 0:M.condition),H&&(i&&i.includes(H)?t[H]=j:i&&0!==i.length||(t[H]=j))}}a.setMetaCustomTags(t)}}catch(e){console.warn("Conviva App Tracker:: setPageMetaTagsAsCustomTags",e)}}function j(e,t,n){var i=function(t,n){var i;l();var o=null===(i=null==a?void 0:a.core)||void 0===i?void 0:i.getConfig();o.enablePeriodicHeartbeat?(null!=o.periodicHeartbeatInterval&&((i=1e3*o.periodicHeartbeatInterval)!=e.configHeartBeatTimer&&(e.configHeartBeatTimer=i,window.clearInterval(e.activityInterval),e.activityInterval=window.setInterval(r,i))),t({context:n,pageViewId:x(),minXOffset:Ze,minYOffset:Ye,maxXOffset:Je,maxYOffset:Xe})):window.clearInterval(e.activityInterval),k()};window.setTimeout((function(){i(e.callback,(t||[]).concat(n?n():[]))}),2e3);var r=function(){var r=new Date;(!1===(null===document||void 0===document?void 0:document.hidden)||"visible"==(null===document||void 0===document?void 0:document.visibilityState)||null!==document&&void 0!==document&&document.pictureInPictureElement||Fe+e.configHeartBeatTimer>r.getTime()||!0===Vt)&&i(e.callback,(t||[]).concat(n?n():[]))};e.activityInterval=window.setInterval(r,e.configHeartBeatTimer)}function F(e){var t=e.minimumVisitLength,n=e.heartbeatDelay;if(e=e.callback,X(t)&&X(n))return{configMinimumVisitLength:1e3*t,configHeartBeatTimer:1e3*n,callback:e};Gt.error("Activity tracking minimumVisitLength & heartbeatDelay must be integers")}function V(e){var t=e.context,n=e.minXOffset,i=e.minYOffset,r=e.maxXOffset,o=e.maxYOffset;if((e=document.title)!==yt&&(yt=e,qe=void 0),it()!==ur.SAMPLING_MODES.NONE){W();var a=(e=ot).track,l=f(Pe||st),s=Q(qe||yt),c=f(De||ct);n=Math.round(n),r=Math.round(r),i=Math.round(i),o=Math.round(o);var u=h();u.add("e","pp"),u.add("url",l),u.add("page",s),u.add("refr",c),n&&!isNaN(Number(n))&&u.add("pp_mix",n.toString()),r&&!isNaN(Number(r))&&u.add("pp_max",r.toString()),i&&!isNaN(Number(i))&&u.add("pp_miy",i.toString()),o&&!isNaN(Number(o))&&u.add("pp_may",o.toString()),a.call(e,u,t)}}function W(){var e,t,n=null===(t=null==a?void 0:a.core)||void 0===t?void 0:t.getConfig().pageUrlTrackingConfig;if(t=pt[ur.PAGE_URL_QUERY_PARAMS],n){var i={targetUrl:f(Pe||st),rqq:{}};i=fe(i,null==n?void 0:n.collectattr,null,null==n?void 0:n.maxQueryLength),(!t&&i.rqq||t!==JSON.stringify(i.rqq))&&(z([ur.PAGE_URL_QUERY_PARAMS]),function(e){try{var t=Object.keys(e);D(JSON.stringify(e))?t.forEach((function(t){if(""!==t.trim()){var n=e[t];n&&""!==n&&("object"!==c(n)&&(n=""+n),Object.defineProperty(pt,t,{value:n,writable:!0,enumerable:!0,configurable:!0}))}})):console.warn("Conviva AppTracker:: Invalid JSON Format")}catch(e){console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",e)}}(((e={})[ur.PAGE_URL_QUERY_PARAMS]=i.rqq,e)))}else t&&z([ur.PAGE_URL_QUERY_PARAMS])}var K,Z,J,Y,se,de,ve,ge,he,pe,me,ye,be,Te,Se,Ae;if(window&&window.localStorage){var Re=window.localStorage,Ne={sensorVersion:n,ck:null!==(K=r.convivaCustomerKey)&&void 0!==K?K:""};Ne=JSON.stringify(Ne),Ne="function"==typeof btoa?btoa(Ne):function(e){e=unescape(encodeURIComponent(e));for(var t="",n=0;n<e.length;){var i=e.charCodeAt(n++),r=e.charCodeAt(n++),o=e.charCodeAt(n++),a=i>>2;i=(3&i)<<4|r>>4,r=isNaN(r)?64:(15&r)<<2|o>>6,o=isNaN(o)?64:63&o,t+=Ut.charAt(a)+Ut.charAt(i)+Ut.charAt(r)+Ut.charAt(o)}return t}(Ne),Re.setItem(ur.VISUAL_LABELLING_CONFIG,Ne)}var Oe=dr;Oe&&gr||("function"==typeof AbortController&&(dr=new AbortController),gr=null==dr?void 0:dr.signal),t||(t="CAT");var Ie=io(n,t,r).convivaRemoteTrackerConfig;null===(Z=Ce(Ie.performanceContextConfig))||void 0===Z||Z.activateLCPObserver(),r.eventMethod=null!==(J=r.eventMethod)&&void 0!==J?J:"post";var xe=function(e){var t;return null!==(t=e.stateStorageStrategy)&&void 0!==t?t:"cookieAndLocalStorage"},Le=function(e){var t,n;return"boolean"!=typeof e.anonymousTracking&&(null!==(n=!0===(null===(t=e.anonymousTracking)||void 0===t?void 0:t.withSessionTracking))&&void 0!==n&&n)},Me=function(e){var t,n;return"boolean"!=typeof e.anonymousTracking&&(null!==(n=!0===(null===(t=e.anonymousTracking)||void 0===t?void 0:t.withServerAnonymisation))&&void 0!==n&&n)};o.push({beforeTrack:function(e){var t=p("ses"),n=N();nt=!!ze&&!!le(ze),At||nt?S():("0"===n[0]?(et=t||"none"==Lt?n[6]:_e(n),qt=n[3]):(new Date).getTime()-Dt>1e3*Nt&&(qt++,et=_e(n,qt)),ke(n),e.add("uid",xt?null:tt),l(),e.add("refr",f(De||ct)),document&&(yt=document.title,t=Q(qe||yt),e.add("page",t)),e.add("url",f(Pe||st)),"none"!=Lt&&(E(n),C()),Dt=(new Date).getTime())}}),o.push({contexts:function(){return[{sc:"cv/clid/1-0-2",dt:{clid:He,iid:je.toString(),ck:gt,eventIndex:Mt++}}]}}),o.push({contexts:function(){return[{sc:"cv/ct/1-0-0",dt:{data:bt(bt({},pt),mt)}}]}}),o.push({contexts:function(){var e,t=null===(e=null==a?void 0:a.core)||void 0===e?void 0:e.getConfig();return!0===(null==t?void 0:t.applicationContext)?[{sc:"spm/app/1-0-0",dt:{build:ht,version:ht}}]:[]}}),o.push({contexts:function(){var e={sch:"sdk.js.eco.1"};e.cat=fr.DeviceCategory.WEB;try{var t=null==r?void 0:r.deviceMetadata;if(t){var n=t.DeviceBrand,i=t.DeviceCategory,o=t.DeviceManufacturer,a=t.DeviceModel,l=t.DeviceType,s=t.DeviceVersion,c=t.OperatingSystemName,u=t.OperatingSystemVersion,d=t.FrameworkName,f=t.FrameworkVersion;"string"==typeof i&&Object.values(fr.DeviceCategory).includes(i)?e.cat=i:e.cat="INVALID"+(i?": ".concat(i):""),"string"==typeof n&&""!=n&&(e.dvb=n),"string"==typeof o&&""!=o&&(e.dvma=o),"string"==typeof a&&""!=a&&(e.dvm=a),l&&Object.values(fr.DeviceType).includes(l)&&(e.dvt=l),"string"==typeof s&&""!=s&&(e.dvv=s),"string"==typeof c&&""!=c&&(e.os=c),"string"==typeof u&&""!=u&&(e.osv=u),"string"==typeof d&&""!=d&&(e.fw=d),"string"==typeof f&&""!=f&&(e.fwv=f)}}catch(e){Gt.warn("error in setting platform metadata context",e)}return null!=e&&0<Object.keys(e).length?[{sc:"iglu:com.conviva/pm/jsonschema/1-0-2",dt:e}]:[]}});try{(null!==(Y=null==r?void 0:r.plugins)&&void 0!==Y?Y:[]).forEach((function(e){e.contexts||o.push(e)}))}catch(e){console.warn("ConvivaAppTracker : issue while processing customer passed pligins",e)}var De,Pe,qe,Ge,Be,ze,He,je,Fe,Ze,Je,Ye,Xe,Qe,$e,et,tt,nt,it=function(){var e;try{var t=null===(e=null==a?void 0:a.core)||void 0===e?void 0:e.getConfig();if(t){if(void 0===t.catRcLastUpdatedTs||0===t.catRcLastUpdatedTs)return ur.SAMPLING_MODES.RCFG;var n=t.controlIngestConfig?function(e){try{if(void 0===e.sel)return ce(),ur.SAMPLING_MODES.RCFG;var t=e.sel.pct;if("number"==typeof t&&100>t&&0<t&&0==t%1){if("undefined"!=typeof window&&void 0!==window.localStorage){var n=localStorage.getItem(ur.SAMPLING_STORAGE_RANDOM_NUMBER_KEY);if(null!=n)return parseFloat(n)<=t?ue(e,ur.SAMPLING_ACTION.SAMPLED):ue(e,ur.SAMPLING_ACTION.NON_SAMPLED);var i=100*Math.random();return localStorage.setItem(ur.SAMPLING_STORAGE_RANDOM_NUMBER_KEY,i.toString()),ue(e,i<t?ur.SAMPLING_ACTION.SAMPLED:ur.SAMPLING_ACTION.NON_SAMPLED)}return ur.SAMPLING_MODES.NONE}return"number"==typeof t&&0===t?(ce(),ur.SAMPLING_MODES.NONE):(ce(),ur.SAMPLING_MODES.RCFG)}catch(e){}return ur.SAMPLING_MODES.RCFG}(null==t?void 0:t.controlIngestConfig):ur.SAMPLING_MODES.RCFG;return"undefined"!=typeof window&&void 0!==window.localStorage&&localStorage.setItem(ur.SAMPLING_MODE_STORAGE_KEY,n),n}return ur.SAMPLING_MODES.RCFG}catch(e){return Gt.error("Error while getting sampling mode"),ur.SAMPLING_MODES.RCFG}},rt=function(e){if("object"===c(e)&&null!==e)return e;if("string"==typeof e)try{var t=JSON.parse(e);return t&&"object"===c(t)&&0===Object.keys(t).length?void 0:t}catch(e){}},ot=kr=P({base64:null==Ie?void 0:Ie.base64,corePlugins:o,callback:function(e){At||nt||Bt.enqueueRequest(e.build(),dt,function(e){var t,n,i,r=null!==(i=null===(n=null===(t=ot.getConfig().emitterConfiguration)||void 0===t?void 0:t.batching)||void 0===n?void 0:n.urgentEvents)&&void 0!==i?i:[],o=t="",a="",l="";return"string"==typeof(n=e.getPayload()).e&&(l=n.e),("ue"===l||"pv"===l||"pp"===l)&&(void 0!==(e=e.getJson().find((function(e){return"ue_pr"===e.keyIfNotEncoded||"ue_px"===e.keyIfEncoded})))&&("object"===c((e=e.json).dt)&&null!==e.dt&&("string"==typeof(e=e.dt).sc&&(t=e.sc),"object"===c(e.dt)&&"string"==typeof e.dt.name&&(o=e.dt.name)),a=t.split("/")[1]||""),r.some((function(e){return""!==(e=e.toLowerCase())&&(e===l.toLowerCase()||e===a.toLowerCase()||e===o.toLowerCase())})))}(e))},exceptionAutotracking:Ie.exceptionAutotracking,enablePeriodicHeartbeat:Ie.enablePeriodicHeartbeat,periodicHeartbeatInterval:Ie.periodicHeartbeatInterval,enc:Ie.enc,mend:Ie.mend,maxLocalStorageQueueSize:Ie.maxLocalStorageQueueSize,maxGetBytes:Ie.maxGetBytes,bufferSize:Ie.bufferSize,customEventTrackingConfiguration:Ie.customEventTrackingConfiguration,softNavigationTrackingConfiguration:Ie.softNavigationTrackingConfiguration,networkRequestTrackingConfiguration:Ie.networkRequestTrackingConfiguration,metaTagsTrackingConfiguration:Ie.metaTagsTrackingConfiguration,traceparentconfig:Ie.traceparentconfig,baggageConfiguration:Ie.baggageConfiguration,performanceContextConfig:Ie.performanceContextConfig,lifecycleAutotracking:Ie.lifecycleAutotracking,configurationVersion:Ie.configurationVersion,catRcLastUpdatedTs:Ie.catRcLastUpdatedTs,cacheRefreshInterval:Ie.cacheRefreshInterval,endpoint:Ie.endpoint,controlIngestConfig:Ie.controlIngestConfig,applicationContext:Ie.applicationContext,emitterConfiguration:Ie.emitterConfiguration,di:Ie.di,clickcc:Ie.clickcc,collectionRateLimit:Ie.collectionRateLimit,pageUrlTrackingConfig:Ie.pageUrlTrackingConfig,sessionReplayConfiguration:Ie.sessionReplayConfiguration,evtStreamTrackingConfiguration:Ie.evtStreamTrackingConfiguration,valueProbes:Ie.valueProbes,webVitals:Ie.webVitals}),at=we(window.location.hostname,window.location.href,te()),lt=ee(at[0]),st=at[1],ct=at[2],ut=null!==(se=r.platform)&&void 0!==se?se:"web",dt=O(Ie.endpoint,r.convivaCustomerKey),ft=null!==(de=r.postPath)&&void 0!==de?de:"/ctp",vt=null!==(ve=r.appId)&&void 0!==ve?ve:"",gt=null!==(ge=r.convivaCustomerKey)&&void 0!==ge?ge:"",ht=null!==(he=r.appVersion)&&void 0!==he?he:"",pt={},mt={},yt="undefined"!=typeof document?document.title:void 0,wt=null===(pe=r.resetActivityTrackingOnPageView)||void 0===pe||pe,_t=null!==(me=r.cookieName)&&void 0!==me?me:"_cnv_",kt=null!==(ye=r.cookieDomain)&&void 0!==ye?ye:void 0,Ct="/",Et=null!==(be=r.cookieSameSite)&&void 0!==be?be:"None",Tt=null===(Te=r.cookieSecure)||void 0===Te||Te,St=navigator.doNotTrack||navigator.msDoNotTrack||window.doNotTrack,At=void 0!==r.respectDoNotTrack&&(r.respectDoNotTrack&&("yes"===St||"1"===St)),Rt=null!==(Se=r.cookieLifetime)&&void 0!==Se?Se:63072e3,Nt=null!==(Ae=r.sessionCookieTimeout)&&void 0!==Ae?Ae:1800,Ot=Le(r),It=Me(r),xt=!!r.anonymousTracking,Lt=xe(r),Mt=-1,Dt=(new Date).getTime(),qt=1,Bt=co(e,i,Lt,r,ft,It,5e3,it),zt=!1,Ht=!1,jt={enabled:!0,installed:!1,configurations:{pagePing:{configMinimumVisitLength:5e3,configHeartBeatTimer:1e3*Ie.periodicHeartbeatInterval,callback:V}}},Vt=!1;r.hasOwnProperty("discoverRootDomain")&&r.discoverRootDomain&&(kt=function(e,t){for(var n=window.location.hostname,i="_cnv_root_domain_test_"+(new Date).getTime(),r="_test_value_"+(new Date).getTime(),o=n.split("."),a=o.length-1;0<=a;){var l=o.slice(a,o.length).join(".");if(le(i,r,0,"/",l,e,t),le(i)===r){for(ae(i,l,e,t),n=document.cookie.split("; "),i=[],r=0;r<n.length;r++)"_cnv_root_domain_test_"===n[r].substring(0,22)&&i.push(n[r]);for(n=i,i=0;i<n.length;i++)ae(n[i],l,e,t);return l}--a}return n}(Et,Tt)),ot.setTrackerVersion(n),ot.setAppId(vt),ot.setPlatform(ut),m(),R(),Bt.setCustomHeaders({"x-client-id":""+He}),r.crossDomainLinker&&u(r.crossDomainLinker);var Wt={getDomainSessionIndex:function(){return qt},getPageViewId:function(){return x()},newSession:function(){var e=N();"0"===e[0]?(et="none"!=Lt?_e(e):e[6],qt=e[3],C()):(qt++,et=_e(e,qt)),ke(e),"none"!=Lt&&(E(e),C()),Dt=(new Date).getTime()},getCookieName:function(e){return _t+e+"."+Qe},getUserId:function(){return tt},getDomainUserId:function(){var e=N();return e&&1<e.length?e[1]:null},getDomainUserInfo:function(){return N()},setReferrerUrl:function(e){De=e},setCustomUrl:function(e){l();var t,n=st;v(e)?Pe=e:"/"===e.slice(0,1)?Pe=v(n)+"://"+$(n)+e:(0<=(t=(n=f(n)).indexOf("?"))&&(n=n.slice(0,t)),(t=n.lastIndexOf("/"))!==n.length-1&&(n=n.slice(0,t+1)),Pe=n+e)},setDocumentTitle:function(e){yt=document.title,qe=e},discardHashTag:function(e){Ge=e},discardBrace:function(e){Be=e},setCookiePath:function(e){Ct=e,m()},setVisitorCookieTimeout:function(e){Rt=e},crossDomainLinker:function(e){u(e)},enableActivityTracking:function(e){jt.configurations.pagePing||(jt.enabled=!0,jt.configurations.pagePing=F(bt(bt({},e),{callback:V})))},enableActivityTrackingCallback:function(e){jt.configurations.callback||(jt.enabled=!0,jt.configurations.callback=F(e))},updatePageActivity:function(){y()},setOptOutCookie:function(e){ze=e},setUserId:function(e){tt=e},setConversationId:function(e){ot.setConversationId(e)},setUserIdFromLocation:function(e){l(),tt=ie(e,st)},setUserIdFromReferrer:function(e){l(),tt=ie(e,ct)},setUserIdFromCookie:function(e){tt=le(e)},setCollectorUrl:function(e,t){dt=O(e,t),Bt.setCollectorUrl(dt)},setBufferSize:function(e){Bt.setBufferSize(e)},flushBuffer:function(e){void 0===e&&(e={}),Bt.executeQueue(),e.newBufferSize&&Bt.setBufferSize(e.newBufferSize)},trackPageView:function(e){var t;void 0===e&&(e={}),H();var n=null===(t=null==a?void 0:a.core)||void 0===t?void 0:t.getConfig();try{e=bt(bt({},e),{context:Ce(null==n?void 0:n.performanceContextConfig).contexts()})}catch(e){console.warn("Conviva App Tracker:: error adding performacetiming context to page view",e)}var i=e.title;if(t=e.context,n=e.timestamp,e=e.contextCallback,l(),Ht&&I(),Ht=!0,yt=document.title,i=Q((qe=i)||yt),it()!==ur.SAMPLING_MODES.NONE){W();var r=ot,o=r.track,s=f(Pe||st),c=f(De||ct),u=h();u.add("e","pv"),u.add("url",s),u.add("page",i),u.add("refr",c),o.call(r,u,(t||[]).concat(e?e():[]),n)}},trackPagePing:function(e){void 0===e&&(e={}),function(e){var t=e.context;e=e.contextCallback;var n=new Date,i=!1;if(jt.enabled&&!jt.installed){i=jt.installed=!0;var r={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0},set:function(){}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),r.hasSupport=e}}};r.update();var o="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";Object.prototype.hasOwnProperty.call(r,"hasSupport")?ne(document,o,y,{passive:!0}):ne(document,o,y),k(),o=function(e,t){return void 0===t&&(t=y),function(e){return ne(document,e,t)}},"click mouseup mousedown mousemove keypress keydown keyup".split(" ").forEach(o(document)),["resize","focus","blur"].forEach(o(window)),o(window,b)("scroll")}if(jt.enabled&&(wt||i))for(n in Fe=n.getTime(),n=void 0,jt.configurations)(i=jt.configurations[n])&&(window.clearInterval(i.activityInterval),j(i,t,e))}(e)},trackVideoEvent:function(e){var t,n,i;void 0===e&&(e={});try{var r=this.core.getConfig(),o=!1;if(null!==(n=null===(t=null==r?void 0:r.customEventTrackingConfiguration)||void 0===t?void 0:t.enabled)&&void 0!==n?n:wr.customEventTrackingConfiguration.enabled)if(""==e.name||null==e.name)console.warn("Conviva App Tracker:: Video event could not be tracked due to missing name property!!");else{e.ced=rt(e.ced),e.old=rt(e.old),e.new=rt(e.new),e.tags=rt(e.tags),e.cen&&ur.V2A_CUSTOM_EVENTS.includes(e.name)&&(e.name=e.cen,o=!0);var a=null===(i=null==r?void 0:r.customEventTrackingConfiguration)||void 0===i?void 0:i.blocklist;if(!(null!=a&&a.includes("*")||null!=a&&a.some((function(t){return 0<(null==t?void 0:t.length)&&e.name.toLowerCase().includes(t.toLowerCase())}))))if(!0===o){var l=e.name,s=d(e,["isTrusted","name","cen","new","old"]);this.core.track(q({name:l,data:JSON.stringify(s)}),e.context,e.timestamp)}else this.core.track(function(e){return U({event:{sc:"cv/ve/1-0-6",dt:G({name:e.name,sid:e.sid,iid:e.iid,clid:e.clid,st:e.st,sst:e.sst,an:e.an,cl:e.cl,lv:e.lv,pn:e.pn,vid:e.vid,fw:e.fw,fwv:e.fwv,mn:e.mn,mv:e.mv,url:e.url,tags:e.tags,cen:e.cen,ced:e.ced,oldsc:e.oldsc,newsc:e.newsc,err:e.err,br:e.br,ft:e.ft,avgbr:e.avgbr})}})}({name:e.name,sid:e.sid,iid:e.iid,clid:e.clid,st:e.st,sst:e.sst,an:e.an,cl:e.cl,lv:e.lv,pn:e.pn,vid:e.vid,fw:e.fw,fwv:e.fwv,mn:e.mn,mv:e.mv,url:e.url,tags:e.tags,cen:e.cen,ced:e.ced,oldsc:e.old,newsc:e.new,err:e.err,br:e.br,ft:e.ft,avgbr:e.avgbr}),e.context,e.timestamp)}}catch(e){console.warn("Conviva App Tracker:: Video event could not be tracked due to an exception!!",e)}},trackCustomEvent:function(e){var t,n,i,r,o;void 0===e&&(e={});try{if(it()!==ur.SAMPLING_MODES.NONE){var l=null===(t=null==a?void 0:a.core)||void 0===t?void 0:t.getConfig();if(null!==(i=null===(n=null==l?void 0:l.customEventTrackingConfiguration)||void 0===n?void 0:n.enabled)&&void 0!==i?i:wr.customEventTrackingConfiguration.enabled)if(!e.name||"string"==typeof e.name&&""==e.name.trim())console.warn("Conviva App Tracker:: custom event name is mandatory for trackCustomEvent API!!");else{var s=e.data;try{"string"!=typeof e.data&&(s=JSON.stringify(e.data))}catch(e){}var c=null===(r=null==l?void 0:l.customEventTrackingConfiguration)||void 0===r?void 0:r.blocklist;null!=c&&c.includes("*")||null!=c&&c.some((function(t){return 0<(null==t?void 0:t.length)&&e.name.toLowerCase().includes(t.toLowerCase())}))||null===(o=null==a?void 0:a.core)||void 0===o||o.track(q({name:e.name,data:s}),e.context,e.timestamp)}}}catch(e){console.warn("Conviva App Tracker:: Unable to track custom event! "+e)}},trackSSEEvent:function(e){var t;void 0===e&&(e={});try{it()!==ur.SAMPLING_MODES.NONE&&(null===(t=null==a?void 0:a.core)||void 0===t||t.track(q(e),e.context,e.timestamp))}catch(e){}},trackNetworkRequest:function(e){var t,n,i,r,o,l,s,c,u,d,f,v;void 0===e&&(e={});try{var g=null===(i=null==a?void 0:a.core)||void 0===i?void 0:i.getConfig().networkRequestTrackingConfiguration,h=e.responseDetails.responseTime-e.requestDetails.requestTime;try{h=parseFloat(h.toFixed(3))}catch(e){console.warn("Conviva App Tracker:: exception while converting duration to 3 decimal",e)}try{var p=fe(((t={targetUrl:null===(r=null==e?void 0:e.requestDetails)||void 0===r?void 0:r.url,method:null===(o=null==e?void 0:e.requestDetails)||void 0===o?void 0:o.method,responseStatusCode:null!==(l=null==e?void 0:e.responseDetails)&&void 0!==l&&l.status?e.responseDetails.status:0,responseStatusText:null!==(s=null==e?void 0:e.responseDetails)&&void 0!==s&&s.statusText?e.responseDetails.statusText:"ok"})[vr.request_headers]=null===(c=null==e?void 0:e.requestDetails)||void 0===c?void 0:c.headers,t[vr.response_headers]=null===(u=null==e?void 0:e.responseDetails)||void 0===u?void 0:u.headers,t.duration=h,t),null==g?void 0:g.collectattr,e,null==g?void 0:g.maxQueryLength,null==g?void 0:g.rbl);if(null!==(d=null==e?void 0:e.requestDetails)&&void 0!==d&&d[ur.TRACEPARENT_HEADER_KEY]){var m=((n={})[ur.TRACEPARENT_HEADER_KEY]=null===(f=null==e?void 0:e.requestDetails)||void 0===f?void 0:f[ur.TRACEPARENT_HEADER_KEY],n);p[vr.request_headers]=p[vr.request_headers]?bt(bt({},p[vr.request_headers]),m):m}if(null===(v=null==a?void 0:a.core)||void 0===v);else{var y=v.track,b=U({event:{sc:"cv/nr/1-0-5",dt:G({targetUrl:p.targetUrl,method:p.method,queryParameters:p.queryParameters,responseStatusCode:p.responseStatusCode,responseStatusText:p.responseStatusText,rqh:p.rqh,rsh:p.rsh,rqb:p.rqb,rsb:p.rsb,rqq:p.rqq,requestSize:p.requestSize,responseSize:p.responseSize,duration:p.duration,contentType:p.contentType,requestTimestamp:p.requestTimestamp,responseTimestamp:p.responseTimestamp})}});y.call(v,b,e.context,e.timestamp)}}catch(e){console.warn("Conviva App Tracker:: Network request could not be tracked due to an exception!!",e)}}catch(e){console.warn("Conviva App Tracker:: Network request could not be tracked due to an exception!!",e)}},trackButtonClick:function(e){var t,n,i;try{var r=null===(t=null==Or?void 0:Or.core)||void 0===t?void 0:t.getConfig();!0===(null===(n=null==r?void 0:r.clickcc)||void 0===n?void 0:n.en)&&(e.elementType="button",null===(i=null==Or?void 0:Or.core)||void 0===i||i.track(q({name:"conviva_click",data:JSON.stringify(e)}),w(void 0,void 0)))}catch(e){Gt.warn("Conviva App Tracker caused Exception in sendButtonClick method of user click tracking module",e)}},trackLinkClick:function(e){var t,n,i;try{var r=null===(t=null==Or?void 0:Or.core)||void 0===t?void 0:t.getConfig();!0===(null===(n=null==r?void 0:r.clickcc)||void 0===n?void 0:n.en)&&(e.elementType="link",null===(i=null==Or?void 0:Or.core)||void 0===i||i.track(q({name:"conviva_click",data:JSON.stringify(e)}),w(void 0,void 0)))}catch(e){Gt.warn("Conviva App Tracker caused Exception in sendLinkClick method of user click tracking module",e)}},trackErrorEvent:function(e){Ke(e)},setCustomTags:function(e){void 0===e&&(e={}),B(e)},setMetaCustomTags:function(e){void 0===e&&(e={}),function(e){try{var t=Object.keys(e);D(JSON.stringify(e))?t.forEach((function(t){""!==t&&Object.defineProperty(mt,t,{value:""+e[t],writable:!0,enumerable:!0,configurable:!0})})):console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=")}catch(e){console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",e)}}(e)},unsetCustomTags:function(e){void 0===e&&(e=[]),z(e)},preservePageViewId:function(){zt=!0},disableAnonymousTracking:function(e){r.anonymousTracking=!1,A(e),R(),Bt.executeQueue()},enableAnonymousTracking:function(e){var t;r.anonymousTracking=null===(t=e&&(null==e?void 0:e.options))||void 0===t||t,A(e),Ot||I()},clearUserData:S,setKeepAliveInBG:function(e){void 0===e&&(e=!1),Vt=e},clearTimers:function(){kr=null,Kt.cleanupNetworkRequestHandler();try{Wr=a,removeEventListener("error",Ve,!0),removeEventListener("unhandledrejection",We,!0)}catch(e){console.warn("Conviva App Tracker caused Exception in disableErrorTracking method of error tracking module",e)}if(Ue(),null==Oe||Oe.abort(),gr=dr=void 0,eo&&window.clearInterval(eo),jt.enabled){var e=void 0;for(e in jt.configurations){var t=jt.configurations[e];t&&window.clearInterval(t.activityInterval)}}a&&(a.core=null),this.tracker=null},getSamplingMode:it,getPageViewSent:function(){return Ht},setPageMetaTagsAsCustomTags:function(){H()},determineShouldTrack:function(e,t,n,i,r,o){return Ee(e,t,n,i,r,o)}};Vr=Wt;var Kt=so.getInstance(Wt,r,it);return Kt.initiateNetworkRequestTracking(),bt(bt({},Wt),{id:e,namespace:t,core:ot,sharedState:i})}(e,t,n,i,r);var a=bt(bt({},e),{addPlugin:function(e){var t,n,i;null===(t=null==a?void 0:a.core)||void 0===t||t.addPlugin(e),null===(i=(n=e.plugin).activateBrowserPlugin)||void 0===i||i.call(n,a)}});o.forEach((function(e){var t;null===(t=e.activateBrowserPlugin)||void 0===t||t.call(e,a)})),function(e,t){var n;if(void 0===t&&(t=!0),!1!==t){var i=null===(n=null==e?void 0:e.core)||void 0===n?void 0:n.getConfig();null==e||e.trackPagePing({context:Ce(null==i?void 0:i.performanceContextConfig).contexts()});try{var r=function(){null==e||e.trackCustomEvent({name:"conviva_window_loaded",data:"{}",context:Ce(null==i?void 0:i.performanceContextConfig).contexts()}),null==e||e.setPageMetaTagsAsCustomTags()},o=0,a=0;"complete"===document.readyState?setTimeout((function(){try{r()}catch(e){console.warn("ConvivaAppTracker : issue while detecting readyState complete",e)}}),0):null===window||void 0===window||window.addEventListener("load",(function(){setTimeout((function(){try{r()}catch(e){console.warn("ConvivaAppTracker : issue while registering window loaded event",e)}}),0)}),{signal:gr}),null===document||void 0===document||document.addEventListener("visibilitychange",(function(){var t,n;try{if((null==e?void 0:e.getSamplingMode())!==ur.SAMPLING_MODES.NONE)if("hidden"===document.visibilityState)setTimeout((function(){var t,n;try{var i=null===(t=null==e?void 0:e.core)||void 0===t?void 0:t.getConfig();if(a++,null!=i&&i.lifecycleAutotracking)if(null===(n=null==e?void 0:e.core)||void 0===n);else{var r=n.track,o=U({event:{sc:"sp/abg/1-0-0",dt:G({backgroundIndex:a})}});r.call(n,o)}"hidden"!==document.visibilityState||null!=e&&e.getPageViewSent()||null==e||e.trackCustomEvent({name:"conviva_app_backgrnd_before_page_view",data:"{}"})}catch(e){console.warn("ConvivaAppTracker : issue while tracking visibility change",e)}}),0);else{var i=null===(t=null==e?void 0:e.core)||void 0===t?void 0:t.getConfig();o++,null!=i&&i.lifecycleAutotracking&&(null===(n=null==e?void 0:e.core)||void 0===n||n.track(U({event:{sc:"sp/afg/1-0-0",dt:G({foregroundIndex:o})}})))}}catch(e){console.warn("convivaAppTracker visibilitychange failed "+e)}}),{signal:gr}),"undefined"!=typeof document&&document&&document.addEventListener&&document.addEventListener("convivaVideoEvent",(function(t){t&&e&&(null==e?void 0:e.getSamplingMode())!==ur.SAMPLING_MODES.NONE&&(null==e||e.trackVideoEvent(t))}),{signal:gr})}catch(e){console.warn("convivaAppTracker error in page load metrics"+e)}}}(a,null==r?void 0:r.enableCommonEvents),$e(a);try{Wr=a,function(){var e,t,n,i,r,o,a;try{var l=null===(e=null==Wr?void 0:Wr.core)||void 0===e?void 0:e.getConfig(),s=null===(n=null===(t=null==l?void 0:l.collectionRateLimit)||void 0===t?void 0:t.exceptionAutotracking)||void 0===n?void 0:n.maxEvents,c=null===(r=null===(i=null==l?void 0:l.collectionRateLimit)||void 0===i?void 0:i.exceptionAutotracking)||void 0===r?void 0:r.disconnectDuration,u=null===(a=null===(o=null==l?void 0:l.collectionRateLimit)||void 0===o?void 0:o.exceptionAutotracking)||void 0===a?void 0:a.timeWindow;Kr=new uo(s,c,u,null==Wr?void 0:Wr.core,null==Wr?void 0:Wr.getSamplingMode)}catch(e){console.warn("Conviva App Tracker caused Exception in initialiseRateLimiter method of error tracking module",e)}}(),null!==window&&void 0!==window&&window.addEventListener&&window.addEventListener("RemoteConfigUpdateApplied",(function(){var e,t,n,i,r,o,a,l=null===(e=null==Wr?void 0:Wr.core)||void 0===e?void 0:e.getConfig();e=null===(n=null===(t=null==l?void 0:l.collectionRateLimit)||void 0===t?void 0:t.exceptionAutotracking)||void 0===n?void 0:n.maxEvents,t=null===(r=null===(i=null==l?void 0:l.collectionRateLimit)||void 0===i?void 0:i.exceptionAutotracking)||void 0===r?void 0:r.disconnectDuration,i=null===(a=null===(o=null==l?void 0:l.collectionRateLimit)||void 0===o?void 0:o.exceptionAutotracking)||void 0===a?void 0:a.timeWindow,null==Kr||Kr.updateErrortRateLimitConfig(e,t,i)}),{signal:gr}),ne(window,"error",Ve,!0),ne(window,"unhandledrejection",We,!0)}catch(e){console.warn("Conviva App Tracker caused Exception in enableErrorTracking method of error tracking module",e)}Or=a,ut(a);try{Jr=a,aa(ft),ia(ft),Ko(ft)}catch(e){console.warn("Conviva App Tracker caused Exception in enabling Web Vitals tracking",e)}try{(null===window||void 0===window?void 0:window.self)===(null===window||void 0===window?void 0:window.top)&&null!==window&&void 0!==window&&window.addEventListener&&window.addEventListener("SessionRecordingStatus",(function(e){a.setCustomTags(e.detail)}),{signal:gr})}catch(e){}return a}function ht(e,t){try{mt(null!=e?e:Object.keys(la),la).forEach(t)}catch(e){Gt.error("Function failed",e)}}function pt(e,t,n,i,r){return la.hasOwnProperty(e)?null:(la[e]=gt(e,t,n,i,r),la[e])}function mt(e,t){for(var n=[],i=0;i<e.length;i++){var r=e[i];t.hasOwnProperty(r)?n.push(t[r]):Gt.warn(r+" not configured")}return n}function yt(){function e(){var e;if(!t.hasLoaded)for(t.hasLoaded=!0,e=0;e<t.registeredOnLoadHandlers.length;e++)t.registeredOnLoadHandlers[e]();return!0}var t=new sa,n=document,i=window;return ne(i,"beforeunload",(function(){try{t.bufferFlushers.forEach((function(e){e(!1)}))}catch(e){console.warn("Conviva App Tracker:: Error in flushBuffers of constructor ".concat(e))}}),!1),"loading"===document.readyState?(n.addEventListener?n.addEventListener("DOMContentLoaded",(function t(){n.removeEventListener("DOMContentLoaded",t,!1),e()})):n.attachEvent&&n.attachEvent("onreadystatechange",(function t(){"complete"===n.readyState&&(n.detachEvent("onreadystatechange",t),e())})),ne(i,"load",e,!1)):e(),t}var bt=function(){return bt=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},bt.apply(this,arguments)},wt={},_t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(_t){var kt=new Uint8Array(16);wt=function(){return _t(kt),kt}}else{var Ct=Array(16);wt=function(){for(var e,t=0;16>t;t++)0==(3&t)&&(e=4294967296*Math.random()),Ct[t]=e>>>((3&t)<<3)&255;return Ct}}for(var Et=[],Tt=0;256>Tt;++Tt)Et[Tt]=(Tt+256).toString(16).substr(1);var St,At,Rt=function(e,t){return t=t||0,[Et[e[t++]],Et[e[t++]],Et[e[t++]],Et[e[t++]],"-",Et[e[t++]],Et[e[t++]],"-",Et[e[t++]],Et[e[t++]],"-",Et[e[t++]],Et[e[t++]],"-",Et[e[t++]],Et[e[t++]],Et[e[t++]],Et[e[t++]],Et[e[t++]],Et[e[t++]]].join("")},Nt=wt,Ot=0,It=0,xt=wt,Lt=function(e,t,n){if(n=t&&n||0,"string"==typeof e&&(t="binary"===e?Array(16):null,e=null),(e=(e=e||{}).random||(e.rng||xt)())[6]=15&e[6]|64,e[8]=63&e[8]|128,t)for(var i=0;16>i;++i)t[n+i]=e[i];return t||Rt(e)};Lt.v1=function(e,t,n){n=t&&n||0;var i=t||[],r=(e=e||{}).node||St,o=void 0!==e.clockseq?e.clockseq:At;if(null==r||null==o){var a=Nt();null==r&&(r=St=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==o&&(o=At=16383&(a[6]<<8|a[7]))}a=void 0!==e.msecs?e.msecs:(new Date).getTime();var l=void 0!==e.nsecs?e.nsecs:It+1,s=a-Ot+(l-It)/1e4;if(0>s&&void 0===e.clockseq&&(o=o+1&16383),(0>s||a>Ot)&&void 0===e.nsecs&&(l=0),1e4<=l)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");for(Ot=a,It=l,At=o,e=(1e4*(268435455&(a+=122192928e5))+l)%4294967296,i[n++]=e>>>24&255,i[n++]=e>>>16&255,i[n++]=e>>>8&255,i[n++]=255&e,e=a/4294967296*1e4&268435455,i[n++]=e>>>8&255,i[n++]=255&e,i[n++]=e>>>24&15|16,i[n++]=e>>>16&255,i[n++]=o>>>8|128,i[n++]=255&o,o=0;6>o;++o)i[n+o]=r[o];return t||Rt(i)};var Mt,Dt,Pt=Lt.v4=Lt,Ut="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";(Dt=Mt||(Mt={}))[Dt.none=0]="none",Dt[Dt.error=1]="error",Dt[Dt.warn=2]="warn",Dt[Dt.debug=3]="debug",Dt[Dt.info=4]="info";var qt,Gt=function(e){return void 0===e&&(e=Mt.warn),{setLogLevel:function(t){e=Mt[t]?t:Mt.warn},warn:function(t,n){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];e>=Mt.warn&&"undefined"!=typeof console&&(r="Conviva: "+t,n?console.warn.apply(console,g([r+"\n",n],i,!1)):console.warn.apply(console,g([r],i,!1)))},error:function(t,n){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];e>=Mt.error&&"undefined"!=typeof console&&(r="Conviva: "+t+"\n",n?console.error.apply(console,g([r+"\n",n],i,!1)):console.error.apply(console,g([r],i,!1)))},debug:function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];e>=Mt.debug&&"undefined"!=typeof console&&console.debug.apply(console,g(["Conviva: "+t],n,!1))},info:function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];e>=Mt.info&&"undefined"!=typeof console&&console.info.apply(console,g(["Conviva: "+t],n,!1))}}}();!function(e){e.response_body="rsb",e.request_body="rqb",e.response_headers="rsh",e.request_headers="rqh",e.request_query="rqq"}(qt||(qt={}));var Bt={},zt={};!function(){var e={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(t){if(t.constructor==Number)return 16711935&e.rotl(t,8)|4278255360&e.rotl(t,24);for(var n=0;n<t.length;n++)t[n]=e.endian(t[n]);return t},randomBytes:function(e){for(var t=[];0<e;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,i=0;n<e.length;n++,i+=8)t[i>>>5]|=e[n]<<24-i%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var t=[],n=0;n<e.length;n+=3)for(var i=e[n]<<16|e[n+1]<<8|e[n+2],r=0;4>r;r++)8*n+6*r<=8*e.length?t.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i>>>6*(3-r)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],n=0,i=0;n<e.length;i=++n%4)0!=i&&t.push(("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(n-1))&Math.pow(2,-2*i+8)-1)<<2*i|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(n))>>>6-2*i);return t}};zt=e}();var Ht={utf8:{stringToBytes:function(e){return Ht.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(Ht.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}},jt=Ht;!function(){var e=zt,t=jt.utf8,n=jt.bin,i=function(i,r){var o=e.wordsToBytes,a=i;a.constructor==String?a=t.stringToBytes(a):"undefined"!=typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(a)?a=Array.prototype.slice.call(a,0):Array.isArray(a)||(a=a.toString()),i=e.bytesToWords(a);var l=8*a.length;a=[];var s=1732584193,c=-271733879,u=-1732584194,d=271733878,f=-1009589776;for(i[l>>5]|=128<<24-l%32,i[15+(l+64>>>9<<4)]=l,l=0;l<i.length;l+=16){for(var v=s,g=c,h=u,p=d,m=f,y=0;80>y;y++){if(16>y)a[y]=i[l+y];else{var b=a[y-3]^a[y-8]^a[y-14]^a[y-16];a[y]=b<<1|b>>>31}b=(s<<5|s>>>27)+f+(a[y]>>>0)+(20>y?1518500249+(c&u|~c&d):40>y?1859775393+(c^u^d):60>y?(c&u|c&d|u&d)-1894007588:(c^u^d)-899497514),f=d,d=u,u=c<<30|c>>>2,c=s,s=b}s+=v,c+=g,u+=h,d+=p,f+=m}return o=o.call(e,[s,c,u,d,f]),r&&r.asBytes?o:r&&r.asString?n.bytesToString(o):e.bytesToHex(o)};i._blocksize=16,i._digestsize=20,Bt=i}();var Ft=Bt,Vt=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Wt=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Kt=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Zt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Jt=Array(576);B(Jt);var Yt=Array(60);B(Yt);var Xt=Array(512);B(Xt);var Qt=Array(256);B(Qt);var $t=Array(29);B($t);var en=Array(30);B(en);var tn,nn,rn,on=function(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},an=function(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,on(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},ln=function(e,t,n){an(e,n[2*t],n[2*t+1])},sn=function(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(0<--t);return n>>>1},cn=function(e,t,n){var i,r=Array(16),o=0;for(i=1;15>=i;i++)o=o+n[i-1]<<1,r[i]=o;for(n=0;n<=t;n++)0!==(o=e[2*n+1])&&(e[2*n]=sn(r[o]++,o))},un=function(e){var t;for(t=0;286>t;t++)e.dyn_ltree[2*t]=0;for(t=0;30>t;t++)e.dyn_dtree[2*t]=0;for(t=0;19>t;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},dn=function(e){8<e.bi_valid?on(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},fn=function(e,t,n,i){var r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]},vn=function(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&fn(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!fn(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i},gn=function(e,t,n){var i=0;if(0!==e.sym_next)do{var r=255&e.pending_buf[e.sym_buf+i++];r+=(255&e.pending_buf[e.sym_buf+i++])<<8;var o=e.pending_buf[e.sym_buf+i++];if(0===r)ln(e,o,t);else{var a=Qt[o];ln(e,a+256+1,t);var l=Vt[a];0!==l&&(o-=$t[a],an(e,o,l)),a=256>--r?Xt[r]:Xt[256+(r>>>7)],ln(e,a,n),0!==(l=Wt[a])&&(r-=en[a],an(e,r,l))}}while(i<e.sym_next);ln(e,256,t)},hn=function(e,t){var n,i=t.dyn_tree,r=t.stat_desc.static_tree,o=t.stat_desc.has_stree,a=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<a;n++)0!==i[2*n]?(e.heap[++e.heap_len]=l=n,e.depth[n]=0):i[2*n+1]=0;for(;2>e.heap_len;){var s=e.heap[++e.heap_len]=2>l?++l:0;i[2*s]=1,e.depth[s]=0,e.opt_len--,o&&(e.static_len-=r[2*s+1])}for(t.max_code=l,n=e.heap_len>>1;1<=n;n--)vn(e,i,n);s=a;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],vn(e,i,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,i[2*s]=i[2*n]+i[2*r],e.depth[s]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,i[2*n+1]=i[2*r+1]=s,e.heap[1]=s++,vn(e,i,1)}while(2<=e.heap_len);e.heap[--e.heap_max]=e.heap[1],n=t.dyn_tree,s=t.max_code,r=t.stat_desc.static_tree,o=t.stat_desc.has_stree,a=t.stat_desc.extra_bits;var c,u=t.stat_desc.extra_base,d=t.stat_desc.max_length,f=0;for(c=0;15>=c;c++)e.bl_count[c]=0;for(n[2*e.heap[e.heap_max]+1]=0,t=e.heap_max+1;573>t;t++){var v=e.heap[t];if((c=n[2*n[2*v+1]+1]+1)>d&&(c=d,f++),n[2*v+1]=c,!(v>s)){e.bl_count[c]++;var g=0;v>=u&&(g=a[v-u]);var h=n[2*v];e.opt_len+=h*(c+g),o&&(e.static_len+=h*(r[2*v+1]+g))}}if(0!==f){do{for(c=d-1;0===e.bl_count[c];)c--;e.bl_count[c]--,e.bl_count[c+1]+=2,e.bl_count[d]--,f-=2}while(0<f);for(c=d;0!==c;c--)for(v=e.bl_count[c];0!==v;)(r=e.heap[--t])>s||(n[2*r+1]!==c&&(e.opt_len+=(c-n[2*r+1])*n[2*r],n[2*r+1]=c),v--)}cn(i,l,e.bl_count)},pn=function(e,t,n){var i,r=-1,o=t[1],a=0,l=7,s=4;for(0===o&&(l=138,s=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++){var c=o;o=t[2*(i+1)+1],++a<l&&c===o||(a<s?e.bl_tree[2*c]+=a:0!==c?(c!==r&&e.bl_tree[2*c]++,e.bl_tree[32]++):10>=a?e.bl_tree[34]++:e.bl_tree[36]++,a=0,r=c,0===o?(l=138,s=3):c===o?(l=6,s=3):(l=7,s=4))}},mn=function(e,t,n){var i,r=-1,o=t[1],a=0,l=7,s=4;for(0===o&&(l=138,s=3),i=0;i<=n;i++){var c=o;if(o=t[2*(i+1)+1],!(++a<l&&c===o)){if(a<s)do{ln(e,c,e.bl_tree)}while(0!=--a);else 0!==c?(c!==r&&(ln(e,c,e.bl_tree),a--),ln(e,16,e.bl_tree),an(e,a-3,2)):10>=a?(ln(e,17,e.bl_tree),an(e,a-3,3)):(ln(e,18,e.bl_tree),an(e,a-11,7));a=0,r=c,0===o?(l=138,s=3):c===o?(l=6,s=3):(l=7,s=4)}}},yn=!1,bn=function(e,t,n,i){an(e,i?1:0,3),dn(e),on(e,n),on(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},wn=function(e,t,n,i){var r,o=65535&e|0;for(e=e>>>16&65535|0;0!==n;){n-=r=2e3<n?2e3:n;do{e=e+(o=o+t[i++]|0)|0}while(--r);o%=65521,e%=65521}return o|e<<16|0},_n=new Uint32Array(function(){for(var e,t=[],n=0;256>n;n++){e=n;for(var i=0;8>i;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}()),kn=function(e,t,n,i){for(n=i+n,e^=-1;i<n;i++)e=e>>>8^_n[255&(e^t[i])];return-1^e},Cn={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},En={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},Tn=function(e,t,n){return e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(Qt[n]+256+1)]++,e.dyn_dtree[2*(256>t?Xt[t]:Xt[256+(t>>>7)])]++),e.sym_next===e.sym_end},Sn=En.Z_NO_FLUSH,An=En.Z_PARTIAL_FLUSH,Rn=En.Z_FULL_FLUSH,Nn=En.Z_FINISH,On=En.Z_BLOCK,In=En.Z_OK,xn=En.Z_STREAM_END,Ln=En.Z_STREAM_ERROR,Mn=En.Z_DATA_ERROR,Dn=En.Z_BUF_ERROR,Pn=En.Z_DEFAULT_COMPRESSION,Un=En.Z_FILTERED,qn=En.Z_HUFFMAN_ONLY,Gn=En.Z_RLE,Bn=En.Z_FIXED,zn=En.Z_DEFAULT_STRATEGY,Hn=En.Z_UNKNOWN,jn=En.Z_DEFLATED,Fn=function(e,t){return e.msg=Cn[t],t},Vn=function(e){for(var t=e.length;0<=--t;)e[t]=0},Wn=function(e,t,n){return(t<<e.hash_shift^n)&e.hash_mask},Kn=function(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},Zn=function(e,t){var n=0<=e.block_start?e.block_start:-1,i=e.strstart-e.block_start,r=0;if(0<e.level){for(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;31>=t;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;256>t;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),hn(e,e.l_desc),hn(e,e.d_desc),pn(e,e.dyn_ltree,e.l_desc.max_code),pn(e,e.dyn_dtree,e.d_desc.max_code),hn(e,e.bl_desc),r=18;3<=r&&0===e.bl_tree[2*Zt[r]+1];r--);e.opt_len+=3*(r+1)+14;var o=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3;a<=o&&(o=a)}else o=a=i+5;if(i+4<=o&&-1!==n)bn(e,n,i,t);else if(4===e.strategy||a===o)an(e,2+(t?1:0),3),gn(e,Jt,Yt);else{for(an(e,4+(t?1:0),3),n=e.l_desc.max_code+1,i=e.d_desc.max_code+1,r+=1,an(e,n-257,5),an(e,i-1,5),an(e,r-4,4),o=0;o<r;o++)an(e,e.bl_tree[2*Zt[o]+1],3);mn(e,e.dyn_ltree,n-1),mn(e,e.dyn_dtree,i-1),gn(e,e.dyn_ltree,e.dyn_dtree)}un(e),t&&dn(e),e.block_start=e.strstart,Kn(e.strm)},Jn=function(e,t){e.pending_buf[e.pending++]=t},Yn=function(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Xn=function(e,t,n,i){var r=e.avail_in;return r>i&&(r=i),0===r?0:(e.avail_in-=r,t.set(e.input.subarray(e.next_in,e.next_in+r),n),1===e.state.wrap?e.adler=wn(e.adler,t,r,n):2===e.state.wrap&&(e.adler=kn(e.adler,t,r,n)),e.next_in+=r,e.total_in+=r,r)},Qn=function(e,t){var n=e.max_chain_length,i=e.strstart,r=e.prev_length,o=e.nice_match,a=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,l=e.window,s=e.w_mask,c=e.prev,u=e.strstart+258,d=l[i+r-1],f=l[i+r];e.prev_length>=e.good_match&&(n>>=2),o>e.lookahead&&(o=e.lookahead);do{var v=t;if(l[v+r]===f&&l[v+r-1]===d&&l[v]===l[i]&&l[++v]===l[i+1]){for(i+=2,v++;l[++i]===l[++v]&&l[++i]===l[++v]&&l[++i]===l[++v]&&l[++i]===l[++v]&&l[++i]===l[++v]&&l[++i]===l[++v]&&l[++i]===l[++v]&&l[++i]===l[++v]&&i<u;);if(v=258-(u-i),i=u-258,v>r){if(e.match_start=t,r=v,v>=o)break;d=l[i+r-1],f=l[i+r]}}}while((t=c[t&s])>a&&0!=--n);return r<=e.lookahead?r:e.lookahead},$n=function(e){var t=e.w_size;do{var n=e.window_size-e.lookahead-e.strstart;if(e.strstart>=t+(t-262)){e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart);var i,r=e,o=r.w_size,a=i=r.hash_size;do{var l=r.head[--a];r.head[a]=l>=o?l-o:0}while(--i);a=i=o;do{l=r.prev[--a],r.prev[a]=l>=o?l-o:0}while(--i);n+=t}if(0===e.strm.avail_in)break;if(n=Xn(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=n,3<=e.lookahead+e.insert)for(n=e.strstart-e.insert,e.ins_h=e.window[n],e.ins_h=Wn(e,e.ins_h,e.window[n+1]);e.insert&&(e.ins_h=Wn(e,e.ins_h,e.window[n+3-1]),e.prev[n&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=n,n++,e.insert--,!(3>e.lookahead+e.insert)););}while(262>e.lookahead&&0!==e.strm.avail_in)},ei=function(e,t){var n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,i=0,r=e.strm.avail_in;do{var o=65535,a=e.bi_valid+42>>3;if(e.strm.avail_out<a)break;a=e.strm.avail_out-a;var l=e.strstart-e.block_start;if(o>l+e.strm.avail_in&&(o=l+e.strm.avail_in),o>a&&(o=a),o<n&&(0===o&&t!==Nn||t===Sn||o!==l+e.strm.avail_in))break;i=t===Nn&&o===l+e.strm.avail_in?1:0,bn(e,0,0,i),e.pending_buf[e.pending-4]=o,e.pending_buf[e.pending-3]=o>>8,e.pending_buf[e.pending-2]=~o,e.pending_buf[e.pending-1]=~o>>8,Kn(e.strm),l&&(l>o&&(l=o),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+l),e.strm.next_out),e.strm.next_out+=l,e.strm.avail_out-=l,e.strm.total_out+=l,e.block_start+=l,o-=l),o&&(Xn(e.strm,e.strm.output,e.strm.next_out,o),e.strm.next_out+=o,e.strm.avail_out-=o,e.strm.total_out+=o)}while(0===i);return(r-=e.strm.avail_in)&&(r>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=r&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),2>e.matches&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-r,e.strm.next_in),e.strstart),e.strstart+=r,e.insert+=r>e.w_size-e.insert?e.w_size-e.insert:r),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),i?4:t!==Sn&&t!==Nn&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),2>e.matches&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(Xn(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,n=(a=65535<e.pending_buf_size-a?65535:e.pending_buf_size-a)>e.w_size?e.w_size:a,((l=e.strstart-e.block_start)>=n||(l||t===Nn)&&t!==Sn&&0===e.strm.avail_in&&l<=a)&&(o=l>a?a:l,i=t===Nn&&0===e.strm.avail_in&&o===l?1:0,bn(e,e.block_start,o,i),e.block_start+=o,Kn(e.strm)),i?3:1)},ti=function(e,t){for(var n;;){if(262>e.lookahead){if($n(e),262>e.lookahead&&t===Sn)return 1;if(0===e.lookahead)break}if(n=0,3<=e.lookahead&&(e.ins_h=Wn(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-262&&(e.match_length=Qn(e,n)),3<=e.match_length)if(n=Tn(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&3<=e.lookahead){e.match_length--;do{e.strstart++,e.ins_h=Wn(e,e.ins_h,e.window[e.strstart+3-1]),e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Wn(e,e.ins_h,e.window[e.strstart+1]);else n=Tn(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(Zn(e,!1),0===e.strm.avail_out))return 1}return e.insert=2>e.strstart?e.strstart:2,t===Nn?(Zn(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Zn(e,!1),0===e.strm.avail_out)?1:2},ni=function(e,t){for(var n,i;;){if(262>e.lookahead){if($n(e),262>e.lookahead&&t===Sn)return 1;if(0===e.lookahead)break}if(n=0,3<=e.lookahead&&(e.ins_h=Wn(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-262&&(e.match_length=Qn(e,n),5>=e.match_length&&(e.strategy===Un||3===e.match_length&&4096<e.strstart-e.match_start)&&(e.match_length=2)),3<=e.prev_length&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,n=Tn(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=Wn(e,e.ins_h,e.window[e.strstart+3-1]),e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(Zn(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=Tn(e,0,e.window[e.strstart-1]))&&Zn(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(Tn(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=2>e.strstart?e.strstart:2,t===Nn?(Zn(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Zn(e,!1),0===e.strm.avail_out)?1:2},ii=[new j(0,0,0,0,ei),new j(4,4,8,4,ti),new j(4,5,16,8,ti),new j(4,6,32,32,ti),new j(4,4,16,16,ni),new j(8,16,32,32,ni),new j(8,16,128,128,ni),new j(8,32,128,256,ni),new j(32,128,258,1024,ni),new j(32,258,258,4096,ni)],ri=function(e){if(!e)return 1;var t=e.state;return!t||t.strm!==e||42!==t.status&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&113!==t.status&&666!==t.status?1:0},oi=function(e){if(ri(e))return Fn(e,Ln);e.total_in=e.total_out=0,e.data_type=Hn;var t=e.state;if(t.pending=0,t.pending_out=0,0>t.wrap&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=-2,!yn){var n,i,r;for(e=Array(16),r=i=0;28>r;r++)for($t[r]=i,n=0;n<1<<Vt[r];n++)Qt[i++]=r;for(Qt[i-1]=r,r=i=0;16>r;r++)for(en[r]=i,n=0;n<1<<Wt[r];n++)Xt[i++]=r;for(i>>=7;30>r;r++)for(en[r]=i<<7,n=0;n<1<<Wt[r]-7;n++)Xt[256+i++]=r;for(n=0;15>=n;n++)e[n]=0;for(n=0;143>=n;)Jt[2*n+1]=8,n++,e[8]++;for(;255>=n;)Jt[2*n+1]=9,n++,e[9]++;for(;279>=n;)Jt[2*n+1]=7,n++,e[7]++;for(;287>=n;)Jt[2*n+1]=8,n++,e[8]++;for(cn(Jt,287,e),n=0;30>n;n++)Yt[2*n+1]=5,Yt[2*n]=sn(n,5);tn=new z(Jt,Vt,257,286,15),nn=new z(Yt,Wt,0,30,15),rn=new z([],Kt,0,19,7),yn=!0}return t.l_desc=new H(t.dyn_ltree,tn),t.d_desc=new H(t.dyn_dtree,nn),t.bl_desc=new H(t.bl_tree,rn),t.bi_buf=0,t.bi_valid=0,un(t),In},ai=function(e){var t=oi(e);return t===In&&((e=e.state).window_size=2*e.w_size,Vn(e.head),e.max_lazy_match=ii[e.level].max_lazy,e.good_match=ii[e.level].good_length,e.nice_match=ii[e.level].nice_length,e.max_chain_length=ii[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),t},li=function(e,t,n,i,r,o){if(!e)return Ln;var a=1;if(t===Pn&&(t=6),0>i?(a=0,i=-i):15<i&&(a=2,i-=16),1>r||9<r||n!==jn||8>i||15<i||0>t||9<t||0>o||o>Bn||8===i&&1!==a)return Fn(e,Ln);8===i&&(i=9);var l=new F;return e.state=l,l.strm=e,l.status=42,l.wrap=a,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=r+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new Uint8Array(2*l.w_size),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<r+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=3*(l.lit_bufsize-1),l.level=t,l.strategy=o,l.method=n,ai(e)},si={deflateInit:function(e,t){return li(e,t,jn,15,8,zn)},deflateInit2:li,deflateReset:ai,deflateResetKeep:oi,deflateSetHeader:function(e,t){return ri(e)||2!==e.state.wrap?Ln:(e.state.gzhead=t,In)},deflate:function(e,t){if(ri(e)||t>On||0>t)return e?Fn(e,Ln):Ln;var n=e.state;if(!e.output||0!==e.avail_in&&!e.input||666===n.status&&t!==Nn)return Fn(e,0===e.avail_out?Dn:Ln);var i=n.last_flush;if(n.last_flush=t,0!==n.pending){if(Kn(e),0===e.avail_out)return n.last_flush=-1,In}else if(0===e.avail_in&&2*t-(4<t?9:0)<=2*i-(4<i?9:0)&&t!==Nn)return Fn(e,Dn);if(666===n.status&&0!==e.avail_in)return Fn(e,Dn);if(42===n.status&&0===n.wrap&&(n.status=113),42===n.status&&(i=jn+(n.w_bits-8<<4)<<8,i|=(n.strategy>=qn||2>n.level?0:6>n.level?1:6===n.level?2:3)<<6,0!==n.strstart&&(i|=32),Yn(n,i+(31-i%31)),0!==n.strstart&&(Yn(n,e.adler>>>16),Yn(n,65535&e.adler)),e.adler=1,n.status=113,Kn(e),0!==n.pending))return n.last_flush=-1,In;if(57===n.status)if(e.adler=0,Jn(n,31),Jn(n,139),Jn(n,8),n.gzhead)Jn(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Jn(n,255&n.gzhead.time),Jn(n,n.gzhead.time>>8&255),Jn(n,n.gzhead.time>>16&255),Jn(n,n.gzhead.time>>24&255),Jn(n,9===n.level?2:n.strategy>=qn||2>n.level?4:0),Jn(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(Jn(n,255&n.gzhead.extra.length),Jn(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=kn(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(Jn(n,0),Jn(n,0),Jn(n,0),Jn(n,0),Jn(n,0),Jn(n,9===n.level?2:n.strategy>=qn||2>n.level?4:0),Jn(n,3),n.status=113,Kn(e),0!==n.pending)return n.last_flush=-1,In;if(69===n.status){if(n.gzhead.extra){i=n.pending;for(var r=(65535&n.gzhead.extra.length)-n.gzindex;n.pending+r>n.pending_buf_size;){var o=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+o),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(e.adler=kn(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=o,Kn(e),0!==n.pending)return n.last_flush=-1,In;i=0,r-=o}o=new Uint8Array(n.gzhead.extra),n.pending_buf.set(o.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending+=r,n.gzhead.hcrc&&n.pending>i&&(e.adler=kn(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=kn(e.adler,n.pending_buf,n.pending-i,i)),Kn(e),0!==n.pending)return n.last_flush=-1,In;i=0}r=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,Jn(n,r)}while(0!==r);n.gzhead.hcrc&&n.pending>i&&(e.adler=kn(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=kn(e.adler,n.pending_buf,n.pending-i,i)),Kn(e),0!==n.pending)return n.last_flush=-1,In;i=0}r=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,Jn(n,r)}while(0!==r);n.gzhead.hcrc&&n.pending>i&&(e.adler=kn(e.adler,n.pending_buf,n.pending-i,i))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Kn(e),0!==n.pending))return n.last_flush=-1,In;Jn(n,255&e.adler),Jn(n,e.adler>>8&255),e.adler=0}if(n.status=113,Kn(e),0!==n.pending)return n.last_flush=-1,In}if(0!==e.avail_in||0!==n.lookahead||t!==Sn&&666!==n.status){if(i=0===n.level?ei(n,t):n.strategy===qn?function(e,t){for(var n;;){if(0===e.lookahead&&($n(e),0===e.lookahead)){if(t===Sn)return 1;break}if(e.match_length=0,n=Tn(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Zn(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Nn?(Zn(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Zn(e,!1),0===e.strm.avail_out)?1:2}(n,t):n.strategy===Gn?function(e,t){for(var n,i,r,o=e.window;;){if(258>=e.lookahead){if($n(e),258>=e.lookahead&&t===Sn)return 1;if(0===e.lookahead)break}if(e.match_length=0,3<=e.lookahead&&0<e.strstart&&(n=o[i=e.strstart-1])===o[++i]&&n===o[++i]&&n===o[++i]){for(r=e.strstart+258;n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&i<r;);e.match_length=258-(r-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(3<=e.match_length?(n=Tn(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Tn(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Zn(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Nn?(Zn(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Zn(e,!1),0===e.strm.avail_out)?1:2}(n,t):ii[n.level].func(n,t),3!==i&&4!==i||(n.status=666),1===i||3===i)return 0===e.avail_out&&(n.last_flush=-1),In;if(2===i&&(t===An?(an(n,2,3),ln(n,256,Jt),16===n.bi_valid?(on(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):8<=n.bi_valid&&(n.pending_buf[n.pending++]=255&n.bi_buf,n.bi_buf>>=8,n.bi_valid-=8)):t!==On&&(bn(n,0,0,!1),t===Rn&&(Vn(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),Kn(e),0===e.avail_out))return n.last_flush=-1,In}return t!==Nn?In:0>=n.wrap?xn:(2===n.wrap?(Jn(n,255&e.adler),Jn(n,e.adler>>8&255),Jn(n,e.adler>>16&255),Jn(n,e.adler>>24&255),Jn(n,255&e.total_in),Jn(n,e.total_in>>8&255),Jn(n,e.total_in>>16&255),Jn(n,e.total_in>>24&255)):(Yn(n,e.adler>>>16),Yn(n,65535&e.adler)),Kn(e),0<n.wrap&&(n.wrap=-n.wrap),0!==n.pending?In:xn)},deflateEnd:function(e){if(ri(e))return Ln;var t=e.state.status;return e.state=null,113===t?Fn(e,Mn):In},deflateSetDictionary:function(e,t){var n=t.length;if(ri(e))return Ln;var i=e.state,r=i.wrap;if(2===r||1===r&&42!==i.status||i.lookahead)return Ln;if(1===r&&(e.adler=wn(e.adler,t,n,0)),i.wrap=0,n>=i.w_size){0===r&&(Vn(i.head),i.strstart=0,i.block_start=0,i.insert=0);var o=new Uint8Array(i.w_size);o.set(t.subarray(n-i.w_size,n),0),t=o,n=i.w_size}o=e.avail_in;var a=e.next_in,l=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,$n(i);3<=i.lookahead;){t=i.strstart,n=i.lookahead-2;do{i.ins_h=Wn(i,i.ins_h,i.window[t+3-1]),i.prev[t&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=t,t++}while(--n);i.strstart=t,i.lookahead=2,$n(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,e.next_in=a,e.input=l,e.avail_in=o,i.wrap=r,In},deflateInfo:"pako deflate (from Nodeca project)"},ci={assign:function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!==c(n))throw new TypeError(n+"must be non-object");for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}}return e},flattenChunks:function(e){for(var t=0,n=0,i=e.length;n<i;n++)t+=e[n].length;t=new Uint8Array(t),i=n=0;for(var r=e.length;n<r;n++){var o=e[n];t.set(o,i),i+=o.length}return t}},ui=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(Dt){ui=!1}for(var di=new Uint8Array(256),fi=0;256>fi;fi++)di[fi]=252<=fi?6:248<=fi?5:240<=fi?4:224<=fi?3:192<=fi?2:1;di[254]=di[254]=1;var vi={string2buf:function(e){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,n,i=e.length,r=0;for(t=0;t<i;t++){var o=e.charCodeAt(t);if(55296==(64512&o)&&t+1<i){var a=e.charCodeAt(t+1);56320==(64512&a)&&(o=65536+(o-55296<<10)+(a-56320),t++)}r+=128>o?1:2048>o?2:65536>o?3:4}var l=new Uint8Array(r);for(t=n=0;n<r;t++)55296==(64512&(o=e.charCodeAt(t)))&&t+1<i&&(56320==(64512&(a=e.charCodeAt(t+1)))&&(o=65536+(o-55296<<10)+(a-56320),t++)),128>o?l[n++]=o:(2048>o?l[n++]=192|o>>>6:(65536>o?l[n++]=224|o>>>12:(l[n++]=240|o>>>18,l[n++]=128|o>>>12&63),l[n++]=128|o>>>6&63),l[n++]=128|63&o);return l},buf2string:function(e,t){var n,i,r=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));for(t=Array(2*r),n=i=0;n<r;){var o=e[n++];if(128>o)t[i++]=o;else{var a=di[o];if(4<a)t[i++]=65533,n+=a-1;else{for(o&=2===a?31:3===a?15:7;1<a&&n<r;)o=o<<6|63&e[n++],a--;1<a?t[i++]=65533:65536>o?t[i++]=o:(o-=65536,t[i++]=55296|o>>10&1023,t[i++]=56320|1023&o)}}}if(65534>(e=i)&&t.subarray&&ui)t=String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));else{for(r="",n=0;n<e;n++)r+=String.fromCharCode(t[n]);t=r}return t},utf8border:function(e,t){(t=t||e.length)>e.length&&(t=e.length);for(var n=t-1;0<=n&&128==(192&e[n]);)n--;return 0>n||0===n?t:n+di[e[n]]>t?n:t}},gi=function(){this.input=null,this.total_in=this.avail_in=this.next_in=0,this.output=null,this.total_out=this.avail_out=this.next_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},hi=Object.prototype.toString,pi=En.Z_NO_FLUSH,mi=En.Z_SYNC_FLUSH,yi=En.Z_FULL_FLUSH,bi=En.Z_FINISH,wi=En.Z_OK,_i=En.Z_STREAM_END,ki=En.Z_DEFAULT_COMPRESSION,Ci=En.Z_DEFAULT_STRATEGY,Ei=En.Z_DEFLATED;V.prototype.push=function(e,t){var n=this.strm,i=this.options.chunkSize;if(this.ended)return!1;for(t=t===~~t?t:!0===t?bi:pi,"string"==typeof e?n.input=vi.string2buf(e):"[object ArrayBuffer]"===hi.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),(t===mi||t===yi)&&6>=n.avail_out)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if((e=si.deflate(n,t))===_i)return 0<n.next_out&&this.onData(n.output.subarray(0,n.next_out)),e=si.deflateEnd(this.strm),this.onEnd(e),this.ended=!0,e===wi;if(0===n.avail_out)this.onData(n.output);else if(0<t&&0<n.next_out)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}return!0},V.prototype.onData=function(e){this.chunks.push(e)},V.prototype.onEnd=function(e){e===wi&&(this.result=ci.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Ti,Si,Ai=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Ri=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Ni=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Oi=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Ii=function(e,t,n,i,r,o,a,l){var s,c,u,d,f,v,g,h=l.bits,p=new Uint16Array(16),m=new Uint16Array(16);for(s=0;15>=s;s++)p[s]=0;for(c=0;c<i;c++)p[t[n+c]]++;var y=h;for(u=15;1<=u&&0===p[u];u--);if(y>u&&(y=u),0===u)return r[o++]=20971520,r[o++]=20971520,l.bits=1,0;for(h=1;h<u&&0===p[h];h++);for(y<h&&(y=h),s=d=1;15>=s;s++)if(d<<=1,0>(d-=p[s]))return-1;if(0<d&&(0===e||1!==u))return-1;for(m[1]=0,s=1;15>s;s++)m[s+1]=m[s]+p[s];for(c=0;c<i;c++)0!==t[n+c]&&(a[m[t[n+c]]++]=c);if(0===e)var b=g=a,w=20;else 1===e?(b=Ai,g=Ri,w=257):(b=Ni,g=Oi,w=0);c=f=0,s=h;var _=o;i=y,m=0;var k=-1,C=1<<y,E=C-1;if(1===e&&852<C||2===e&&592<C)return 1;for(;;){var T=s-m;if(a[c]+1<w)var S=0,A=a[c];else a[c]>=w?(S=g[a[c]-w],A=b[a[c]-w]):(S=96,A=0);d=1<<s-m,h=v=1<<i;do{r[_+(f>>m)+(v-=d)]=T<<24|S<<16|A|0}while(0!==v);for(d=1<<s-1;f&d;)d>>=1;if(0!==d?(f&=d-1,f+=d):f=0,c++,0==--p[s]){if(s===u)break;s=t[n+a[c]]}if(s>y&&(f&E)!==k){for(0===m&&(m=y),_+=h,d=1<<(i=s-m);i+m<u&&!(0>=(d-=p[i+m]));)i++,d<<=1;if(C+=1<<i,1===e&&852<C||2===e&&592<C)return 1;r[k=f&E]=y<<24|i<<16|_-o|0}}return 0!==f&&(r[_+f]=s-m<<24|4194304),l.bits=y,0},xi=En.Z_FINISH,Li=En.Z_BLOCK,Mi=En.Z_TREES,Di=En.Z_OK,Pi=En.Z_STREAM_END,Ui=En.Z_NEED_DICT,qi=En.Z_STREAM_ERROR,Gi=En.Z_DATA_ERROR,Bi=En.Z_MEM_ERROR,zi=En.Z_BUF_ERROR,Hi=En.Z_DEFLATED,ji=function(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)},Fi=function(e){if(!e)return 1;var t=e.state;return!t||t.strm!==e||16180>t.mode||16211<t.mode?1:0},Vi=function(e){if(Fi(e))return qi;var t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=16180,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Di},Wi=function(e){if(Fi(e))return qi;var t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Vi(e)},Ki=function(e,t){if(Fi(e))return qi;var n=e.state;if(0>t){var i=0;t=-t}else i=5+(t>>4),48>t&&(t&=15);return t&&(8>t||15<t)?qi:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=i,n.wbits=t,Wi(e))},Zi=function(e,t){if(!e)return qi;var n=new K;return e.state=n,n.strm=e,n.window=null,n.mode=16180,(t=Ki(e,t))!==Di&&(e.state=null),t},Ji=!0,Yi=function(e,t,n,i){var r=e.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),i>=r.wsize?(r.window.set(t.subarray(n-r.wsize,n),0),r.wnext=0,r.whave=r.wsize):((e=r.wsize-r.wnext)>i&&(e=i),r.window.set(t.subarray(n-i,n-i+e),r.wnext),(i-=e)?(r.window.set(t.subarray(n-i,n),0),r.wnext=i,r.whave=r.wsize):(r.wnext+=e,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=e))),0},Xi={inflateReset:Wi,inflateReset2:Ki,inflateResetKeep:Vi,inflateInit:function(e){return Zi(e,15)},inflateInit2:Zi,inflate:function(e,t){var n=new Uint8Array(4),i=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Fi(e)||!e.output||!e.input&&0!==e.avail_in)return qi;var r=e.state;16191===r.mode&&(r.mode=16192);var o=e.next_out,a=e.output,l=e.avail_out,s=e.next_in,c=e.input,u=e.avail_in,d=r.hold,f=r.bits,v=u,g=l,h=Di;e:for(;;)switch(r.mode){case 16180:if(0===r.wrap){r.mode=16192;break}for(;16>f;){if(0===u)break e;u--,d+=c[s++]<<f,f+=8}if(2&r.wrap&&35615===d){0===r.wbits&&(r.wbits=15),r.check=0,n[0]=255&d,n[1]=d>>>8&255,r.check=kn(r.check,n,2,0),f=d=0,r.mode=16181;break}if(r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&d)<<8)+(d>>8))%31){e.msg="incorrect header check",r.mode=16209;break}if((15&d)!==Hi){e.msg="unknown compression method",r.mode=16209;break}f-=4;var p=8+(15&(d>>>=4));if(0===r.wbits&&(r.wbits=p),15<p||p>r.wbits){e.msg="invalid window size",r.mode=16209;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=512&d?16189:16191,f=d=0;break;case 16181:for(;16>f;){if(0===u)break e;u--,d+=c[s++]<<f,f+=8}if(r.flags=d,(255&r.flags)!==Hi){e.msg="unknown compression method",r.mode=16209;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=16209;break}r.head&&(r.head.text=d>>8&1),512&r.flags&&4&r.wrap&&(n[0]=255&d,n[1]=d>>>8&255,r.check=kn(r.check,n,2,0)),f=d=0,r.mode=16182;case 16182:for(;32>f;){if(0===u)break e;u--,d+=c[s++]<<f,f+=8}r.head&&(r.head.time=d),512&r.flags&&4&r.wrap&&(n[0]=255&d,n[1]=d>>>8&255,n[2]=d>>>16&255,n[3]=d>>>24&255,r.check=kn(r.check,n,4,0)),f=d=0,r.mode=16183;case 16183:for(;16>f;){if(0===u)break e;u--,d+=c[s++]<<f,f+=8}r.head&&(r.head.xflags=255&d,r.head.os=d>>8),512&r.flags&&4&r.wrap&&(n[0]=255&d,n[1]=d>>>8&255,r.check=kn(r.check,n,2,0)),f=d=0,r.mode=16184;case 16184:if(1024&r.flags){for(;16>f;){if(0===u)break e;u--,d+=c[s++]<<f,f+=8}r.length=d,r.head&&(r.head.extra_len=d),512&r.flags&&4&r.wrap&&(n[0]=255&d,n[1]=d>>>8&255,r.check=kn(r.check,n,2,0)),f=d=0}else r.head&&(r.head.extra=null);r.mode=16185;case 16185:if(1024&r.flags){var m=r.length;if(m>u&&(m=u),m&&(r.head&&(p=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(c.subarray(s,s+m),p)),512&r.flags&&4&r.wrap&&(r.check=kn(r.check,c,m,s)),u-=m,s+=m,r.length-=m),r.length)break e}r.length=0,r.mode=16186;case 16186:if(2048&r.flags){if(0===u)break e;m=0;do{p=c[s+m++],r.head&&p&&65536>r.length&&(r.head.name+=String.fromCharCode(p))}while(p&&m<u);if(512&r.flags&&4&r.wrap&&(r.check=kn(r.check,c,m,s)),u-=m,s+=m,p)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=16187;case 16187:if(4096&r.flags){if(0===u)break e;m=0;do{p=c[s+m++],r.head&&p&&65536>r.length&&(r.head.comment+=String.fromCharCode(p))}while(p&&m<u);if(512&r.flags&&4&r.wrap&&(r.check=kn(r.check,c,m,s)),u-=m,s+=m,p)break e}else r.head&&(r.head.comment=null);r.mode=16188;case 16188:if(512&r.flags){for(;16>f;){if(0===u)break e;u--,d+=c[s++]<<f,f+=8}if(4&r.wrap&&d!==(65535&r.check)){e.msg="header crc mismatch",r.mode=16209;break}f=d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=16191;break;case 16189:for(;32>f;){if(0===u)break e;u--,d+=c[s++]<<f,f+=8}e.adler=r.check=ji(d),f=d=0,r.mode=16190;case 16190:if(0===r.havedict)return e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=u,r.hold=d,r.bits=f,Ui;e.adler=r.check=1,r.mode=16191;case 16191:if(t===Li||t===Mi)break e;case 16192:if(r.last){d>>>=7&f,f-=7&f,r.mode=16206;break}for(;3>f;){if(0===u)break e;u--,d+=c[s++]<<f,f+=8}switch(r.last=1&d,--f,3&(d>>>=1)){case 0:r.mode=16193;break;case 1:if(m=r,Ji){for(Ti=new Int32Array(512),Si=new Int32Array(32),p=0;144>p;)m.lens[p++]=8;for(;256>p;)m.lens[p++]=9;for(;280>p;)m.lens[p++]=7;for(;288>p;)m.lens[p++]=8;for(Ii(1,m.lens,0,288,Ti,0,m.work,{bits:9}),p=0;32>p;)m.lens[p++]=5;Ii(2,m.lens,0,32,Si,0,m.work,{bits:5}),Ji=!1}if(m.lencode=Ti,m.lenbits=9,m.distcode=Si,m.distbits=5,r.mode=16199,t===Mi){d>>>=2,f-=2;break e}break;case 2:r.mode=16196;break;case 3:e.msg="invalid block type",r.mode=16209}d>>>=2,f-=2;break;case 16193:for(d>>>=7&f,f-=7&f;32>f;){if(0===u)break e;u--,d+=c[s++]<<f,f+=8}if((65535&d)!=(d>>>16^65535)){e.msg="invalid stored block lengths",r.mode=16209;break}if(r.length=65535&d,f=d=0,r.mode=16194,t===Mi)break e;case 16194:r.mode=16195;case 16195:if(m=r.length){if(m>u&&(m=u),m>l&&(m=l),0===m)break e;a.set(c.subarray(s,s+m),o),u-=m,s+=m,l-=m,o+=m,r.length-=m;break}r.mode=16191;break;case 16196:for(;14>f;){if(0===u)break e;u--,d+=c[s++]<<f,f+=8}if(r.nlen=257+(31&d),d>>>=5,f-=5,r.ndist=1+(31&d),d>>>=5,f-=5,r.ncode=4+(15&d),d>>>=4,f-=4,286<r.nlen||30<r.ndist){e.msg="too many length or distance symbols",r.mode=16209;break}r.have=0,r.mode=16197;case 16197:for(;r.have<r.ncode;){for(;3>f;){if(0===u)break e;u--,d+=c[s++]<<f,f+=8}r.lens[i[r.have++]]=7&d,d>>>=3,f-=3}for(;19>r.have;)r.lens[i[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,m={bits:r.lenbits},h=Ii(0,r.lens,0,19,r.lencode,0,r.work,m),r.lenbits=m.bits,h){e.msg="invalid code lengths set",r.mode=16209;break}r.have=0,r.mode=16198;case 16198:for(;r.have<r.nlen+r.ndist;){for(;;){var y=r.lencode[d&(1<<r.lenbits)-1];if(m=y>>>24,y&=65535,m<=f)break;if(0===u)break e;u--,d+=c[s++]<<f,f+=8}if(16>y)d>>>=m,f-=m,r.lens[r.have++]=y;else{if(16===y){for(p=m+2;f<p;){if(0===u)break e;u--,d+=c[s++]<<f,f+=8}if(d>>>=m,f-=m,0===r.have){e.msg="invalid bit length repeat",r.mode=16209;break}p=r.lens[r.have-1],m=3+(3&d),d>>>=2,f-=2}else if(17===y){for(p=m+3;f<p;){if(0===u)break e;u--,d+=c[s++]<<f,f+=8}f-=m,p=0,m=3+(7&(d>>>=m)),d>>>=3,f-=3}else{for(p=m+7;f<p;){if(0===u)break e;u--,d+=c[s++]<<f,f+=8}f-=m,p=0,m=11+(127&(d>>>=m)),d>>>=7,f-=7}if(r.have+m>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=16209;break}for(;m--;)r.lens[r.have++]=p}}if(16209===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=16209;break}if(r.lenbits=9,m={bits:r.lenbits},h=Ii(1,r.lens,0,r.nlen,r.lencode,0,r.work,m),r.lenbits=m.bits,h){e.msg="invalid literal/lengths set",r.mode=16209;break}if(r.distbits=6,r.distcode=r.distdyn,m={bits:r.distbits},h=Ii(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,m),r.distbits=m.bits,h){e.msg="invalid distances set",r.mode=16209;break}if(r.mode=16199,t===Mi)break e;case 16199:r.mode=16200;case 16200:if(6<=u&&258<=l){e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=u,r.hold=d,r.bits=f;var b=e,w=b.state,_=b.next_in;a=b.input;var k=_+(b.avail_in-5),C=b.next_out;c=b.output;var E=C-(g-b.avail_out),T=C+(b.avail_out-257),S=w.dmax;y=w.wsize;var A=w.whave,R=w.wnext,N=w.window;p=w.hold,m=w.bits,f=w.lencode,d=w.distcode,l=(1<<w.lenbits)-1,u=(1<<w.distbits)-1;t:do{15>m&&(p+=a[_++]<<m,m+=8,p+=a[_++]<<m,m+=8);var O=f[p&l];n:for(;;){if(p>>>=o=O>>>24,m-=o,0===(o=O>>>16&255))c[C++]=65535&O;else{if(!(16&o)){if(0==(64&o)){O=f[(65535&O)+(p&(1<<o)-1)];continue n}32&o?w.mode=16191:(b.msg="invalid literal/length code",w.mode=16209);break t}s=65535&O,(o&=15)&&(m<o&&(p+=a[_++]<<m,m+=8),s+=p&(1<<o)-1,p>>>=o,m-=o),15>m&&(p+=a[_++]<<m,m+=8,p+=a[_++]<<m,m+=8),O=d[p&u];i:for(;;){if(p>>>=o=O>>>24,m-=o,!(16&(o=O>>>16&255))){if(0==(64&o)){O=d[(65535&O)+(p&(1<<o)-1)];continue i}b.msg="invalid distance code",w.mode=16209;break t}var I=65535&O;if(m<(o&=15)&&(p+=a[_++]<<m,(m+=8)<o&&(p+=a[_++]<<m,m+=8)),(I+=p&(1<<o)-1)>S){b.msg="invalid distance too far back",w.mode=16209;break t}if(p>>>=o,m-=o,I>(o=C-E)){if((o=I-o)>A&&w.sane){b.msg="invalid distance too far back",w.mode=16209;break t}var x=0;if(O=N,0===R){if(x+=y-o,o<s){s-=o;do{c[C++]=N[x++]}while(--o);x=C-I,O=c}}else if(R<o){if(x+=y+R-o,(o-=R)<s){s-=o;do{c[C++]=N[x++]}while(--o);if(x=0,R<s){s-=o=R;do{c[C++]=N[x++]}while(--o);x=C-I,O=c}}}else if(x+=R-o,o<s){s-=o;do{c[C++]=N[x++]}while(--o);x=C-I,O=c}for(;2<s;)c[C++]=O[x++],c[C++]=O[x++],c[C++]=O[x++],s-=3;s&&(c[C++]=O[x++],1<s&&(c[C++]=O[x++]))}else{x=C-I;do{c[C++]=c[x++],c[C++]=c[x++],c[C++]=c[x++],s-=3}while(2<s);s&&(c[C++]=c[x++],1<s&&(c[C++]=c[x++]))}break}}break}}while(_<k&&C<T);_-=s=m>>3,m-=s<<3,b.next_in=_,b.next_out=C,b.avail_in=_<k?k-_+5:5-(_-k),b.avail_out=C<T?T-C+257:257-(C-T),w.hold=p&(1<<m)-1,w.bits=m,o=e.next_out,a=e.output,l=e.avail_out,s=e.next_in,c=e.input,u=e.avail_in,d=r.hold,f=r.bits,16191===r.mode&&(r.back=-1);break}for(r.back=0;m=(y=r.lencode[d&(1<<r.lenbits)-1])>>>24,p=y>>>16&255,y&=65535,!(m<=f);){if(0===u)break e;u--,d+=c[s++]<<f,f+=8}if(p&&0==(240&p)){for(N=m,R=p,A=y;m=(y=r.lencode[A+((d&(1<<N+R)-1)>>N)])>>>24,p=y>>>16&255,y&=65535,!(N+m<=f);){if(0===u)break e;u--,d+=c[s++]<<f,f+=8}d>>>=N,f-=N,r.back+=N}if(d>>>=m,f-=m,r.back+=m,r.length=y,0===p){r.mode=16205;break}if(32&p){r.back=-1,r.mode=16191;break}if(64&p){e.msg="invalid literal/length code",r.mode=16209;break}r.extra=15&p,r.mode=16201;case 16201:if(r.extra){for(p=r.extra;f<p;){if(0===u)break e;u--,d+=c[s++]<<f,f+=8}r.length+=d&(1<<r.extra)-1,d>>>=r.extra,f-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=16202;case 16202:for(;m=(y=r.distcode[d&(1<<r.distbits)-1])>>>24,p=y>>>16&255,y&=65535,!(m<=f);){if(0===u)break e;u--,d+=c[s++]<<f,f+=8}if(0==(240&p)){for(N=m,R=p,A=y;m=(y=r.distcode[A+((d&(1<<N+R)-1)>>N)])>>>24,p=y>>>16&255,y&=65535,!(N+m<=f);){if(0===u)break e;u--,d+=c[s++]<<f,f+=8}d>>>=N,f-=N,r.back+=N}if(d>>>=m,f-=m,r.back+=m,64&p){e.msg="invalid distance code",r.mode=16209;break}r.offset=y,r.extra=15&p,r.mode=16203;case 16203:if(r.extra){for(p=r.extra;f<p;){if(0===u)break e;u--,d+=c[s++]<<f,f+=8}r.offset+=d&(1<<r.extra)-1,d>>>=r.extra,f-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=16209;break}r.mode=16204;case 16204:if(0===l)break e;if(m=g-l,r.offset>m){if((m=r.offset-m)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=16209;break}m>r.wnext?(m-=r.wnext,p=r.wsize-m):p=r.wnext-m,m>r.length&&(m=r.length),N=r.window}else N=a,p=o-r.offset,m=r.length;m>l&&(m=l),l-=m,r.length-=m;do{a[o++]=N[p++]}while(--m);0===r.length&&(r.mode=16200);break;case 16205:if(0===l)break e;a[o++]=r.length,l--,r.mode=16200;break;case 16206:if(r.wrap){for(;32>f;){if(0===u)break e;u--,d|=c[s++]<<f,f+=8}if(g-=l,e.total_out+=g,r.total+=g,4&r.wrap&&g&&(e.adler=r.check=r.flags?kn(r.check,a,g,o-g):wn(r.check,a,g,o-g)),g=l,4&r.wrap&&(r.flags?d:ji(d))!==r.check){e.msg="incorrect data check",r.mode=16209;break}f=d=0}r.mode=16207;case 16207:if(r.wrap&&r.flags){for(;32>f;){if(0===u)break e;u--,d+=c[s++]<<f,f+=8}if(4&r.wrap&&d!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=16209;break}f=d=0}r.mode=16208;case 16208:h=Pi;break e;case 16209:h=Gi;break e;case 16210:return Bi;default:return qi}return e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=u,r.hold=d,r.bits=f,(r.wsize||g!==e.avail_out&&16209>r.mode&&(16206>r.mode||t!==xi))&&Yi(e,e.output,e.next_out,g-e.avail_out),v-=e.avail_in,g-=e.avail_out,e.total_in+=v,e.total_out+=g,r.total+=g,4&r.wrap&&g&&(e.adler=r.check=r.flags?kn(r.check,a,g,e.next_out-g):wn(r.check,a,g,e.next_out-g)),e.data_type=r.bits+(r.last?64:0)+(16191===r.mode?128:0)+(16199===r.mode||16194===r.mode?256:0),(0===v&&0===g||t===xi)&&h===Di&&(h=zi),h},inflateEnd:function(e){if(Fi(e))return qi;var t=e.state;return t.window&&(t.window=null),e.state=null,Di},inflateGetHeader:function(e,t){return Fi(e)||0==(2&(e=e.state).wrap)?qi:(e.head=t,t.done=!1,Di)},inflateSetDictionary:function(e,t){var n=t.length;if(Fi(e))return qi;var i=e.state;if(0!==i.wrap&&16190!==i.mode)return qi;if(16190===i.mode&&wn(1,t,n,0)!==i.check)return Gi;return Yi(e,t,n,n)?(i.mode=16210,Bi):(i.havedict=1,Di)},inflateInfo:"pako inflate (from Nodeca project)"},Qi=function(){this.os=this.xflags=this.time=this.text=0,this.extra=null,this.extra_len=0,this.comment=this.name="",this.hcrc=0,this.done=!1},$i=Object.prototype.toString,er=En.Z_NO_FLUSH,tr=En.Z_FINISH,nr=En.Z_OK,ir=En.Z_STREAM_END,rr=En.Z_NEED_DICT,or=En.Z_STREAM_ERROR,ar=En.Z_DATA_ERROR,lr=En.Z_MEM_ERROR;Z.prototype.push=function(e,t){var n=this.strm,i=this.options.chunkSize,r=this.options.dictionary;if(this.ended)return!1;var o=t===~~t?t:!0===t?tr:er;for("[object ArrayBuffer]"===$i.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),(t=Xi.inflate(n,o))===rr&&r&&((t=Xi.inflateSetDictionary(n,r))===nr?t=Xi.inflate(n,o):t===ar&&(t=rr));0<n.avail_in&&t===ir&&0<n.state.wrap&&0!==e[n.next_in];)Xi.inflateReset(n),t=Xi.inflate(n,o);switch(t){case or:case ar:case rr:case lr:return this.onEnd(t),this.ended=!0,!1}var a=n.avail_out;if(n.next_out&&(0===n.avail_out||t===ir))if("string"===this.options.to){var l=vi.utf8border(n.output,n.next_out),s=n.next_out-l,c=vi.buf2string(n.output,l);n.next_out=s,n.avail_out=i-s,s&&n.output.set(n.output.subarray(l,l+s),0),this.onData(c)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(t!==nr||0!==a){if(t===ir){t=Xi.inflateEnd(this.strm),this.onEnd(t),this.ended=!0;break}if(0===n.avail_in)break}}return!0},Z.prototype.onData=function(e){this.chunks.push(e)},Z.prototype.onEnd=function(e){e===nr&&(this.result="string"===this.options.to?this.chunks.join(""):ci.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var sr,cr={Deflate:V,deflate:W,deflateRaw:function(e,t){return(t=t||{}).raw=!0,W(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,W(e,t)},Inflate:Z,inflate:J,inflateRaw:function(e,t){return(t=t||{}).raw=!0,J(e,t)},ungzip:J,constants:En};!function(e){e.BRAND="DeviceBrand",e.MANUFACTURER="DeviceManufacturer",e.MODEL="DeviceModel",e.TYPE="DeviceType",e.VERSION="DeviceVersion",e.OS_NAME="OperatingSystemName",e.OS_VERSION="OperatingSystemVersion",e.CATEGORY="DeviceCategory",e.FRAMEWORK_NAME="FrameworkName",e.FRAMEWORK_VERSION="FrameworkVersion"}(sr||(sr={}));var ur,dr,fr={DeviceType:{CONSOLE:"Console",DESKTOP:"DESKTOP",MOBILE:"Mobile",SETTOP:"Settop",SMARTTV:"SmartTV",TABLET:"Tablet",VEHICLE:"Vehicle",OTHER:"Other"},DeviceCategory:{ANDROID_DEVICE:"AND",APPLE_DEVICE:"APL",CHROMECAST:"CHR",DESKTOP_APP:"DSKAPP",DEVICE_SIMULATOR:"SIMULATOR",KAIOS_DEVICE:"KAIOS",LG_TV:"LGTV",LINUX:"LNX",NINTENDO:"NINTENDO",PLAYSTATION:"PS",ROKU:"RK",SAMSUNG_TV:"SAMSUNGTV",VIDAA_DEVICE:"VIDAA",VIZIO_TV:"VIZIOTV",WEB:"WEB",WINDOWS_DEVICE:"WIN",XBOX:"XB"}};!function(e){var t,n,i,r;e.TRACEPARENT_HEADER_KEY="traceparent",e.BAGGAGE_HEADER_KEY="baggage",(i=n=e.SAMPLING_MODES||(e.SAMPLING_MODES={})).NONE="NONE",i.RCFG="RCFG",function(e){e.DERIVED="DERIVED",e.DEFAULT="DEFAULT"}(e.SAMPLING_STATUS||(e.SAMPLING_STATUS={})),function(e){e.SAMPLED="sl",e.NON_SAMPLED="nsl"}(r=e.SAMPLING_ACTION||(e.SAMPLING_ACTION={})),e.DEFAULT_SAMPLING_ACTION=((t={})[r.SAMPLED]=n.RCFG,t[r.NON_SAMPLED]=n.NONE,t),function(e){e.DEFAULT="def",e.CACHED="cac",e.REMOTE="rem"}(e.CONFIG_SOURCE||(e.CONFIG_SOURCE={})),function(e){e[e.APP=0]="APP",e[e.REMOTE=1]="REMOTE",e[e.MERGE=2]="MERGE"}(e.CONFIG_PREFERENCES||(e.CONFIG_PREFERENCES={})),function(e){e[e.DISABLED=0]="DISABLED",e[e.PERFORMANCE_TIMING=1]="PERFORMANCE_TIMING",e[e.PERFORMANCE_NAVIGATION_TIMING=2]="PERFORMANCE_NAVIGATION_TIMING"}(e.PERFORMANCE_CONTEXT||(e.PERFORMANCE_CONTEXT={})),function(e){e.DO_NOT_FETCH_UPDATE_TIMER="updateTimer",e.IMMEDIATE_FETCH="urgentFetch",e.UPDATE_TIMER_WITH_DIFF="checkDiff"}(e.RC_FETCH_MODE||(e.RC_FETCH_MODE={})),function(e){e.AUTO="auto",e.MANUAL="manual",e.BOTH="both"}(e.NETWORK_REQUEST_EVENT_COLLECTION_MODE||(e.NETWORK_REQUEST_EVENT_COLLECTION_MODE={})),e.REMOTE_CONFIG_STORAGE_KEY="ConvivaRemoteConfig",e.END_POINT_STORAGE_KEY="ConvivaEndpoint",e.DEFAULT_END_POINT="https://appgw.conviva.com",e.REMOTE_CONFIG_URL_PREFIX="https://rc.conviva.com/js/",e.REMOTE_CONFIG_FILE_NAME="/remote_config.json",e.SAMPLING_STORAGE_RANDOM_NUMBER_KEY="ConvivaSamplingRandomNumber",e.VISUAL_LABELLING_CONFIG="ConvivaVisualLabellingConfig",e.SESSION_RECORDING_STARTED="ConvivaSessionRecordingStarted",e.SAMPLING_MODE_STORAGE_KEY="ConvivaSamplingMode",e.DIAGNOSTIC_INFO_MAX_LENGTH={MAX_MESSAGE_LENGTH:1024,MAX_STACK_LENGTH:2048,MAX_CLASSNAME_LENGTH:1024,MAX_EXCEPTION_NAME_LENGTH:1024},e.CLICK_KEY_MAX_LENGTH=1024,e.CLICK_DEBOUNCING_DELAY=300,e.CLICK_MAX_DEPTH=16,e.MAX_NATIVE_SCAN=16,e.MAX_NATIVE_SCAN_LEGACY=8,e.PAGE_URL_QUERY_PARAMS="pgq",e.V2A_CUSTOM_EVENTS=["c3.video.custom_event","c3.sdk.custom_event","c3.ad.custom_event"]}(ur||(ur={})),"function"==typeof AbortController&&(dr=new AbortController);var vr,gr=null==dr?void 0:dr.signal;!function(e){e.response_body="rsb",e.request_body="rqb",e.response_headers="rsh",e.request_headers="rqh",e.request_query="rqq"}(vr||(vr={}));var hr,pr=10240,mr=function(e){try{var t=void 0;return null!=e&&(t=e["content-type"]||e["Content-Type"]||e["Content-type"]),t}catch(e){}},yr={};!function(e){e.APPLICATION_BACKGROUND="abg",e.APPLICATION_ERROR="ae",e.WEBVITALS_LCP="conviva_webvitals_lcp",e.WEBVITALS_CLS="conviva_webvitals_cls",e.WEBVITALS_INP="conviva_webvitals_inp"}(hr||(hr={}));var br,wr={cacheRefreshInterval:30,base64:!1,lifecycleAutotracking:!0,exceptionAutotracking:!0,enablePeriodicHeartbeat:!0,periodicHeartbeatInterval:40,customEventTrackingConfiguration:{enabled:!0},softNavigationTrackingConfiguration:{enabled:!1,idleWindowMs:600,maxMeasurementMs:1e4,includeHashChanges:!1,domainAllowlist:[],domainBlocklist:["sdk.fra-01.braze.eu","tr.snapchat.com","analytics.google.com","ams.creativecdn.com","analytics.tiktok.com"]},networkRequestTrackingConfiguration:{eventCollectionMode:ur.NETWORK_REQUEST_EVENT_COLLECTION_MODE.BOTH,blocklist:["*"]},traceparentconfig:{enabled:!1,pref:ur.CONFIG_PREFERENCES.MERGE,targetUrl:[]},baggageConfiguration:{enabled:!1,targetUrl:[],attributeExtraction:[]},performanceContextConfig:1,configurationVersion:-1,catRcLastUpdatedTs:0,endpoint:ur.DEFAULT_END_POINT,applicationContext:!0,maxLocalStorageQueueSize:10,emitterConfiguration:{batching:{enabled:!0,byteLimitPostInKB:250,batchingIntervalInSec:5,urgentEvents:[hr.APPLICATION_BACKGROUND,hr.APPLICATION_ERROR,hr.WEBVITALS_LCP,hr.WEBVITALS_CLS,hr.WEBVITALS_INP]}},enc:"gzip",mend:!0,di:{en:!1,lim:30},clickcc:{en:!0,cssSelectorList:'\n  [role="button"],\n  [data-role="button"],\n  li,\n  [class^="btn"],\n  [class*="click"],\n  [data-click],\n  [data-action],\n  [tabindex]:not([tabindex="-1"]),\n  [onclick],\n  [role="datepicker"],\n  [class*="datepicker"],\n  [class*="date-picker"],\n  [class*="mat-datepicker"],\n  [class*="ant-picker"],\n  [class*="v-date-picker"],\n  [class*="react-datepicker"],\n  [class*="ngx-datepicker"],\n  [data-ng-click],\n  [ng-click],\n  [v-on\\:click],\n  [\\@click],\n  [data-test-id*="click"],\n  [data-testid*="button"],\n  [class*="-btn"],\n  [class*="-button"],\n  [class*="mat-button"],\n  [class*="v-btn"],\n  [class*="v-icon-button"],\n  [data-listener-count-click],\n  [class*="Button"]\n',uiMode:"closest"},collectionRateLimit:{exceptionAutotracking:{maxEvents:20,timeWindow:1e3,disconnectDuration:2e3}},evtStreamTrackingConfiguration:{enabled:!1,collect:[],block:[],conditionalCollectAttr:[],richContentInference:{cond:[]}},valueProbes:{enabled:!1,probes:[]},webVitals:{enabled:!1,collectattr:[]}},_r="cws.conviva.com rcg.conviva.com /wsg /ctp remote_config pings.conviva.com .m3u8 .mpd .ism .m4 .mp4 .ts .png .jpg .jpeg .bmp google-analytics.com googlesyndication.com googleapis stats.g.doubleclick chartbeat.com omtrdc.net app-measurement.com firebase nr-data.net newrelic bitmovin.com/impression bitmovin.com/analytics api.segment.io youbora hotjar mixpanel.com clevertap auryc .aac .vtt .googlevideo webp appsflyer facebook dynatrace mparticle npaw .pdf bookkeeper kochava mp3 marketingcloudapis demdex scorecardresearch lura.live perimeterx.net permutive.app segment.com vaicore.site boomtrain ketchcdn qualtrics .svg amplitude datadoghq branch.io hotjar splunkcloud".split(" ");!function(e){e.NONE="none",e.GZIP="gzip"}(br||(br={}));var kr,Cr,Er=function(e){var t={};return e.trim().split(/[\r\n]+/).forEach((function(e){var n=(e=e.split(":"))[1];t[e[0].trim()]=null==n?void 0:n.trim()})),t},Tr=function(e){var t={};return e.forEach((function(e,n){t[n]=e})),t},Sr="/ctp /wsg remote_config rc.conviva.com pings.conviva.com rcg.conviva.com".split(" ");!function(e){e[e.NETWORK_REQUEST=0]="NETWORK_REQUEST",e[e.CUSTOM_EVENT=1]="CUSTOM_EVENT",e[e.SSE_EVENT=2]="SSE_EVENT"}(Cr||(Cr={}));var Ar,Rr,Nr,Or,Ir,xr=0,Lr=0,Mr=ur.CONFIG_SOURCE.DEFAULT,Dr=0,Pr=!1,Ur=null,qr=null,Gr=0,Br='\n  button,\n  a,\n  select,\n  textarea,\n  input:not([type="hidden"]),\n  summary,\n  video,\n  audio\n'.replace(/\s+/g,"")||"",zr='\n[class*="card"]\n'.replace(/\s+/g,"")||"",Hr="undefined"!=typeof window&&null!==window&&void 0!==window&&window.localStorage?localStorage.getItem(ur.REMOTE_CONFIG_STORAGE_KEY):null,jr=Hr?null===(Rr=null===(Ar=JSON.parse(Hr).clickcc)||void 0===Ar?void 0:Ar.cssSelectorList)||void 0===Rr?void 0:Rr.replace(/\s+/g,""):null===(Nr=wr.clickcc)||void 0===Nr?void 0:Nr.cssSelectorList;!function(e){e.BOTH="both",e.CLOSEST="closest",e.RAW="raw"}(Ir||(Ir={})),"undefined"!=typeof Element&&Element.prototype&&!Element.prototype.closest&&(Element.prototype.closest=function(e){try{for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}}catch(e){Gt.warn("Conviva App Tracker caused Exception in closest polyfill method of user click tracking module",e)}return null});var Fr,Vr,Wr,Kr,Zr,Jr,Yr,Xr=function(e){this.cacheRefreshInterval=e.cacheRefreshInterval,this.base64=e.base64,this.corePlugins=e.corePlugins,this.callback=e.callback,this.lifecycleAutotracking=e.lifecycleAutotracking,this.exceptionAutotracking=e.exceptionAutotracking,this.enablePeriodicHeartbeat=e.enablePeriodicHeartbeat,this.periodicHeartbeatInterval=e.periodicHeartbeatInterval,this.enc=e.enc,this.maxLocalStorageQueueSize=e.maxLocalStorageQueueSize,this.maxPostBytes=e.maxPostBytes,this.maxGetBytes=e.maxGetBytes,this.bufferSize=e.bufferSize,this.customEventTrackingConfiguration=e.customEventTrackingConfiguration,this.softNavigationTrackingConfiguration=e.softNavigationTrackingConfiguration,this.networkRequestTrackingConfiguration=e.networkRequestTrackingConfiguration,this.traceparentconfig=e.traceparentconfig,this.baggageConfiguration=e.baggageConfiguration,this.metaTagsTrackingConfiguration=e.metaTagsTrackingConfiguration,this.performanceContextConfig=e.performanceContextConfig,this.mend=e.mend,this.configurationVersion=e.configurationVersion,this.catRcLastUpdatedTs=e.catRcLastUpdatedTs,this.endpoint=e.endpoint,this.emitterConfiguration=e.emitterConfiguration,this.controlIngestConfig=e.controlIngestConfig,this.applicationContext=e.applicationContext,this.di=e.di,this.clickcc=e.clickcc,this.collectionRateLimit=e.collectionRateLimit,this.pageUrlTrackingConfig=e.pageUrlTrackingConfig,this.sessionReplayConfiguration=e.sessionReplayConfiguration,this.evtStreamTrackingConfiguration=e.evtStreamTrackingConfiguration,this.valueProbes=e.valueProbes,this.webVitals=e.webVitals},Qr=function(){function e(){this.cacheRefreshInterval=wr.cacheRefreshInterval,this.base64=wr.base64,this.lifecycleAutotracking=wr.lifecycleAutotracking,this.exceptionAutotracking=wr.exceptionAutotracking,this.enablePeriodicHeartbeat=wr.enablePeriodicHeartbeat,this.periodicHeartbeatInterval=wr.periodicHeartbeatInterval,this.customEventTrackingConfiguration=bt({},wr.customEventTrackingConfiguration),this.softNavigationTrackingConfiguration=bt({},wr.softNavigationTrackingConfiguration),this.networkRequestTrackingConfiguration=bt({},wr.networkRequestTrackingConfiguration),this.traceparentconfig=bt({},wr.traceparentconfig),this.baggageConfiguration=bt({},wr.baggageConfiguration),this.performanceContextConfig=wr.performanceContextConfig,this.configurationVersion=wr.configurationVersion,this.catRcLastUpdatedTs=wr.catRcLastUpdatedTs,this.endpoint=wr.endpoint,this.emitterConfiguration=wr.emitterConfiguration,this.applicationContext=wr.applicationContext,this.enc=wr.enc,this.mend=wr.mend,this.di=bt({},wr.di),this.clickcc=bt({},wr.clickcc),this.collectionRateLimit=bt({},wr.collectionRateLimit),this.evtStreamTrackingConfiguration=bt({},wr.evtStreamTrackingConfiguration),this.valueProbes=bt({},wr.valueProbes),this.webVitals=bt({},wr.webVitals)}return e.prototype.setCacheRefreshInterval=function(e){return this.cacheRefreshInterval="number"==typeof e&&1<=e&&X(e)?e:wr.cacheRefreshInterval,this},e.prototype.setBase64=function(e){return"boolean"==typeof e&&(this.base64=e),this},e.prototype.setCorePlugins=function(e){return e&&(this.corePlugins=e),this},e.prototype.setCallback=function(e){return e&&(this.callback=e),this},e.prototype.setLifecycleAutotracking=function(e){return"boolean"==typeof e&&(this.lifecycleAutotracking=e),this},e.prototype.setExceptionAutotracking=function(e){return"boolean"==typeof e&&(this.exceptionAutotracking=e),this},e.prototype.setEnablePeriodicHeartbeat=function(e){return"boolean"==typeof e&&(this.enablePeriodicHeartbeat=e),this},e.prototype.setPeriodicHeartbeatInterval=function(e){return"number"==typeof e&&1<=e&&(this.periodicHeartbeatInterval=~~e),this},e.prototype.setEnc=function(e,t){return"string"==typeof e&&Object.values(br).includes(e)?this.enc=e:t&&"string"==typeof t&&Object.values(br).includes(t)?this.enc=t:this.enc=wr.enc,this},e.prototype.setMaxLocalStorageQueueSize=function(e){return"number"==typeof e&&(this.maxLocalStorageQueueSize=e),this},e.prototype.setMaxGetBytes=function(e){return"number"==typeof e&&(this.maxGetBytes=e),this},e.prototype.setBufferSize=function(e){return"number"==typeof e&&(this.bufferSize=e),this},e.prototype.setCustomEventTrackingConfiguration=function(e){return e&&(this.customEventTrackingConfiguration=e),this},e.prototype.setSoftNavigationTrackingConfiguration=function(e){return e&&(this.softNavigationTrackingConfiguration=e),this},e.prototype.setEmitterConfiguration=function(e){return void 0!==e&&(void 0!==e.batching.enabled&&(this.emitterConfiguration.batching.enabled=e.batching.enabled),void 0!==e.batching.batchingIntervalInSec&&0<e.batching.batchingIntervalInSec&&(this.emitterConfiguration.batching.batchingIntervalInSec=e.batching.batchingIntervalInSec),"undefined"!=e.batching.byteLimitPostInKB&&0<e.batching.byteLimitPostInKB&&(this.emitterConfiguration.batching.byteLimitPostInKB=e.batching.byteLimitPostInKB),void 0!==e.batching.urgentEvents&&(this.emitterConfiguration.batching.urgentEvents=e.batching.urgentEvents)),this},e.prototype.setNetworkRequestTrackingConfiguration=function(e,t,n){return e&&(this.networkRequestTrackingConfiguration=e,this.networkRequestTrackingConfiguration.eventCollectionMode||(this.networkRequestTrackingConfiguration.eventCollectionMode=wr.networkRequestTrackingConfiguration.eventCollectionMode),t&&(this.networkRequestTrackingConfiguration.blocklist||(this.networkRequestTrackingConfiguration.blocklist=[]),n&&this.networkRequestTrackingConfiguration.blocklist.push(n),this.networkRequestTrackingConfiguration.blocklist=this.networkRequestTrackingConfiguration.blocklist.concat(_r))),this},e.prototype.setTraceparentconfig=function(e){return e&&(this.traceparentconfig=e),this},e.prototype.setBaggageConfiguration=function(e){return null!=e&&("boolean"==typeof e.enabled&&(this.baggageConfiguration.enabled=e.enabled),void 0!==e.targetUrl&&(this.baggageConfiguration.targetUrl=e.targetUrl),void 0!==e.attributeExtraction&&(this.baggageConfiguration.attributeExtraction=e.attributeExtraction)),this},e.prototype.setMetaTagsTrackingConfiguration=function(e){return e&&(this.metaTagsTrackingConfiguration=e),this},e.prototype.setPerformanceContextConfig=function(e){return"number"==typeof e&&(this.performanceContextConfig=e),this},e.prototype.setMend=function(e,t){return"boolean"==typeof e?this.mend=e:"boolean"==typeof t&&(this.mend=t),this},e.prototype.setConfigurationVersion=function(e){return"number"==typeof e&&(this.configurationVersion=e),this},e.prototype.setCatRcLastUpdatedTs=function(e){return"number"==typeof e&&(this.catRcLastUpdatedTs=e),this},e.prototype.setEndPoint=function(e,t,n){return"string"==typeof n&&0<n.trim().length?this.endpoint=n:"string"==typeof e&&0<e.trim().length?this.endpoint=e:t&&"string"==typeof t&&0<t.trim().length?this.endpoint=t:this.endpoint=wr.endpoint,this},e.prototype.setcontrolIngestConfig=function(e){return void 0!==e?this.controlIngestConfig=e:ce(),this},e.prototype.setApplicationContext=function(e){return void 0!==e&&(this.applicationContext=e),this},e.prototype.setDi=function(e){return void 0!==e&&(this.di=bt(bt({},this.di),e)),this},e.prototype.setClickcc=function(e){var t,n;return void 0!==e&&("boolean"==typeof e.en&&(this.clickcc.en=e.en),e.cssSelectorList&&0<e.cssSelectorList.trim().length&&(this.clickcc.cssSelectorList=e.cssSelectorList),"string"==typeof e.uiMode&&Object.values(Ir).includes(e.uiMode)&&(this.clickcc.uiMode=e.uiMode),void 0!==e.block&&(this.clickcc.block=e.block),void 0!==e.collect&&(this.clickcc.collect=e.collect),void 0!==e.collectattr&&(this.clickcc.collectattr=e.collectattr)),"boolean"==typeof(null===(t=null==this?void 0:this.clickcc)||void 0===t?void 0:t.en)&&!0===(null===(n=null==this?void 0:this.clickcc)||void 0===n?void 0:n.en)?Pe():Ue(),this},e.prototype.setCollectionRateLimit=function(e){return null!=e&&(this.collectionRateLimit=bt(bt({},this.collectionRateLimit),e)),this},e.prototype.setPageUrlTrackingConfig=function(e){return this.pageUrlTrackingConfig=void 0!==e?e:null,this},e.prototype.setSessionReplayConfiguration=function(e){return this.sessionReplayConfiguration=void 0!==e?e:null,this},e.prototype.setValueProbes=function(e){var t,n;return this.valueProbes=void 0!==e?bt(bt({},e),{enabled:null!==(t=null==e?void 0:e.enabled)&&void 0!==t&&t,probes:null!==(n=null==e?void 0:e.probes)&&void 0!==n?n:[]}):bt({},wr.valueProbes),this},e.prototype.setWebVitals=function(e){var t,n;return this.webVitals=void 0!==e?bt(bt({},e),{enabled:null!==(t=null==e?void 0:e.enabled)&&void 0!==t&&t,collectattr:null!==(n=null==e?void 0:e.collectattr)&&void 0!==n?n:[]}):bt({},wr.webVitals),this},e.prototype.setEvtStreamTrackingConfiguration=function(e){return void 0!==e&&("boolean"==typeof e.enabled&&(this.evtStreamTrackingConfiguration.enabled=e.enabled),void 0!==e.block&&(this.evtStreamTrackingConfiguration.block=e.block),void 0!==e.collect&&(this.evtStreamTrackingConfiguration.collect=e.collect),void 0!==e.conditionalCollectAttr&&(this.evtStreamTrackingConfiguration.conditionalCollectAttr=e.conditionalCollectAttr),void 0!==e.richContentInference&&(this.evtStreamTrackingConfiguration.richContentInference=e.richContentInference),void 0!==e.bufferMaxBytes&&(this.evtStreamTrackingConfiguration.bufferMaxBytes=e.bufferMaxBytes)),this},e.prototype.build=function(){return new Xr(this)},e}(),$r=!1,eo=null,to=0,no=!1,io=function(e,t,n){var i,r,o,a,l,s={},c={};if("undefined"!=typeof window&&null!==window&&void 0!==window&&window.localStorage)try{localStorage.removeItem(ur.END_POINT_STORAGE_KEY),(l=localStorage.getItem(ur.REMOTE_CONFIG_STORAGE_KEY))?Mr=ur.CONFIG_SOURCE.CACHED:l=JSON.stringify(c)}catch(e){l=JSON.stringify(c),no=!0;var u={className:"fetchRemoteConfig - localstorage",error:e,configAppliedSrc:Mr,configAppliedTime:Dr};setTimeout((function(){Ie(kr,null==Vr?void 0:Vr.getSamplingMode,u)}),0),Gt.warn("Issue while fetching data from local storage")}else l=JSON.stringify(c);try{s=JSON.parse(l)}catch(e){no=!0;var d={className:"fetchRemoteConfig - parsing cached data",error:e,configAppliedSrc:Mr,configAppliedTime:Dr};setTimeout((function(){Ie(kr,null==Vr?void 0:Vr.getSamplingMode,d)}),0),Gt.warn("Issue while parsing storedConvivaRemoteConfig")}c=(new Qr).setBase64(null==s?void 0:s.base64).setCacheRefreshInterval(null==s?void 0:s.cacheRefreshInterval).setLifecycleAutotracking(null==s?void 0:s.lifecycleAutotracking).setExceptionAutotracking(null==s?void 0:s.exceptionAutotracking).setEnablePeriodicHeartbeat(null==s?void 0:s.enablePeriodicHeartbeat).setPeriodicHeartbeatInterval(null==s?void 0:s.periodicHeartbeatInterval).setEnc(null==s?void 0:s.enc,null===(r=null===(i=null==n?void 0:n.configs)||void 0===i?void 0:i.network)||void 0===r?void 0:r.encoding).setMaxLocalStorageQueueSize(null==s?void 0:s.maxLocalStorageQueueSize).setMaxGetBytes(null==s?void 0:s.maxGetBytes).setBufferSize(null==s?void 0:s.bufferSize).setCustomEventTrackingConfiguration(null==s?void 0:s.customEventTrackingConfiguration).setSoftNavigationTrackingConfiguration(null==s?void 0:s.softNavigationTrackingConfiguration).setEndPoint(null==s?void 0:s.endpoint,n.gatewayUrl,n.proxyGatewayUrl).setNetworkRequestTrackingConfiguration(null==s?void 0:s.networkRequestTrackingConfiguration,!1).setMetaTagsTrackingConfiguration(null==s?void 0:s.metaTagsTrackingConfiguration).setTraceparentconfig(null==s?void 0:s.traceparentconfig).setBaggageConfiguration(null==s?void 0:s.baggageConfiguration).setMend(null==s?void 0:s.mend,null===(a=null===(o=null==n?void 0:n.configs)||void 0===o?void 0:o.network)||void 0===a?void 0:a.mergeEndpoint).setPerformanceContextConfig(null==s?void 0:s.performanceContextConfig).setConfigurationVersion(null==s?void 0:s.configurationVersion).setCatRcLastUpdatedTs(null==s?void 0:s.catRcLastUpdatedTs).setEmitterConfiguration(null==s?void 0:s.emitterConfiguration).setcontrolIngestConfig(null==s?void 0:s.controlIngestConfig).setApplicationContext(null==s?void 0:s.applicationContext).setDi(null==s?void 0:s.di).setClickcc(null==s?void 0:s.clickcc).setCollectionRateLimit(null==s?void 0:s.collectionRateLimit).setPageUrlTrackingConfig(null==s?void 0:s.pageUrlTrackingConfig).setSessionReplayConfiguration(null==s?void 0:s.sessionReplayConfiguration).setEvtStreamTrackingConfiguration(null==s?void 0:s.evtStreamTrackingConfiguration).setValueProbes(null==s?void 0:s.valueProbes).setWebVitals(null==s?void 0:s.webVitals).build(),i="Cached Config Applied",Mr===ur.CONFIG_SOURCE.DEFAULT&&(i="Default Config Applied"),Dr=(new Date).getTime();var f={message:i,className:"browserTrackerCore",configAppliedSrc:Mr,configAppliedTime:Dr};setTimeout((function(){Ie(kr,null==Vr?void 0:Vr.getSamplingMode,f)}),0),e=e.split("js-")[1].split(" ")[0];var v=(n.proxyGatewayUrl?n.proxyGatewayUrl+"/js/":ur.REMOTE_CONFIG_URL_PREFIX)+n.convivaCustomerKey+"/"+e+ur.REMOTE_CONFIG_FILE_NAME;return window.XMLHttpRequest&&((Fr=new XMLHttpRequest).onreadystatechange=function(){var e;try{if(4==Fr.readyState)if($r=!1,200==Fr.status){var i={message:"Remote config request is successful - ".concat("number"==typeof Fr.status?Fr.status:""),className:"configtimerCallback - onreadystatechange",configAppliedSrc:Mr,configAppliedTime:Dr};Ie(kr,null==Vr?void 0:Vr.getSamplingMode,i),to=0;var r=JSON.parse(Fr.response);if(i=kr,(null==r?void 0:r.configurationBundle[0].namespace)!==t)Ie(kr,null==Vr?void 0:Vr.getSamplingMode,{message:"Remote Config not Applied due to a missing namespace",className:"updateRemoteConfig",configAppliedSrc:Mr,configAppliedTime:Dr});else{if(!r.hasOwnProperty("configurationVersion")||(null===(e=i.getConfig())||void 0===e?void 0:e.configurationVersion)===(null==r?void 0:r.configurationVersion)){var o=localStorage.getItem(ur.REMOTE_CONFIG_STORAGE_KEY);if(o)return(o=JSON.parse(o)).catRcLastUpdatedTs=(new Date).getTime(),window.localStorage&&(localStorage.removeItem(ur.REMOTE_CONFIG_STORAGE_KEY),localStorage.setItem(ur.REMOTE_CONFIG_STORAGE_KEY,JSON.stringify(o))),void Ie(kr,null==Vr?void 0:Vr.getSamplingMode,{message:"Remote Config not Applied as same version is fetched",className:"updateRemoteConfig",configAppliedSrc:Mr,configAppliedTime:Dr})}c.catRcLastUpdatedTs=(new Date).getTime();var a=r.cri||r.cacheRefreshInterval||wr.cacheRefreshInterval;if(a=1>a?wr.cacheRefreshInterval:X(a)?a:wr.cacheRefreshInterval,c.cacheRefreshInterval!=a&&(c.cacheRefreshInterval=a,ro(c.cacheRefreshInterval,c.catRcLastUpdatedTs,n,v,ur.RC_FETCH_MODE.DO_NOT_FETCH_UPDATE_TIMER)),ao(r,c.catRcLastUpdatedTs,n)){var l=new Event("RemoteConfigUpdateApplied");null!==window&&void 0!==window&&window.dispatchEvent&&window.dispatchEvent(l)}}}else try{2>to&&window.setTimeout((function(){null!=n&&n.trackerConfigUrl?oo(null==n?void 0:n.trackerConfigUrl,!0):oo(v,!0)}),5e3*(to+1));var s={message:"Remote config request is not successful - ".concat("number"==typeof Fr.status?Fr.status:""),className:"configtimerCallback - onreadystatechange",configAppliedSrc:Mr,configAppliedTime:Dr};Ie(kr,null==Vr?void 0:Vr.getSamplingMode,s),2<=to&&Ie(kr,null==Vr?void 0:Vr.getSamplingMode,{message:"Remote config is not applied since failed to download remote config after 3 tries",className:"configtimerCallback - onreadystatechange",configAppliedSrc:Mr,configAppliedTime:Dr})}catch(e){}}catch(e){$r=!1,console.warn("Conviva App Tracker:: Error in fetching remote-config ".concat(e)),Ie(kr,null==Vr?void 0:Vr.getSamplingMode,{className:"configtimerCallback - onreadystatechange",error:e,configAppliedSrc:Mr,configAppliedTime:Dr})}},ro(c.cacheRefreshInterval,c.catRcLastUpdatedTs,n,v,void 0!==no&&!0===no?ur.RC_FETCH_MODE.IMMEDIATE_FETCH:ur.RC_FETCH_MODE.UPDATE_TIMER_WITH_DIFF)),{convivaRemoteTrackerConfig:c}},ro=function(e,t,n,i,r){var o=n.trackerConfigUrl?n.trackerConfigUrl:i;if("number"==typeof eo){window.clearInterval(eo);var a={message:"Cancelling remote config timer",className:"updateRemoteConfig",extraData:{mode:r},configAppliedSrc:Mr,configAppliedTime:Dr};setTimeout((function(){Ie(kr,null==Vr?void 0:Vr.getSamplingMode,a)}),0)}var l=function(){var t={message:"Starting remote config timer with delay of ".concat(60*e," seconds"),className:"updateRemoteConfig",configAppliedSrc:Mr,configAppliedTime:Dr};setTimeout((function(){Ie(kr,null==Vr?void 0:Vr.getSamplingMode,t)}),0),eo=window.setInterval(oo,6e4*e,o)};try{var s=t?((new Date).getTime()-t)/6e4:e;if(n=e-s,i=3*e/100,"string"==typeof r&&r===ur.RC_FETCH_MODE.DO_NOT_FETCH_UPDATE_TIMER)l();else if("string"==typeof r&&r===ur.RC_FETCH_MODE.UPDATE_TIMER_WITH_DIFF&&0<t&&n>i){window.setTimeout((function(){oo(o),l()}),6e4*n);var c={message:"Starting remote config timer with delay of ".concat(60*n," seconds"),className:"updateRemoteConfig",extraData:{mode:r},configAppliedSrc:Mr,configAppliedTime:Dr};setTimeout((function(){Ie(kr,null==Vr?void 0:Vr.getSamplingMode,c)}),0)}else oo(o),l()}catch(e){console.warn("Conviva App Tracker:: Error in setting cacheRefreshIntervalTimer",e),oo(o),l();var u={className:"cacheRefreshIntervalTimer",error:e,configAppliedSrc:Mr,configAppliedTime:Dr};setTimeout((function(){Ie(kr,null==Vr?void 0:Vr.getSamplingMode,u)}),0)}},oo=function(e,t){try{if("boolean"==typeof $r&&!1===$r){t?to++:to=0,Fr.timeout=3e4,Fr.open("GET",e,!0),$r=!0;var n={message:"Remote config fetch attempt",className:"updateRemoteConfig",configAppliedSrc:Mr,configAppliedTime:Dr};setTimeout((function(){Ie(kr,null==Vr?void 0:Vr.getSamplingMode,n)}),0),Fr.send()}}catch(e){$r=!1,Gt.warn("Conviva App Tracker:: Error in configtimerCallback ".concat(e));var i={className:"configtimerCallback",error:e,configAppliedSrc:Mr,configAppliedTime:Dr};setTimeout((function(){Ie(kr,null==Vr?void 0:Vr.getSamplingMode,i)}),0)}},ao=function(e,t,n){var i,r,o,a,l,s,c,u,d,f,v,g,h,p,m,y,b,w,_,k,C,E,T,S,A,R,N,O,I,x,L,M,D,P,U,q=kr;try{var G=(new Qr).setBase64(e.configurationBundle[0].trackerConfiguration.base64Encoding).setCacheRefreshInterval(e.cri||e.cacheRefreshInterval).setLifecycleAutotracking(null===(r=null===(i=e.configurationBundle[0])||void 0===i?void 0:i.trackerConfiguration)||void 0===r?void 0:r.lifecycleAutotracking).setExceptionAutotracking(null===(a=null===(o=e.configurationBundle[0])||void 0===o?void 0:o.trackerConfiguration)||void 0===a?void 0:a.exceptionAutotracking).setEnablePeriodicHeartbeat(null===(s=null===(l=e.configurationBundle[0])||void 0===l?void 0:l.trackerConfiguration)||void 0===s?void 0:s.enablePeriodicHeartbeat).setPeriodicHeartbeatInterval(null===(u=null===(c=e.configurationBundle[0])||void 0===c?void 0:c.trackerConfiguration)||void 0===u?void 0:u.periodicHeartbeatInterval).setEnc(null===(f=null===(d=e.configurationBundle[0])||void 0===d?void 0:d.networkConfiguration)||void 0===f?void 0:f.enc,null===(g=null===(v=null==n?void 0:n.configs)||void 0===v?void 0:v.network)||void 0===g?void 0:g.encoding).setMaxLocalStorageQueueSize(null===(p=null===(h=e.configurationBundle[0])||void 0===h?void 0:h.networkConfiguration)||void 0===p?void 0:p.maxLocalStorageQueueSize).setMaxGetBytes(null===(y=null===(m=e.configurationBundle[0])||void 0===m?void 0:m.networkConfiguration)||void 0===y?void 0:y.maxGetBytes).setBufferSize(null===(w=null===(b=e.configurationBundle[0])||void 0===b?void 0:b.networkConfiguration)||void 0===w?void 0:w.bufferSize).setCustomEventTrackingConfiguration(null===(_=e.configurationBundle[0])||void 0===_?void 0:_.customEventTrackingConfiguration).setSoftNavigationTrackingConfiguration(null===(k=e.configurationBundle[0])||void 0===k?void 0:k.softNavigationTrackingConfiguration).setEndPoint(null===(E=null===(C=e.configurationBundle[0])||void 0===C?void 0:C.networkConfiguration)||void 0===E?void 0:E.endpoint,n.gatewayUrl,n.proxyGatewayUrl).setNetworkRequestTrackingConfiguration(null===(T=e.configurationBundle[0])||void 0===T?void 0:T.networkRequestTrackingConfiguration,!0,null===(A=null===(S=e.configurationBundle[0])||void 0===S?void 0:S.networkConfiguration)||void 0===A?void 0:A.endpoint).setMetaTagsTrackingConfiguration(null===(R=e.configurationBundle[0])||void 0===R?void 0:R.metaTagsTrackingConfiguration).setTraceparentconfig(null===(N=e.configurationBundle[0])||void 0===N?void 0:N.traceparentconfig).setBaggageConfiguration(null===(O=e.configurationBundle[0])||void 0===O?void 0:O.baggageConfiguration).setMend(null===(x=null===(I=e.configurationBundle[0])||void 0===I?void 0:I.networkConfiguration)||void 0===x?void 0:x.mend,null===(M=null===(L=null==n?void 0:n.configs)||void 0===L?void 0:L.network)||void 0===M?void 0:M.mergeEndpoint).setPerformanceContextConfig(null===(P=null===(D=e.configurationBundle[0])||void 0===D?void 0:D.trackerConfiguration)||void 0===P?void 0:P.perfCx).setConfigurationVersion(e.configurationVersion).setCatRcLastUpdatedTs(t).setEmitterConfiguration(e.configurationBundle[0].emitterConfiguration).setcontrolIngestConfig(e["ctrl-ingst"]).setApplicationContext(e.configurationBundle[0].trackerConfiguration.applicationContext).setDi(e.configurationBundle[0].di).setClickcc(e.configurationBundle[0].clickcc).setCollectionRateLimit(e.configurationBundle[0].collectionRateLimit).setPageUrlTrackingConfig(e.configurationBundle[0].pageUrlTrackingConfig).setSessionReplayConfiguration(e.configurationBundle[0].sessionReplayConfiguration).setEvtStreamTrackingConfiguration(e.configurationBundle[0].evtStreamTrackingConfiguration).setValueProbes(e.configurationBundle[0].valueProbes).setWebVitals(e.configurationBundle[0].webVitals).build();Mr=ur.CONFIG_SOURCE.REMOTE,Dr=(new Date).getTime(),null==q||q.setConfig(G),e={message:"Remote Config Applied",className:"updateRemoteConfig - tracker",configAppliedSrc:Mr,configAppliedTime:Dr},Ie(kr,null==Vr?void 0:Vr.getSamplingMode,e),null==Vr||Vr.setCollectorUrl(null===(U=null==q?void 0:q.getConfig())||void 0===U?void 0:U.endpoint,n.convivaCustomerKey);try{window.localStorage&&(localStorage.removeItem(ur.REMOTE_CONFIG_STORAGE_KEY),localStorage.setItem(ur.REMOTE_CONFIG_STORAGE_KEY,JSON.stringify(G)))}catch(e){Ie(kr,null==Vr?void 0:Vr.getSamplingMode,{className:"updateRemoteConfig - localstorage",error:e,configAppliedSrc:Mr,configAppliedTime:Dr}),console.warn("Conviva: Error while saving remote-config to localstorage",e)}}catch(t){return e={className:"updateRemoteConfig - tracker",error:t,configAppliedSrc:Mr,configAppliedTime:Dr},Ie(kr,null==Vr?void 0:Vr.getSamplingMode,e),console.warn("Conviva: Error while updating remote-config",t),!1}return!0},lo={idleMs:3e4,maxEvents:1e4,bufferMaxBytes:1e6},so=function(){function e(e,t,n){var i;this.originalFetch=null===(i=null===window||void 0===window?void 0:window.fetch)||void 0===i?void 0:i.bind(window),this.sseCountStates=new Map,this.inflightRequests=0,this.core=kr,this.trackerMethods=e,this.trackerConfiguration=t,this.getSamplingMode=n,this.handleResponse=this.handleResponse.bind(this),this.addTraceparentHeader=this.addTraceparentHeader.bind(this),this.addBaggageHeader=this.addBaggageHeader.bind(this)}return e.prototype.cleanupNetworkRequestHandler=function(){e.instance=null},e.getInstance=function(t,n,i){return e.instance||(e.instance=new e(t,n,i)),e.instance},e.prototype.initiateNetworkRequestTracking=function(){try{this.decorateXMLHttpRequest(),this.decorateFetch(),this.decorateWebSocket(),this.decorateEventSource()}catch(e){console.warn("Conviva App Tracker:: Unable to track network request ".concat(e))}},e.prototype.decorateXMLHttpRequest=function(){var e=this,t=XMLHttpRequest.prototype.open,n=XMLHttpRequest.prototype.send,i=XMLHttpRequest.prototype.setRequestHeader;XMLHttpRequest.prototype.open=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];try{this._conviva={method:n[0],url:e.normalizeUrl(n[1]),headers:{}}}catch(e){console.warn("Conviva App Tracker:: Unable to normalizeUrl while open ".concat(e))}return t.apply(this,n)},XMLHttpRequest.prototype.setRequestHeader=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{this._conviva&&(this._conviva.headers[e[0]]=e[1])}catch(e){console.warn("Conviva App Tracker:: while setRequestHeader ".concat(e))}return i.apply(this,e)},XMLHttpRequest.prototype.send=function(){for(var t=this,i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];try{var o=this._conviva;if(!o)return;var a=e.addTraceparentHeader(this,o.url,o.headers),l=e.addBaggageHeader(this,o.url,o.headers,o.method,i[0]),s=e.createRequestDetails(o.method,o.url,o.headers,i[0],a,l);r=gr,e.shouldTrackForSoftNavigation(s.url||"")&&e.incrementInflightRequests(),this.addEventListener("load",(function(){e.shouldTrackForSoftNavigation(s.url||"")&&e.decrementInflightRequests(),e.handleResponse(t,s,"load")}),{signal:r}),this.addEventListener("error",(function(){e.shouldTrackForSoftNavigation(s.url||"")&&e.decrementInflightRequests(),e.handleResponse(t,s,"error")}),{signal:r}),this.addEventListener("abort",(function(){e.shouldTrackForSoftNavigation(s.url||"")&&e.decrementInflightRequests(),e.handleResponse(t,s,"abort")}),{signal:r}),this.addEventListener("timeout",(function(){e.shouldTrackForSoftNavigation(s.url||"")&&e.decrementInflightRequests(),e.handleResponse(t,s,"timeout")}),{signal:r})}catch(e){console.warn("Conviva App Tracker:: Unable to track network request while send ".concat(e))}return n.apply(this,i)}},e.prototype.decorateFetch=function(){window.fetch=this.interceptFetch.bind(this)},e.prototype.interceptFetch=function(e,t){var n,i,r,o,a,l,s,c,u;return f(this,void 0,void 0,(function(){var d,f,g,h,p,m,y,b,w,_,k,C,E,T,S,A,R,N,O,I,x,L,M,D,P,U=this;return v(this,(function(v){switch(v.label){case 0:if(h=g=null,m=this,!(e instanceof Request))return[3,5];f=null==e?void 0:e.clone();try{y=!1,null===(n=null==f?void 0:f.headers)||void 0===n||n.forEach((function(e,t){ur.TRACEPARENT_HEADER_KEY===t&&(y=!0)})),y||null!==(g=this.generateTraceparentHeader(f.url))&&""!==g&&e.headers.set(ur.TRACEPARENT_HEADER_KEY,g),b=!1,null===(i=null==f?void 0:f.headers)||void 0===i||i.forEach((function(e,t){ur.BAGGAGE_HEADER_KEY===t&&(b=!0)})),b||(w={},f.headers.forEach((function(e,t){w[t]=e})),_={method:f.method,url:f.url,headers:w,body:void 0},null!==(h=this.generateBaggageHeader(f.url,_))&&""!==h&&e.headers.set(ur.BAGGAGE_HEADER_KEY,h))}catch(e){console.warn("ConvivaAppTracker: Issue while adding traceparent header",e)}d=this.originalFetch(e),v.label=1;case 1:return v.trys.push([1,3,,4]),[4,f.text()];case 2:return p=v.sent(),[3,4];case 3:return v.sent(),[3,4];case 4:return[3,6];case 5:try{t&&t.headers?(k=m.core.getConfig(),(null!==(r=null==k?void 0:k.traceparentconfig)&&void 0!==r&&r.enabled||null!==(o=null==k?void 0:k.baggageConfiguration)&&void 0!==o&&o.enabled)&&(E=(C=t.headers instanceof Headers)?new Headers(t.headers):t.headers,T=!1,C?E.forEach((function(e,t){ur.TRACEPARENT_HEADER_KEY===t&&(T=!0)})):Object.keys(E).forEach((function(e){ur.TRACEPARENT_HEADER_KEY===e&&(T=!0)})),T||null!==(g=this.generateTraceparentHeader(e))&&""!==g&&(C?E.set(ur.TRACEPARENT_HEADER_KEY,g):E[ur.TRACEPARENT_HEADER_KEY]=g),S=!1,C?E.forEach((function(e,t){ur.BAGGAGE_HEADER_KEY===t&&(S=!0)})):Object.keys(E).forEach((function(e){ur.BAGGAGE_HEADER_KEY===e&&(S=!0)})),S||(A={},C?E.forEach((function(e,t){A[t]=e})):A=E,_={method:(null==t?void 0:t.method)||"GET",url:e,headers:A,body:null==t?void 0:t.body},null!==(h=this.generateBaggageHeader(e,_))&&""!==h&&(C?E.set(ur.BAGGAGE_HEADER_KEY,h):E[ur.BAGGAGE_HEADER_KEY]=h)),t.headers=E)):(k=m.core.getConfig(),(null!==(a=null==k?void 0:k.traceparentconfig)&&void 0!==a&&a.enabled||null!==(l=null==k?void 0:k.baggageConfiguration)&&void 0!==l&&l.enabled)&&(E=new Headers,null!==(g=this.generateTraceparentHeader(e))&&""!==g&&E.set(ur.TRACEPARENT_HEADER_KEY,g),_={method:(null==t?void 0:t.method)||"GET",url:e,headers:{},body:null==t?void 0:t.body},null!==(h=this.generateBaggageHeader(e,_))&&""!==h&&E.set(ur.BAGGAGE_HEADER_KEY,h),t||(t={}),t.headers=E))}catch(e){console.warn("ConvivaAppTracker: Issue while adding traceparent header",e)}d=this.originalFetch(e,t),f=new Request(e,t).clone(),p=null==t?void 0:t.body,v.label=6;case 6:try{R=void 0;try{R=Tr(f.headers)}catch(e){}N={method:f.method,url:decodeURIComponent(f.url),headers:R,body:p,requestTimestamp:null===Date||void 0===Date?void 0:Date.now(),requestTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())},this.shouldTrackForSoftNavigation(f.url)&&this.incrementInflightRequests(),this.getSamplingMode()!==ur.SAMPLING_MODES.NONE&&(O=this.core.getConfig().networkRequestTrackingConfiguration,I=this.core.getConfig().evtStreamTrackingConfiguration,x=O.blocklist,L=null===(u=null===(c=null===(s=this.trackerConfiguration)||void 0===s?void 0:s.configs)||void 0===c?void 0:c.networkRequestTracking)||void 0===u?void 0:u.safelist,M=O.collect,D=O.block,P=O.eventCollectionMode===ur.NETWORK_REQUEST_EVENT_COLLECTION_MODE.AUTO||O.eventCollectionMode===ur.NETWORK_REQUEST_EVENT_COLLECTION_MODE.BOTH,null!==g&&""!==g&&(N[ur.TRACEPARENT_HEADER_KEY]=g),null!==h&&""!==h&&(N[ur.BAGGAGE_HEADER_KEY]=h),d.then((function(e){var t,n,i;U.shouldTrackForSoftNavigation(f.url)&&U.decrementInflightRequests();try{var r=e.headers.get("content-type");if(I&&I.enabled&&r&&r.includes("text/event-stream")){var o=e.clone().body;o?Ge(o,f.url,/\r?\n\r?\n/,Be,(function(e){U.processStreamEvent(e,f.url,"conviva_sse_message")}),{idleMs:I.idleMs,maxEvents:I.maxEvents,bufferMaxBytes:I.bufferMaxBytes},(function(){U.cleanupSSECountState(f.url)})).catch((function(){})):console.warn("Conviva App Tracker:: Response body is null, cannot read as stream")}else if(function(e,t){var n;return(null===(n=null==t?void 0:t.configs)||void 0===n?void 0:n.plainTextChunkTracking)&&t.configs.plainTextChunkTracking.enabled&&t.configs.plainTextChunkTracking.endpoints.some((function(t){return e.includes(t)}))}(f.url,U.trackerConfiguration)){if(Ee(M,D,x,L,e,N)){var a=void 0;try{a=Tr(e.headers)}catch(e){}var l={status:null==e?void 0:e.status,statusText:""!==(null==e?void 0:e.statusText)?null==e?void 0:e.statusText:void 0,headers:a,size:0,responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())};U.trackerMethods.trackNetworkRequest({requestDetails:N,responseDetails:l})}(o=e.clone().body)?(U.resetStreamCountState(f.url),Ge(o,f.url,null!==(i=null===(n=null===(t=U.trackerConfiguration.configs)||void 0===t?void 0:t.plainTextChunkTracking)||void 0===n?void 0:n.delimiter)&&void 0!==i?i:/\r?\n/,ze,(function(e){U.processStreamEvent(e,f.url,"conviva_chunk_message")}),{idleMs:I.idleMs,maxEvents:I.maxEvents,bufferMaxBytes:I.bufferMaxBytes},(function(){U.cleanupSSECountState(f.url)})).catch((function(){}))):console.warn("Conviva App Tracker:: Response body is null, cannot read as stream")}else if(O&&O.enabled&&P){var s=Ee(M,D,x,L,e,N);if(s){a=void 0;try{a=Tr(e.headers)}catch(e){}var c={status:null==e?void 0:e.status,statusText:""!==(null==e?void 0:e.statusText)?null==e?void 0:e.statusText:void 0,headers:a,size:0,responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())};e.clone().json().then((function(e){c.body=e,null!=(e=U.core.getConfig().baggageConfiguration)&&e.enabled&&qe(N,c,e,U.core),U.trackerMethods.trackNetworkRequest({requestDetails:N,responseDetails:c})})).catch((function(){var e=U.core.getConfig().baggageConfiguration;null!=e&&e.enabled&&qe(N,c,e,U.core),U.trackerMethods.trackNetworkRequest({requestDetails:N,responseDetails:c})}))}}}catch(t){s=Ee(M,D,x,L,e,N),O&&O.enabled&&s&&P&&(l={statusText:t.toString(),responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())},U.trackerMethods.trackNetworkRequest({requestDetails:N,responseDetails:l}))}})).catch((function(e){U.shouldTrackForSoftNavigation(f.url)&&U.decrementInflightRequests();var t=Ee(M,D,x,L,null,N);O&&O.enabled&&t&&P&&(e={statusText:e.toString(),responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())},U.trackerMethods.trackNetworkRequest({requestDetails:N,responseDetails:e}))})))}catch(e){console.warn("Conviva App Tracker:: Unable to track network request while fetch interceptRequest ".concat(e))}return[2,d]}}))}))},e.prototype.handleResponse=function(e,t,n){var i,r,o,a;try{if(this.getSamplingMode()!==ur.SAMPLING_MODES.NONE){var l=null===(i=this.core)||void 0===i?void 0:i.getConfig().networkRequestTrackingConfiguration,s=l.blocklist,c=null===(a=null===(o=null===(r=this.trackerConfiguration)||void 0===r?void 0:r.configs)||void 0===o?void 0:o.networkRequestTracking)||void 0===a?void 0:a.safelist,u=Ee(l.collect,l.block,s,c,e,t),d=l.eventCollectionMode===ur.NETWORK_REQUEST_EVENT_COLLECTION_MODE.AUTO||l.eventCollectionMode===ur.NETWORK_REQUEST_EVENT_COLLECTION_MODE.BOTH;if(l&&l.enabled&&d&&u){var f={status:e.status,statusText:e.statusText||("load"!==n?n:void 0),responseTimestamp:Date.now(),responseTime:performance.now()||Date.now(),headers:Er(e.getAllResponseHeaders()),body:e.response},v=this.core.getConfig().baggageConfiguration;null!=v&&v.enabled&&qe(t,f,v,this.core),this.trackerMethods.trackNetworkRequest({requestDetails:t,responseDetails:f})}}}catch(e){Gt.warn("Conviva App Tracker:: Unable to track network request error while handleResponse ".concat(e))}},e.prototype.decorateWebSocket=function(){function e(e){n?n.has(e)||(n.add(e),t.addWebSocketEventListeners(e)):e.__convivaWsTag__||(e.__convivaWsTag__=!0,t.addWebSocketEventListeners(e))}var t=this,n="undefined"!=typeof WeakSet?new WeakSet:null,i=WebSocket.prototype.send;WebSocket.prototype.send=function(n){try{t.handleWebSocketSend(n,this),e(this)}catch(e){Gt.warn("Conviva WS tracking error:",e)}return i.apply(this,arguments)};var r=WebSocket;window.WebSocket=function(t,n){return e(t=new r(t,n)),t},window.WebSocket.prototype=r.prototype,Object.assign(window.WebSocket,r)},e.prototype.decorateEventSource=function(){var e=this,t="undefined"!=typeof WeakSet?new WeakSet:null,n=EventSource,i=n.prototype.close;window.EventSource=function(i,r){return i=new n(i,r),t?t.has(i)||(t.add(i),e.addEventSourceEventListeners(i)):i.__convivaEventSourceTag__||(i.__convivaEventSourceTag__=!0,e.addEventSourceEventListeners(i)),i},n.prototype.close=function(){var t,n=null!==(t=null==this?void 0:this.url)&&void 0!==t?t:"unknown";return e.handleEventSourceClose(n),i.call(this)},window.EventSource.prototype=n.prototype,Object.setPrototypeOf(window.EventSource,n)},e.prototype.addWebSocketEventListeners=function(e){var t=this,n=gr;e.addEventListener("message",(function(e){return t.handleWebSocketMessage(e)}),{signal:n}),e.addEventListener("open",(function(e){return t.handleWebSocketOpen(e)}),{signal:n}),e.addEventListener("close",(function(e){return t.handleWebSocketClose(e)}),{signal:n}),e.addEventListener("error",(function(e){return t.handleWebSocketError(e)}),{signal:n})},e.prototype.addEventSourceEventListeners=function(e){var t=this,n=gr;e.addEventListener("message",(function(e){return t.handleEventSourceMessage(e)}),{signal:n}),e.addEventListener("open",(function(e){return t.handleEventSourceOpen(e)}),{signal:n}),e.addEventListener("error",(function(e){return t.handleEventSourceError(e)}),{signal:n})},e.prototype.handleWebSocketOpen=function(e){try{var t={url:this.getWebSocketUrl(e.target),type:e.type,timestamp:Date.now()}}catch(n){t={data:e.data,url:e.target?this.getWebSocketUrl(e.target):void 0}}this.sendWebSocketEvent("open",t,{},!1)},e.prototype.handleWebSocketClose=function(e){try{var t={url:this.getWebSocketUrl(e.target),type:e.type,code:e.code,reason:e.reason,wasClean:e.wasClean,timestamp:Date.now()}}catch(n){t={data:e.data,url:e.target?this.getWebSocketUrl(e.target):void 0}}this.sendWebSocketEvent("close",t,{},!1)},e.prototype.handleWebSocketMessage=function(e){var t,n,i=null===(t=this.core)||void 0===t?void 0:t.getConfig().evtStreamTrackingConfiguration;t=null!==(n=null==i?void 0:i.bufferMaxBytes)&&void 0!==n?n:1048576;try{if(e.data instanceof ArrayBuffer){if(!(e.data.byteLength>t)){var r=new TextDecoder("utf-8",{fatal:!1}).decode(e.data),o=[];je(r).forEach((function(e){try{var t=JSON.parse(e.trim());o.push(t)}catch(t){o.push(e)}}));var a={data:o,url:this.getWebSocketUrl(e.target)};this.sendWebSocketEvent("server",a,{},!0)}}else{n=void 0;try{(n="string"==typeof e.data?JSON.parse(e.data):e.data).url=this.getWebSocketUrl(e.target)}catch(t){n={data:e.data,url:e.target?this.getWebSocketUrl(e.target):void 0}}this.sendWebSocketEvent("server",n)}}catch(t){e={data:e.data,url:e.target?this.getWebSocketUrl(e.target):void 0},this.sendWebSocketEvent("server",e)}},e.prototype.handleWebSocketSend=function(e,t){var n,i,r,o,a=null===(n=this.core)||void 0===n?void 0:n.getConfig().evtStreamTrackingConfiguration;n=null!==(i=null==a?void 0:a.bufferMaxBytes)&&void 0!==i?i:1048576;try{if(e instanceof ArrayBuffer){if(!(e.byteLength>n)){var l=new TextDecoder("utf-8",{fatal:!1}).decode(e),s=[];je(l).forEach((function(e){try{if("string"==typeof e){var t=JSON.parse(e);s.push(t)}else s.push(e)}catch(t){s.push(e)}}));var c={url:this.getWebSocketUrl(t)},u={data:s};this.sendWebSocketEvent("send",c,u,!0)}}else{var d="string"==typeof e?JSON.parse(e):e;c={url:this.getWebSocketUrl(t),type:null!==(o=null!==(r=d.type)&&void 0!==r?r:d.method)&&void 0!==o?o:void 0},this.sendWebSocketEvent("send",c,d)}}catch(n){c={url:this.getWebSocketUrl(t)},d={data:e},this.sendWebSocketEvent("send",c,d)}},e.prototype.handleWebSocketError=function(e){var t,n,i,r,o,a,l;try{var s={url:this.getWebSocketUrl(e.target),type:e.type,timestamp:Date.now(),readyState:this.getWebSocketReadyState(e.target),errorMessage:e.message||"WebSocket error occurred",errorType:(null===(t=e.error)||void 0===t?void 0:t.name)||"WebSocketError",errorCode:null===(n=e.error)||void 0===n?void 0:n.code,errorDetails:null===(i=e.error)||void 0===i?void 0:i.message,networkType:(null===(r=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===r?void 0:r.type)||"unknown",networkEffectiveType:(null===(o=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===o?void 0:o.effectiveType)||"unknown",networkDownlink:null===(a=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===a?void 0:a.downlink,networkRtt:null===(l=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===l?void 0:l.rtt,userAgent:null===navigator||void 0===navigator?void 0:navigator.userAgent}}catch(t){s={url:this.getWebSocketUrl(e.target),type:"error",timestamp:Date.now(),error:"Failed to process WebSocket error event: ".concat(t instanceof Error?t.message:String(t)),originalEvent:e}}this.sendWebSocketEvent("error",s)},e.prototype.handleEventSourceOpen=function(e){try{var t={url:this.getEventSourceUrl(e.target),type:e.type}}catch(n){t={data:e.data,url:e.target?this.getEventSourceUrl(e.target):void 0,type:e.type}}this.sendEventSourceEvent(t)},e.prototype.handleEventSourceMessage=function(e){var t={};try{if("string"==typeof e.data)try{t.data=JSON.parse(e.data)}catch(n){t.data=e.data}else t.data=e.data;t.url=this.getEventSourceUrl(e.target),t.type=e.type,t.id=e.lastEventId}catch(n){t={data:e.data,url:e.target?this.getEventSourceUrl(e.target):void 0,type:e.type,id:e.lastEventId}}this.sendEventSourceEvent(t)},e.prototype.handleEventSourceError=function(e){var t,n,i,r;try{var o={url:this.getEventSourceUrl(e.target),type:e.type,readyState:this.getEventSourceReadyState(e.target),errorMessage:e.message||"EventSource error occurred",errorType:"EventSourceError",networkType:(null===(t=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===t?void 0:t.type)||"unknown",networkEffectiveType:(null===(n=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===n?void 0:n.effectiveType)||"unknown",networkDownlink:null===(i=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===i?void 0:i.downlink,networkRtt:null===(r=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===r?void 0:r.rtt,userAgent:null===navigator||void 0===navigator?void 0:navigator.userAgent}}catch(t){o={url:this.getEventSourceUrl(e.target),type:"error",error:"Failed to process EventSource error event: ".concat(t instanceof Error?t.message:String(t)),originalEvent:e}}this.sendEventSourceEvent(o)},e.prototype.handleEventSourceClose=function(e){this.sendEventSourceEvent({url:e,type:"close"})},e.prototype.sendWebSocketEvent=function(e,t,n,i){var r;void 0===n&&(n={}),void 0===i&&(i=!1);try{var o=null===(r=this.core.getConfig())||void 0===r?void 0:r.evtStreamTrackingConfiguration;if(null!=o&&o.enabled){var a=this.getStreamCountState(t.url),l=bt("send"===e?bt(bt({},t),n):bt({},t),{event:e}),s=Te(o.collect,o.block,l,t.url);if(null!=s&&s.result){var c=null==s?void 0:s.matchedConfig;if(!0===(null==c?void 0:c.count)&&(a.tokenCount++,null==s||!s.shouldSend))return;var u={url:t.url,id:t.id,type:t.type,event:e};if(!0===(null==c?void 0:c.countReset)&&(0<a.tokenCount&&(u.tokenCount=a.tokenCount),this.resetStreamCountState(t.url)),e="send"===e?n:t,n={},o.richContentInference&&o.richContentInference.cond)try{n=He(e,o.richContentInference,null==t?void 0:t.url)}catch(e){console.warn("Conviva App Tracker:: Error in rich content inference:",e)}if(o.conditionalCollectAttr&&0<o.conditionalCollectAttr.length){var d=me(e,o.conditionalCollectAttr,t.url,Te,null==o?void 0:o.maxQueryLength,i);0<Object.keys(d).length&&(u=bt(bt({},u),d))}0<Object.keys(n).length&&(u.richContentInference=n),this.trackerMethods.trackSSEEvent({name:"conviva_ws_message",data:JSON.stringify(u)})}}}catch(e){}},e.prototype.sendEventSourceEvent=function(e){var t,n;try{var i=null===(t=this.core.getConfig())||void 0===t?void 0:t.evtStreamTrackingConfiguration;if(null!=i&&i.enabled){var r=this.getStreamCountState((null==e?void 0:e.url)||""),o=bt({},e),a=Te(i.collect,i.block,o,(null==e?void 0:e.url)||"");if(null!=a&&a.result){var l=null==a?void 0:a.matchedConfig;if(!0===(null==l?void 0:l.count)&&(r.tokenCount++,null==a||!a.shouldSend))return;var s={url:(null===(n=null==e?void 0:e.url)||void 0===n?void 0:n.split("?")[0])||"",id:null==e?void 0:e.id,type:null==e?void 0:e.type};if(!0===(null==l?void 0:l.countReset)&&(0<r.tokenCount&&(s.tokenCount=r.tokenCount),this.resetStreamCountState((null==e?void 0:e.url)||"")),i.conditionalCollectAttr&&0<i.conditionalCollectAttr.length){var c=me(e,i.conditionalCollectAttr,(null==e?void 0:e.url)||"",Te,null==i?void 0:i.maxQueryLength,!1);0<Object.keys(c).length&&(s=bt(bt({},s),c))}if(i.richContentInference&&i.richContentInference.cond)try{var u=He(e,i.richContentInference,null==e?void 0:e.url);0<Object.keys(u).length&&(s.richContentInference=u)}catch(e){console.warn("Conviva App Tracker:: Error in rich content inference:",e)}this.trackerMethods.trackSSEEvent({name:"conviva_sse_message",data:JSON.stringify(s)})}}}catch(e){}},e.prototype.getWebSocketUrl=function(e){try{if(e&&"object"===c(e)&&"url"in e)return e.url}catch(e){}},e.prototype.getWebSocketReadyState=function(e){try{if(e&&"object"===c(e)&&"readyState"in e)return e.readyState}catch(e){}},e.prototype.getEventSourceUrl=function(e){try{if(e&&"object"===c(e)&&"url"in e)return e.url}catch(e){}},e.prototype.getEventSourceReadyState=function(e){try{if(e&&"object"===c(e)&&"readyState"in e)return e.readyState}catch(e){}},e.prototype.addTraceparentHeader=function(e,t,n){var i=null;return ur.TRACEPARENT_HEADER_KEY in n||(i=this.generateTraceparentHeader(t))&&e.setRequestHeader(ur.TRACEPARENT_HEADER_KEY,i),i},e.prototype.addBaggageHeader=function(e,t,n,i,r){return(t=this.generateBaggageHeader(t,{method:i||"GET",url:t,headers:n,body:r}))&&e.setRequestHeader(ur.BAGGAGE_HEADER_KEY,t),t},e.prototype.createRequestDetails=function(e,t,n,i,r,o){return e={method:e,url:t,headers:n,body:i,requestTimestamp:Date.now(),requestTime:performance.now()||Date.now()},r&&(e[ur.TRACEPARENT_HEADER_KEY]=r),o&&(e[ur.BAGGAGE_HEADER_KEY]=o),e},e.prototype.normalizeUrl=function(e){if(e instanceof URL)return e.href;try{if("undefined"!=typeof document){var t=URL;if(document.baseURI)var n=document.baseURI;else{var i=document.querySelector("base");n=i&&i.href?i.href:document.location.href}return new t(e,n).href}}catch(e){}return e},e.prototype.generateTraceparentHeader=function(e){var t,n,i,r,o,a,l,s,c,u,d,f,v,h,p,m,y,b,w,_,k,C,E;try{if(this.core&&e){var T=this.core.getConfig(),S=ur.CONFIG_PREFERENCES.MERGE,A=[];switch(null!==(i=null===(n=null===(t=this.trackerConfiguration)||void 0===t?void 0:t.configs)||void 0===n?void 0:n.traceparentGeneration)&&void 0!==i&&i.force?S=ur.CONFIG_PREFERENCES.APP:null!==(r=null==T?void 0:T.traceparentconfig)&&void 0!==r&&r.pref&&(S=T.traceparentconfig.pref),S){case ur.CONFIG_PREFERENCES.APP:if(!1===(null===(l=null===(a=null===(o=this.trackerConfiguration)||void 0===o?void 0:o.configs)||void 0===a?void 0:a.traceparentGeneration)||void 0===l?void 0:l.enabled))return"";A=(null===(u=null===(c=null===(s=this.trackerConfiguration)||void 0===s?void 0:s.configs)||void 0===c?void 0:c.traceparentGeneration)||void 0===u?void 0:u.targetUrl)||[];break;case ur.CONFIG_PREFERENCES.REMOTE:if(!1===(null===(d=null==T?void 0:T.traceparentconfig)||void 0===d?void 0:d.enabled))return"";A=(null===(f=null==T?void 0:T.traceparentconfig)||void 0===f?void 0:f.targetUrl)||[];break;default:if((null==T||!T.traceparentconfig)&&!1===(null===(p=null===(h=null===(v=this.trackerConfiguration)||void 0===v?void 0:v.configs)||void 0===h?void 0:h.traceparentGeneration)||void 0===p?void 0:p.enabled)||(null===(y=null===(m=this.trackerConfiguration)||void 0===m?void 0:m.configs)||void 0===y||!y.traceparentGeneration)&&!1===(null===(b=null==T?void 0:T.traceparentconfig)||void 0===b?void 0:b.enabled))return"";var R=(null===(k=null===(_=null===(w=this.trackerConfiguration)||void 0===w?void 0:w.configs)||void 0===_?void 0:_.traceparentGeneration)||void 0===k?void 0:k.targetUrl)||[],N=(null===(C=null==T?void 0:T.traceparentconfig)||void 0===C?void 0:C.targetUrl)||[],O=new Set(g(g([],N,!0),R,!0));A=Array.from(O)}if(0<A.length&&(A.includes("*")||A.some((function(t){return 0<(null==t?void 0:t.length)&&e.toLowerCase().includes(null==t?void 0:t.toLowerCase())})))&&null!==(E=null==T?void 0:T.networkRequestTrackingConfiguration)&&void 0!==E&&E.enabled){var I=Array.from({length:32},(function(){return Math.floor(16*Math.random()).toString(16)})).join(""),x=Array.from({length:16},(function(){return Math.floor(16*Math.random()).toString(16)})).join("");return"00-".concat(I,"-").concat(x,"-00")}}}catch(e){console.warn("Conviva App Tracker:: Unable to generate traceparent header ".concat(e))}return""},e.prototype.generateBaggageHeader=function(e,t){var n,i;try{if(this.core&&e){var r=this.core.getConfig();if(!1===(null===(n=null==r?void 0:r.baggageConfiguration)||void 0===n?void 0:n.enabled))return"";t&&null!=r&&r.baggageConfiguration&&qe(t,{},r.baggageConfiguration,this.core);var o=(null===(i=null==r?void 0:r.baggageConfiguration)||void 0===i?void 0:i.targetUrl)||[];if(0<o.length&&o.some((function(t){return 0<(null==t?void 0:t.length)&&e.toLowerCase().includes(null==t?void 0:t.toLowerCase())}))){t=[];var a=this.getConvivaClientId();a&&t.push("c3.client_id=".concat(a));var l=this.core.getConversationId();if(l&&t.push("c3.convid=".concat(l)),0<t.length)return t.join(", ")}}}catch(e){console.warn("Conviva App Tracker:: Unable to generate baggage header ".concat(e))}return""},e.prototype.getConvivaClientId=function(){try{if("undefined"!=typeof window&&null!==window&&void 0!==window&&window.localStorage){var e=window.localStorage.getItem("Conviva.sdkConfig"),t=JSON.parse(e||"{}");if(t&&"object"===c(t)&&t.clId)return t.clId}}catch(e){console.warn("Conviva App Tracker:: Unable to get client ID ".concat(e))}return""},e.prototype.updateSSETrackingConfig=function(e){lo=bt(bt({},lo),e)},e.prototype.getSSETrackingConfig=function(){return bt({},lo)},e.prototype.processStreamEvent=function(e,t,n){var i,r;try{if("ping"!==e.event){var o=e.data;try{o=JSON.parse(e.data)}catch(e){}var a={url:t,id:e.id,event:null!==(i=e.event)&&void 0!==i?i:"message",data:o},l=null===(r=this.core)||void 0===r?void 0:r.getConfig().evtStreamTrackingConfiguration;if(null!=l&&l.enabled){var s=this.getStreamCountState(t),c=Te(l.collect,l.block,a,t);if(null!=c&&c.result){var u=null==c?void 0:c.matchedConfig;if(!0===(null==u?void 0:u.count)&&(s.tokenCount++,null==c||!c.shouldSend))return;if(e={},l.richContentInference&&l.richContentInference.cond)try{e=He(a,l.richContentInference,null==a?void 0:a.url)}catch(e){console.warn("Conviva App Tracker:: Error in rich content inference:",e)}var d={url:a.url,id:a.id,event:a.event};if(!0===(null==u?void 0:u.countReset)&&(0<s.tokenCount&&(d.tokenCount=s.tokenCount),this.resetStreamCountState(t)),l.conditionalCollectAttr&&0<l.conditionalCollectAttr.length){var f=me(a,l.conditionalCollectAttr,t,Te,null==l?void 0:l.maxQueryLength,!1);0<Object.keys(f).length&&(d=bt(bt({},d),f))}0<Object.keys(e).length&&(d.richContentInference=e),this.trackerMethods.trackSSEEvent({name:n,data:JSON.stringify(d)})}}}}catch(e){}},e.prototype.getStreamCountState=function(e){return this.sseCountStates.has(e)||this.sseCountStates.set(e,{tokenCount:0}),this.sseCountStates.get(e)},e.prototype.resetStreamCountState=function(e){this.sseCountStates.set(e,{tokenCount:0})},e.prototype.cleanupSSECountState=function(e){this.sseCountStates.delete(e)},e.prototype.getInflightRequests=function(){return this.inflightRequests},e.prototype.incrementInflightRequests=function(){this.inflightRequests++},e.prototype.decrementInflightRequests=function(){this.inflightRequests=Math.max(0,this.inflightRequests-1)},e.prototype.shouldTrackForSoftNavigation=function(e){try{var t=new URL(e).hostname,n=this.core.getConfig(),i=null==n?void 0:n.softNavigationTrackingConfiguration;return null==i||!i.domainBlocklist||0===i.domainBlocklist.length||!i.domainBlocklist.some((function(e){return t.endsWith(e)}))}catch(e){return!1}},e}(),co=function(e,t,n,i,r,o,a,l){var s,c,u,d,f,v,g=kr,h=function(){var e=g.getConfig();return!e.emitterConfiguration||!e.emitterConfiguration.batching||e.emitterConfiguration.batching.enabled};return Fe(e,t,"localStorage"==n||"cookieAndLocalStorage"==n,i.eventMethod,r,(v=g.getConfig(),null!==(f=v.bufferSize?v.bufferSize:i.bufferSize)&&void 0!==f?f:20),(function(){var e,t=g.getConfig();return null!==(e=t.maxGetBytes?t.maxGetBytes:i.maxGetBytes)&&void 0!==e?e:0}),null===(s=i.useStm)||void 0===s||s,(function(){var e,t=g.getConfig();return null!==(e=t.maxLocalStorageQueueSize?t.maxLocalStorageQueueSize:i.maxLocalStorageQueueSize)&&void 0!==e?e:10}),null!==(c=i.connectionTimeout)&&void 0!==c?c:3e4,o,null!==(u=i.customHeaders)&&void 0!==u?u:{},null!==(d=i.withCredentials)&&void 0!==d&&d,a,(function(){var e,t,n,r=g.getConfig();return null!==(n=null!=r&&r.enc?r.enc:null===(t=null===(e=null==i?void 0:i.configs)||void 0===e?void 0:e.network)||void 0===t?void 0:t.encoding)&&void 0!==n?n:br.GZIP}),h,(function(){var e,t,n=g.getConfig();return h()?"number"==typeof(null===(t=null===(e=n.emitterConfiguration)||void 0===e?void 0:e.batching)||void 0===t?void 0:t.byteLimitPostInKB)?1e3*n.emitterConfiguration.batching.byteLimitPostInKB:25e4:4e4}),(function(){var e,t,n=null===(t=null===(e=g.getConfig().emitterConfiguration)||void 0===e?void 0:e.batching)||void 0===t?void 0:t.batchingIntervalInSec;return 1e3*("number"==typeof n?n:5)}),l)},uo=function(){function e(e,t,n,i,r){void 0===e&&(e=20),void 0===t&&(t=2e3),void 0===n&&(n=1e3),this.eventMaxLimit=e,this.cooldown=t,this.windowStart=Date.now(),this.circuitBreakerUntil=this.eventCount=0,this.breakerPreviouslyOpen=!1,this.droppedCount=0,this.trackerCore=i,this.timeWindow=n,this.getSamplingMode=r}return e.prototype.isAllowedToSendEvent=function(){var e=Date.now();return e<this.circuitBreakerUntil?(this.droppedCount++,!1):(this.breakerPreviouslyOpen&&(this.breakerPreviouslyOpen=!1,Ie(this.trackerCore,this.getSamplingMode,{message:"Application Error",className:"errorRateLimiter - isAllowedToSendEvent",extraData:{droppedCount:this.droppedCount},configAppliedSrc:Mr,configAppliedTime:Dr}),this.droppedCount=0),e-this.windowStart<this.timeWindow?this.eventCount++:(this.windowStart=e,this.eventCount=1),!(this.eventCount>this.eventMaxLimit)||(this.circuitBreakerUntil=e+this.cooldown,this.breakerPreviouslyOpen=!0,this.droppedCount++,!1))},e.prototype.updateErrortRateLimitConfig=function(e,t,n){this.eventMaxLimit=e,this.cooldown=t,this.timeWindow=n},e}(),fo=function(e,t){return e.length>t?"".concat(e.slice(0,t-3),"..."):e},vo={idleWindowMs:600,requireLcp:!1,lcpTimeoutMs:3e3,maxMeasurementMs:1e4,includeHashChanges:!1,domainAllowlist:[],domainBlocklist:["sdk.fra-01.braze.eu","tr.snapchat.com","analytics.google.com","ams.creativecdn.com","analytics.tiktok.com"]},go=bt({},vo),ho=null,po=null,mo=null,yo=null,bo=!1,wo=!1,_o=new Set,ko=new Set,Co=0,Eo=[],To=i((function e(){t(this,e),o(this,"t",void 0),o(this,"o",0),o(this,"i",[])}),[{key:"u",value:function(e){var t;if(!e.hadRecentInput){var n=this.i[0],i=this.i.at(-1);this.o&&n&&i&&1e3>e.startTime-i.startTime&&5e3>e.startTime-n.startTime?(this.o+=e.value,this.i.push(e)):(this.o=e.value,this.i=[e]),null===(t=this.t)||void 0===t||t.call(this,e)}}}]),So=function(){var e=performance.getEntriesByType("navigation")[0];if(e&&0<e.responseStart&&e.responseStart<performance.now())return e},Ao=function(e){if("loading"===document.readyState)return"loading";var t=So();if(t){if(e<t.domInteractive)return"loading";if(0===t.domContentLoadedEventStart||e<t.domContentLoadedEventStart)return"dom-interactive";if(0===t.domComplete||e<t.domComplete)return"dom-content-loaded"}return"complete"},Ro=function(t){var n="";try{for(;9!==(null===(i=t)||void 0===i?void 0:i.nodeType);){var i,r=t;if(r.id)var o="#"+r.id;else{var a,l,s=r.nodeName,c=[1===r.nodeType?s.toLowerCase():s.toUpperCase().replace(/^#/,"")],d=c.concat,f=Array.from(r.classList).sort(),v=f;if((a=Array.isArray(v)?e(v):void 0)||(a="undefined"!=typeof Symbol&&null!=f[Symbol.iterator]||null!=f["@@iterator"]?Array.from(f):void 0),!(l=a||u(f)))throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");o=d.call(c,l).join(".")}if(v=o,99<n.length+v.length)return n||v;if(n=n?v+">"+n:v,r.id)break;t=r.parentNode}}catch(e){}return n},No=new WeakMap,Oo=-1,Io=function(e){addEventListener("pageshow",(function(t){t.persisted&&(Oo=t.timeStamp,e(t))}),!0)},xo=function(e,t,n,i){var r,o;return function(a){var l;0<=t.value&&(a||i)&&((o=t.value-(null!==(l=r)&&void 0!==l?l:0))||void 0===r)&&(r=t.value,t.delta=o,a=t.value,t.rating=a>n[1]?"poor":a>n[0]?"needs-improvement":"good",e(t))}},Lo=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},Mo=function(){var e,t=So();return null!==(e=null==t?void 0:t.activationStart)&&void 0!==e?e:0},Do=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1,n=So(),i="navigate";return 0<=Oo?i="back-forward-cache":n&&(document.prerendering||0<Mo()?i="prerender":document.wasDiscarded?i="restore":n.type&&(i=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:"v5-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},Po=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var i=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return i.observe(l({type:e,buffered:!0},n)),i}}catch(e){}},Uo=function(e){var t=!1;return function(){t||(e(),t=!0)}},qo=-1,Go=new Set,Bo=function(e){if("hidden"===document.visibilityState){if("visibilitychange"===e.type){var t,n=r(Go);try{for(n.s();!(t=n.n()).done;){(0,t.value)()}}catch(e){n.e(e)}finally{n.f()}}isFinite(qo)||(qo="visibilitychange"===e.type?e.timeStamp:0,removeEventListener("prerenderingchange",Bo,!0))}},zo=function(){if(0>qo){var e,t=Mo(),n=document.prerendering||null===(e=globalThis.performance.getEntriesByType("visibility-state").filter((function(e){return"hidden"===e.name&&e.startTime>t}))[0])||void 0===e?void 0:e.startTime;qo=null!=n?n:"hidden"!==document.visibilityState||document.prerendering?1/0:0,addEventListener("visibilitychange",Bo,!0),addEventListener("prerenderingchange",Bo,!0),Io((function(){setTimeout((function(){qo="hidden"!==document.visibilityState||document.prerendering?1/0:0}))}))}return{get firstHiddenTime(){return qo},onHidden:function(e){Go.add(e)}}},Ho=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},jo=[1800,3e3],Fo=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Ho((function(){var n,i=zo(),o=Do("FCP"),a=Po("paint",(function(e){var t;e=r(e);try{for(e.s();!(t=e.n()).done;){var l=t.value;"first-contentful-paint"===l.name&&(a.disconnect(),l.startTime<i.firstHiddenTime&&(o.value=Math.max(l.startTime-Mo(),0),o.entries.push(l),n(!0)))}}catch(t){e.e(t)}finally{e.f()}}));a&&(n=xo(e,o,jo,t.reportAllChanges),Io((function(i){o=Do("FCP"),n=xo(e,o,jo,t.reportAllChanges),Lo((function(){o.value=performance.now()-i.timeStamp,n(!0)}))})))}))},Vo=[.1,.25],Wo=function(e){return e.find((function(e){var t;return 1===(null===(t=e.node)||void 0===t?void 0:t.nodeType)}))||e[0]},Ko=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=dt(t=Object.assign({},t),To),i=new WeakMap;n.t=function(e){var n,r,o,a;null!=e&&null!==(n=e.sources)&&void 0!==n&&n.length&&(n=null==(e=Wo(e.sources))?void 0:e.node)&&(n=null!==(r=null===(o=(a=t).generateTarget)||void 0===o?void 0:o.call(a,n))&&void 0!==r?r:Ro(n),i.set(e,n))},function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=zo();Fo(Uo((function(){var i,o=Do("CLS",0),a=dt(t,To),l=function(e){var t;e=r(e);try{for(e.s();!(t=e.n()).done;)a.u(t.value)}catch(t){e.e(t)}finally{e.f()}a.o>o.value&&(o.value=a.o,o.entries=a.i,i())},s=Po("layout-shift",l);s&&(i=xo(e,o,Vo,t.reportAllChanges),n.onHidden((function(){l(s.takeRecords()),i(!0)})),Io((function(){a.o=0,o=Do("CLS",0),i=xo(e,o,Vo,t.reportAllChanges),Lo((function(){return i()}))})),setTimeout(i))})))}((function(t){t=function(e){var t={};if(e.entries.length){var n,r=e.entries.reduce((function(e,t){return e.value>t.value?e:t}));null!=r&&null!==(n=r.sources)&&void 0!==n&&n.length&&(n=Wo(r.sources))&&(t={largestShiftTarget:i.get(n),largestShiftTime:r.startTime,largestShiftValue:r.value,largestShiftSource:n,largestShiftEntry:r,loadState:Ao(r.startTime)})}return Object.assign(e,{attribution:t})}(t),e(t)}),t)},Zo=0,Jo=1/0,Yo=0,Xo=function(e){var t;e=r(e);try{for(e.s();!(t=e.n()).done;){var n=t.value;n.interactionId&&(Jo=Math.min(Jo,n.interactionId),Yo=Math.max(Yo,n.interactionId),Zo=Yo?(Yo-Jo)/7+1:0)}}catch(t){e.e(t)}finally{e.f()}},Qo=function(){var e;return Zr?Zo:null!==(e=performance.interactionCount)&&void 0!==e?e:0},$o=0,ea=i((function e(){t(this,e),o(this,"l",[]),o(this,"h",new Map),o(this,"m",void 0),o(this,"p",void 0)}),[{key:"v",value:function(){$o=Qo(),this.l.length=0,this.h.clear()}},{key:"M",value:function(){var e=Math.min(this.l.length-1,Math.floor((Qo()-$o)/50));return this.l[e]}},{key:"u",value:function(e){var t;if(null!==(t=this.m)&&void 0!==t&&t.call(this,e),e.interactionId||"first-input"===e.entryType){var n=this.l.at(-1);if((t=this.h.get(e.interactionId))||10>this.l.length||e.duration>n.T){var i;if(t?e.duration>t.T?(t.entries=[e],t.T=e.duration):e.duration===t.T&&e.startTime===t.entries[0].startTime&&t.entries.push(e):(t={id:e.interactionId,entries:[e],T:e.duration},this.h.set(t.id,t),this.l.push(t)),this.l.sort((function(e,t){return t.T-e.T})),10<this.l.length){var o;e=r(e=this.l.splice(10));try{for(e.s();!(o=e.n()).done;)this.h.delete(o.value.id)}catch(t){e.e(t)}finally{e.f()}}null===(i=this.p)||void 0===i||i.call(this,t)}}}}]),ta=function(e){var t=globalThis.requestIdleCallback||setTimeout;"hidden"===document.visibilityState?e():(e=Uo(e),addEventListener("visibilitychange",e,{once:!0,capture:!0}),t((function(){e(),removeEventListener("visibilitychange",e,{capture:!0})})))},na=[200,500],ia=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=dt(t=Object.assign({},t),ea),i=[],o=[],a=0,l=new WeakMap,s=new WeakMap,c=!1,u=function(){var e=n.l.map((function(e){return l.get(e.entries[0])})),t=o.length-50;o=o.filter((function(n,i){return i>=t||e.includes(n)}));var s,u=new Set,f=r(o);try{for(f.s();!(s=f.n()).done;){var v,g=s.value,h=r(d(g.startTime,g.processingEnd));try{for(h.s();!(v=h.n()).done;)u.add(v.value)}catch(e){h.e(e)}finally{h.f()}}}catch(e){f.e(e)}finally{f.f()}var p=i.length-1-50;i=i.filter((function(e,t){return e.startTime>a&&t>p||u.has(e)})),c=!1};n.m=function(e){var t=e.startTime+e.duration;a=Math.max(a,e.processingEnd);for(var n=o.length-1;0<=n;n--){var i=o[n];if(8>=Math.abs(t-i.renderTime)){var r=i;r.startTime=Math.min(e.startTime,r.startTime),r.processingStart=Math.min(e.processingStart,r.processingStart),r.processingEnd=Math.max(e.processingEnd,r.processingEnd),r.entries.push(e);break}}r||(r={startTime:e.startTime,processingStart:e.processingStart,processingEnd:e.processingEnd,renderTime:t,entries:[e]},o.push(r)),(e.interactionId||"first-input"===e.entryType)&&l.set(e,r),c||(ta(u),c=!0)},n.p=function(e){if(!s.get(e)){var n,i,r,o=e.entries[0].target;if(o)o=null!==(n=null===(i=(r=t).generateTarget)||void 0===i?void 0:i.call(r,o))&&void 0!==n?n:Ro(o),s.set(e,o)}};var d=function(e,t){var n,o=[],a=r(i);try{for(a.s();!(n=a.n()).done;){var l=n.value;if(!(l.startTime+l.duration<e)){if(l.startTime>t)break;o.push(l)}}}catch(e){a.e(e)}finally{a.f()}return o},f=function(e){var t=e.entries[0],i=l.get(t),o=t.processingStart,a=Math.max(t.startTime+t.duration,o),c=Math.min(i.processingEnd,a);i=i.entries.sort((function(e,t){return e.processingStart-t.processingStart}));var u=d(t.startTime,c),f=n.h.get(t.interactionId);return function(e,t){if(null!==(t=e.longAnimationFrameEntries)&&void 0!==t&&t.length){t=e.interactionTime;var n,i,o,a=e.inputDelay,l=e.processingDuration,s=0,c=0,u=0,d=0,f=r(e.longAnimationFrameEntries);try{for(f.s();!(o=f.n()).done;){var v=o.value;c=c+v.startTime+v.duration-v.styleAndLayoutStart;var g,h=r(v.scripts);try{for(h.s();!(g=h.n()).done;){var p=g.value,m=p.startTime+p.duration;if(!(m<t)){var y=m-Math.max(t,p.startTime),b=p.duration?y/p.duration*p.forcedStyleAndLayoutDuration:0;s+=y-b,c+=b,y>d&&(i=p.startTime<t+a?"input-delay":p.startTime>=t+a+l?"presentation-delay":"processing-duration",n=p,d=y)}}}catch(e){h.e(e)}finally{h.f()}}}catch(e){f.e(e)}finally{f.f()}(o=(o=e.longAnimationFrameEntries.at(-1))?o.startTime+o.duration:0)>=t+a+l&&(u=e.nextPaintTime-o),n&&i&&(e.longestScript={entry:n,subpart:i,intersectingDuration:d}),e.totalScriptDuration=s,e.totalStyleAndLayoutDuration=c,e.totalPaintDuration=u,e.totalUnattributedDuration=e.nextPaintTime-t-s-c-u}}(t={interactionTarget:s.get(f),interactionType:t.name.startsWith("key")?"keyboard":"pointer",interactionTime:t.startTime,nextPaintTime:a,processedEventEntries:i,longAnimationFrameEntries:u,inputDelay:o-t.startTime,processingDuration:c-o,presentationDelay:a-c,loadState:Ao(t.startTime),longestScript:void 0,totalScriptDuration:void 0,totalStyleAndLayoutDuration:void 0,totalPaintDuration:void 0,totalUnattributedDuration:void 0}),Object.assign(e,{attribution:t})};Po("long-animation-frame",(function(e){i=i.concat(e),c||(ta(u),c=!0)})),function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype){var n=zo();Ho((function(){var i;"interactionCount"in performance||Zr||(Zr=Po("event",Xo,{type:"event",buffered:!0,durationThreshold:0}));var o=Do("INP"),a=dt(t,ea),l=function(e){ta((function(){var t,n=r(e);try{for(n.s();!(t=n.n()).done;)a.u(t.value)}catch(e){n.e(e)}finally{n.f()}(n=a.M())&&n.T!==o.value&&(o.value=n.T,o.entries=n.entries,c())}))},s=Po("event",l,{durationThreshold:null!==(i=t.durationThreshold)&&void 0!==i?i:40}),c=xo(e,o,na,t.reportAllChanges);s&&(s.observe({type:"first-input",buffered:!0}),n.onHidden((function(){l(s.takeRecords()),c(!0)})),Io((function(){a.v(),o=Do("INP"),c=xo(e,o,na,t.reportAllChanges)})))}))}}((function(t){t=f(t),e(t)}),t)},ra=i((function e(){t(this,e),o(this,"m",void 0)}),[{key:"u",value:function(e){var t;null===(t=this.m)||void 0===t||t.call(this,e)}}]),oa=[2500,4e3],aa=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=dt(t=Object.assign({},t),ra),i=new WeakMap;n.m=function(e){var n,r,o,a=e.element;a&&(a=null!==(n=null===(r=(o=t).generateTarget)||void 0===r?void 0:r.call(o,a))&&void 0!==n?n:Ro(a),i.set(e,a))},function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Ho((function(){var n=zo(),i=Do("LCP"),o=dt(t,ra),a=function(e){var a;t.reportAllChanges||(e=e.slice(-1)),e=r(e);try{for(e.s();!(a=e.n()).done;){var l=a.value;o.u(l),l.startTime<n.firstHiddenTime&&(i.value=Math.max(l.startTime-Mo(),0),i.entries=[l],s())}}catch(t){e.e(t)}finally{e.f()}},l=Po("largest-contentful-paint",a);if(l){for(var s=xo(e,i,oa,t.reportAllChanges),c=Uo((function(){a(l.takeRecords()),l.disconnect(),s(!0)})),u=function(e){e.isTrusted&&(ta(c),removeEventListener(e.type,u,{capture:!0}))},d=0,f=["keydown","click","visibilitychange"];d<f.length;d++)addEventListener(f[d],u,{capture:!0});Io((function(n){i=Do("LCP"),s=xo(e,i,oa,t.reportAllChanges),Lo((function(){i.value=performance.now()-n.timeStamp,s(!0)}))}))}}))}((function(t){t=function(e){var t={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadDuration:0,elementRenderDelay:e.value};if(e.entries.length){var n=So();if(n){var r=n.activationStart||0,o=e.entries.at(-1),a=o.url&&performance.getEntriesByType("resource").filter((function(e){return e.name===o.url}))[0];t=Math.max(0,n.responseStart-r);var l=Math.max(t,a?(a.requestStart||a.startTime)-r:0);r=Math.min(e.value,Math.max(l,a?a.responseEnd-r:0)),t={target:i.get(o),timeToFirstByte:t,resourceLoadDelay:l-t,resourceLoadDuration:r-l,elementRenderDelay:e.value-r,navigationEntry:n,lcpEntry:o},o.url&&(t.url=o.url),a&&(t.lcpResourceEntry=a)}}return Object.assign(e,{attribution:t})}(t),e(t)}),t)};!function(e){e[e.APP=0]="APP",e[e.REMOTE=1]="REMOTE",e[e.MERGE=2]="MERGE"}(Yr||(Yr={}));var la={},sa=function(){this.outQueues=[],this.bufferFlushers=[],this.hasLoaded=!1,this.registeredOnLoadHandlers=[]},ca=Object.freeze({__proto__:null,cleanup:function(e){ht(e,(function(e){e.clearTimers()})),function(e){if(e)for(var t=0;t<e.length;t++){var n=e[t];la.hasOwnProperty(n)?delete la[n]:Gt.warn(n+" not configured")}}(e)},convivaAppTracker:function(e){void 0===e&&(e={});try{var t="undefined"!=typeof window?yt():void 0;if(t)return pt("CAT","CAT",e.trackerVersionSuffix?"js-".concat("1.5.2"," ").concat(e.trackerVersionSuffix):"js-".concat("1.5.2"),t,e)}catch(e){console.warn("Conviva App Tracker:: Initialisation failed! "+e)}},getClientId:function(){var e="";return"undefined"!=typeof window&&null!==window&&void 0!==window&&window.localStorage&&(e=window.localStorage.getItem("Conviva.sdkConfig"),e="{}"===(e=JSON.parse(e||"{}"))||void 0===e?"":e.clId),e},setClientId:function(e){if(e&&"string"==typeof e)try{var t=e.split(".");if(4!==t.length)console.warn('Conviva App Tracker:: Invalid clientId format! It should be in the format of "x.x.x.x"');else if(!1===t.every((function(e){return/^\d+$/.test(e)})))console.warn("Conviva App Tracker:: Invalid clientId format! Every part of clientId should be numeric");else if("undefined"!=typeof window&&null!==window&&void 0!==window&&window.localStorage){var n=window.localStorage,i=n.getItem("Conviva.sdkConfig"),r=JSON.parse(i||"{}");"{}"===r||void 0===r?r={clId:e}:r.clId=e;var o=JSON.stringify(r);n.setItem("Conviva.sdkConfig",o)}else console.warn("Conviva App Tracker:: window or local storage is not available")}catch(e){console.warn(e)}else console.warn("Conviva App Tracker:: Unable to set clinetId string!")},setConversationId:function(e,t){ht(t,(function(t){t.setConversationId(e)}))},setCustomTags:function(e,t){ht(t,(function(t){try{t.setCustomTags(e)}catch(e){console.warn("Conviva App Tracker:: Unable to set custom tags data!")}}))},setCustomUrl:function(e,t){ht(t,(function(t){t.setCustomUrl(e)}))},setDocumentTitle:function(e,t){ht(t,(function(t){t.setDocumentTitle(e)}))},setReferrerUrl:function(e,t){ht(t,(function(t){t.setReferrerUrl(e)}))},setUserId:function(e,t){ht(t,(function(t){t.setUserId(e)}))},trackButtonClick:function(e,t){ht(t,(function(t){try{t.trackButtonClick(e)}catch(e){console.warn("Conviva App Tracker:: Unable to track button click event! "+e)}}))},trackCustomEvent:function(e,t){ht(t,(function(t){try{t.trackCustomEvent(e)}catch(e){console.warn("Conviva App Tracker:: Unable to track custom event! "+e)}}))},trackError:function(e,t){ht(t,(function(t){try{t.trackErrorEvent(e)}catch(e){console.warn("Conviva App Tracker:: Unable to track error!")}}))},trackLinkClick:function(e,t){ht(t,(function(t){try{t.trackLinkClick(e)}catch(e){console.warn("Conviva App Tracker:: Unable to track link click event! "+e)}}))},trackNetworkRequest:function(e,t){var n,i,r,o,a,l,s,c,u,d,f,v,g,h,p,m,y,b,w={method:null!==(n=e.requestDetails.method)&&void 0!==n?n:void 0,url:null!==(i=e.requestDetails.url)&&void 0!==i?i:void 0,headers:null!==(r=e.requestDetails.headers)&&void 0!==r?r:void 0,body:null!==(o=e.requestDetails.body)&&void 0!==o?o:void 0,requestTimestamp:null!==(a=e.requestDetails.requestTimestamp)&&void 0!==a?a:void 0,requestTime:null!==(l=e.requestDetails.requestTime)&&void 0!==l?l:void 0,size:null!==(s=e.requestDetails.size)&&void 0!==s?s:void 0,traceparent:null!==(c=e.requestDetails.traceparent)&&void 0!==c?c:void 0,baggage:null!==(u=e.requestDetails.baggage)&&void 0!==u?u:void 0},_={status:null!==(d=e.responseDetails.status)&&void 0!==d?d:void 0,statusText:null!==(f=e.responseDetails.statusText)&&void 0!==f?f:void 0,url:null!==(v=e.responseDetails.url)&&void 0!==v?v:void 0,headers:null!==(g=e.responseDetails.headers)&&void 0!==g?g:void 0,body:null!==(h=e.responseDetails.body)&&void 0!==h?h:null,event:null!==(p=e.responseDetails.event)&&void 0!==p?p:void 0,size:null!==(m=e.responseDetails.size)&&void 0!==m?m:void 0,responseTimestamp:null!==(y=e.responseDetails.responseTimestamp)&&void 0!==y?y:void 0,responseTime:null!==(b=e.responseDetails.responseTime)&&void 0!==b?b:void 0};w.url?ht(t,(function(e){var t;try{var n=null===(t=e.core)||void 0===t?void 0:t.getConfig().networkRequestTrackingConfiguration;e.getSamplingMode()!==ur.SAMPLING_MODES.NONE&&n.enabled&&e.determineShouldTrack(n.collect,n.block,n.blocklist,n.safelist,_,w)&&(n.eventCollectionMode!==ur.NETWORK_REQUEST_EVENT_COLLECTION_MODE.MANUAL&&n.eventCollectionMode!==ur.NETWORK_REQUEST_EVENT_COLLECTION_MODE.BOTH||e.trackNetworkRequest({requestDetails:w,responseDetails:_}))}catch(e){console.warn("Conviva App Tracker:: Unable to track network request! "+e)}})):console.warn("Conviva App Tracker:: Unable to track network request! Missing required fields.")},trackPageView:function(e,t){ht(t,(function(t){t.trackPageView(e)}))},unsetCustomTags:function(e,t){ht(t,(function(t){try{t.unsetCustomTags(e)}catch(e){console.warn("Conviva App Tracker:: Unable to set custom tags data!")}}))},version:"1.5.2"}),ua=window.GlobalConvivaNamespace.shift(),da=window[ua];da.q=function(e,t){function n(e){var t=e.split(":");return[e=t[0],t=1<t.length?t[1].split(";"):void 0]}function i(e,t){if(p[e])try{return p[e].apply(null,t)}catch(t){Gt.error(e+" failed",t)}else Gt.warn(e+" is not an available function")}function r(e){p=bt(bt({},p),e)}function o(e){try{if("object"==typeof e[0]&&null!==e[0]){var t=e[0],n=function(e){return null==e||e.contexts,[]}(t),i=pt("CAT","CAT",t.trackerVersionSuffix?"js-".concat(h," ").concat(t.trackerVersionSuffix):"js-".concat(h),u,bt(bt({},t),{plugins:n.map((function(e){return e[0]}))}));i?(f.includes(i.id)||f.push(i.id),n.forEach((function(e){r(e[1])}))):Gt.warn("CAT already exists")}else Gt.error("convivaAppTracker failed",Error("Invalid parameters"))}catch(e){console.warn("convivaAppTracker failed "+e)}}function a(e,t){function n(e){Object.prototype.hasOwnProperty.call(v,e)&&(s.clearTimeout(v[e].timeout),delete v[e],0===Object.keys(v).length&&g.forEach((function(e){var t=e[1];void 0!==p[e[0]]&&p[e[0]].length>t.length&&Array.isArray(t[0])&&(t=[{},t[0]]),i(e[0],t)})))}var o;if("string"==typeof e[0]&&E(e[1])&&(void 0===e[2]||Array.isArray(e[2]))){var a=e[0],l=e[1],u=e[2];if(null===(o=e[3])||void 0===o||o){var f=s.setTimeout((function(){n(a)}),5e3);v[a]={timeout:f}}(f=c.createElement("script")).setAttribute("src",a),f.setAttribute("async","1"),ne(f,"error",(function(){n(a),Gt.warn("Failed to load plugin ".concat(l[0]," from ").concat(a))}),!0),ne(f,"load",(function(){var e=l[1],i=s[l[0]];if(i&&"object"==typeof i){var o=i[e];e=d(i,["symbol"==typeof e?e:e+""]),p.addPlugin.apply(null,[{plugin:o.apply(null,u)},t]),r(e)}n(a)}),!0),c.head.appendChild(f)}else{if("object"==typeof e[0]&&"string"==typeof e[1]&&(void 0===e[2]||Array.isArray(e[2]))){var h=e[0],m=e[1];if(o=e[2],h)return e=h[m],h=d(h,["symbol"==typeof m?m:m+""]),null===(f=p.addPlugin)||void 0===f||f.apply(null,[{plugin:e.apply(null,o)},t]),void r(h)}Gt.warn("Failed to add Plugin: ".concat(e[1]))}}function l(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(r=0;r<t.length;r+=1){var l=t[r],s=Array.prototype.shift.call(l),c=!(!s||"function"!=typeof s);if(c)try{c={};for(var u=0,d=mt(f,la);u<d.length;u++){var h=d[u];c[h.id.replace("".concat(e,"_"),"")]=h}s.apply(c,l)}catch(e){Gt.error("Tracker callback failed",e)}finally{continue}if(s=(c=n(s))[0],c=c[1],"convivaAppTracker"===s)o(l);else if(c=c?c.map((function(t){return"".concat(e,"_").concat(t)})):f,"addPlugin"===s)a(l,c);else if(u=void 0,u=0<l.length?[l[0],c]:void 0!==p[s]&&2===p[s].length?[{},c]:[c],0<Object.keys(v).length)g.push([s,u]);else if(l=i(s,u),"getClientId"===s)return l}}for(var s=window,c=document,u=yt(),f=[],v={},g=[],h="1.5.2",p=d(ca,["version"]),m=0;m<t.length;m++)l(t[m]);return{push:l}}(ua,da.q)}();
//# sourceMappingURL=conviva-eco-js-script-sensor.js.map
