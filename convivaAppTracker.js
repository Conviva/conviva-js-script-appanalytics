/*!
 * Web analytics for Conviva v1.3.2 (http://bit.ly/sp-js)
 * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
 * Licensed under BSD-3-Clause
 */

"use strict";!function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){var n,i={};for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)0>t.indexOf(n[o])&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i}function n(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{c(i.next(e))}catch(e){r(e)}}function l(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,l)}c((i=i.apply(e,t||[])).next())}))}function i(e,t){function n(n){return function(c){return function(n){if(i)throw new TypeError("Generator is already executing.");for(;l&&(l=0,n[0]&&(a=0)),a;)try{if(i=1,o&&(r=2&n[0]?o.return:n[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,n[1])).done)return r;switch(o=0,r&&(n=[2&n[0],r.value]),n[0]){case 0:case 1:r=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=0<r.length&&r[r.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!r||n[1]>r[0]&&n[1]<r[3]))a.label=n[1];else if(6===n[0]&&a.label<r[1])a.label=r[1],r=n;else{if(!(r&&a.label<r[2])){r[2]&&a.ops.pop(),a.trys.pop();continue}a.label=r[2],a.ops.push(n)}}n=t.call(e,a)}catch(e){n=[6,e],o=0}finally{i=r=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,c])}}var i,o,r,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},l=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return l.next=n(0),l.throw=n(1),l.return=n(2),"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l}function o(e,t,n){if(n||2===arguments.length)for(var i,o=0,r=t.length;o<r;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))}function r(){var e,t={},n=[],i=[],o=[],r=function(e,n){null!=n&&""!==n&&(t[e]=n)};return{add:r,addDict:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r(t,e[t])},addJson:function(e,t,o){o&&l(o)&&(e={keyIfEncoded:e,keyIfNotEncoded:t,json:o},i.push(e),n.push(e))},addContextEntity:function(e){o.push(e)},getPayload:function(){return t},getJson:function(){return n},withJsonProcessor:function(t){e=t},build:function(){return null==e||e(this,i,o),t}}}function a(e){return function(t,n,i){for(var r=function(n,i,o){if(n=JSON.stringify(n),e){if(o=t.add,n){var r=0,a=0,l=[];if(n){n=unescape(encodeURIComponent(n));do{var c=n.charCodeAt(r++),s=n.charCodeAt(r++),u=n.charCodeAt(r++),d=c<<16|s<<8|u;c=d>>18&63,s=d>>12&63,u=d>>6&63,d&=63,l[a++]=$e.charAt(c)+$e.charAt(s)+$e.charAt(u)+$e.charAt(d)}while(r<n.length);r=l.join(""),n=((n=n.length%3)?r.slice(0,n-3):r)+"===".slice(n||3)}n=n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}o.call(t,i,n)}else t.add(o,n)},a=function(n,i){if(!n){var o=t.getPayload();if(e?o.cx:o.co){var r=(n=JSON).parse;if(e){if(o=o.cx){switch(4-o.length%4){case 2:o+="==";break;case 3:o+="="}o=function(e){var t,n=0,i=0,o="",r=[];if(!e)return e;e+="";do{var a=$e.indexOf(e.charAt(n++)),l=$e.indexOf(e.charAt(n++));o=$e.indexOf(e.charAt(n++));var c=$e.indexOf(e.charAt(n++)),s=a<<18|l<<12|o<<6|c;a=s>>16&255,l=s>>8&255,s&=255,r[i++]=64===o?String.fromCharCode(a):64===c?String.fromCharCode(a,l):String.fromCharCode(a,l,s)}while(n<e.length);return o=r.join(""),t=o.replace(/\0+$/,""),decodeURIComponent(t.split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}(o=o.replace(/-/g,"+").replace(/_/g,"/"))}}else o=o.co;n=r.call(n,o)}else n=void 0}return n?n.dt=n.dt.concat(i.dt):n=i,n},l=void 0,c=0;c<n.length;c++){var s=n[c];"cx"===s.keyIfEncoded?l=a(l,s.json):r(s.json,s.keyIfEncoded,s.keyIfNotEncoded)}n.length=0,i.length&&(l=a(l,n={sc:"sp/ctx/1-0-0",dt:o([],i,!0)}),i.length=0),l&&r(l,"cx","co")}}function l(e){if(!c(e))return!1;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}function c(e){return null!=e&&(e.constructor==={}.constructor||e.constructor===[].constructor)}function s(){var t=[],n=[];return{getGlobalPrimitives:function(){return t},getConditionalProviders:function(){return n},addGlobalContexts:function(e){for(var i=[],o=[],r=0;r<e.length;r++){var a=e[r];b(a)?i.push(a):_(a)&&o.push(a)}t=t.concat(o),n=n.concat(i)},clearGlobalContexts:function(){n=[],t=[]},removeGlobalContexts:function(e){for(var i=function(e){b(e)?n=n.filter((function(t){return JSON.stringify(t)!==JSON.stringify(e)})):_(e)&&(t=t.filter((function(t){return JSON.stringify(t)!==JSON.stringify(e)})))},o=0;o<e.length;o++)i(e[o])},getApplicableContexts:function(i){e:{for(var o=0,r=i.getJson();o<r.length;o++){var a=r[o];if("ue_px"===a.keyIfEncoded&&"object"===e(a.json.data)&&"string"==typeof(a=a.json.data.schema)){o=a;break e}}o=""}a="string"==typeof(r=i.getPayload().e)?r:"",r=[];var l=T(t,i,a,o);return r.push.apply(r,l),i=function(e,t,n,i){var o;return e=E(e).map((function(e){e:{if(w(e)){var o=e[0],r=!1;try{r=o({event:t.getPayload(),eventType:n,eventSchema:i})}catch(e){r=!1}if(!0===r){e=T(e[1],t,n,i);break e}}else if(y(e)&&function(e,t){var n=0,i=0,o=e.accept;return Array.isArray(o)?e.accept.some((function(e){return k(e,t)}))&&i++:"string"==typeof o&&k(o,t)&&i++,o=e.reject,Array.isArray(o)?e.reject.some((function(e){return k(e,t)}))&&n++:"string"==typeof o&&k(o,t)&&n++,0<i&&0===n}(e[0],i)){e=T(e[1],t,n,i);break e}e=[]}if(e&&0!==e.length)return e})),(o=[]).concat.apply(o,e.filter((function(e){return null!=e&&e.filter(Boolean)})))}(n,i,a,o),r.push.apply(r,i),r}}}function u(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return null!==(t=null==e?void 0:e.map((function(e){if("function"!=typeof e)return e;try{return e.apply(void 0,n)}catch(e){}})).filter(Boolean))&&void 0!==t?t:[]}function d(e){return!!((e=e.split("."))&&1<e.length)&&function(e){if("*"===e[0]||"*"===e[1])return!1;if(0<e.slice(2).length){var t=!1,n=0;for(e=e.slice(2);n<e.length;n++)if("*"===e[n])t=!0;else if(t)return!1;return!0}return 2==e.length}(e)}function f(e){if(null!==(e=/^iglu:((?:(?:[a-zA-Z0-9-_]+|\*).)+(?:[a-zA-Z0-9-_]+|\*))\/([a-zA-Z0-9-_.]+|\*)\/jsonschema\/([1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)$/.exec(e))&&d(e[1]))return e.slice(1,6)}function v(e){if(e=f(e)){var t=e[0];return 5===e.length&&d(t)}return!1}function g(e){return Array.isArray(e)&&e.every((function(e){return"string"==typeof e}))}function p(e){return g(e)?e.every((function(e){return v(e)})):"string"==typeof e&&v(e)}function h(t){return!!(l(t)&&"sc"in t&&"dt"in t)&&("string"==typeof t.sc&&"object"===e(t.dt))}function m(e){return"function"==typeof e&&1>=e.length}function _(e){return m(e)||h(e)}function w(e){return!(!Array.isArray(e)||2!==e.length)&&(Array.isArray(e[1])?m(e[0])&&e[1].every(_):m(e[0])&&_(e[1]))}function y(t){return!(!Array.isArray(t)||2!==t.length)&&(!!function(t){var n=0;if(null!=t&&"object"===e(t)&&!Array.isArray(t)){if(Object.prototype.hasOwnProperty.call(t,"accept")){if(!p(t.accept))return!1;n+=1}if(Object.prototype.hasOwnProperty.call(t,"reject")){if(!p(t.reject))return!1;n+=1}return 0<n&&2>=n}return!1}(t[0])&&(Array.isArray(t[1])?t[1].every(_):_(t[1])))}function b(e){return w(e)||y(e)}function k(e,t){if(!v(e))return!1;if(e=f(e),t=null!==(t=/^iglu:([a-zA-Z0-9-_.]+)\/([a-zA-Z0-9-_]+)\/jsonschema\/([1-9][0-9]*)-(0|[1-9][0-9]*)-(0|[1-9][0-9]*)$/.exec(t))?t.slice(1,6):void 0,e&&t){if(!function(e,t){if(t=t.split("."),e=e.split("."),t&&e){if(t.length!==e.length)return!1;for(var n=0;n<e.length;n++)if(!C(t[n],e[n]))return!1;return!0}return!1}(e[0],t[0]))return!1;for(var n=1;5>n;n++)if(!C(e[n],t[n]))return!1;return!0}return!1}function C(e,t){return e&&t&&"*"===e||e===t}function E(e){return Array.isArray(e)?e:[e]}function T(e,t,n,i){var o;return e=E(e).map((function(e){e:if(h(e))e=[e];else{if(m(e)){t:{var o=void 0;try{if(o=e({event:t.getPayload(),eventType:n,eventSchema:i}),Array.isArray(o)&&o.every(h)||h(o)){var r=o;break t}r=void 0;break t}catch(e){}r=void 0}if(h(r)){e=[r];break e}if(Array.isArray(r)){e=r;break e}}e=void 0}if(e&&0!==e.length)return e})),(o=[]).concat.apply(o,e.filter((function(e){return null!=e&&e.filter(Boolean)})))}function S(e){void 0===e&&(e={});var t,n,i,r,l,u,d,f=e.base64,v=e.corePlugins,g=null!=v?v:[];t=null==f||f,n=g,i=e.callback,r=function(e){return{addPluginContexts:function(t){var n=t?o([],t,!0):[];return e.forEach((function(e){try{e.contexts&&n.push.apply(n,e.contexts())}catch(e){tt.error("Error adding plugin contexts",e)}})),n}}}(n),l=s(),u=t,d={};var p=De(De({},f={track:function(e,t,o){e.withJsonProcessor(a(u)),e.add("eid",Qe.v4()),e.addDict(d),o=function(e){return null==e?{type:"dtm",value:(new Date).getTime()}:"number"==typeof e?{type:"dtm",value:e}:"ttm"===e.type?{type:"ttm",value:e.value}:{type:"dtm",value:e.value||(new Date).getTime()}}(o),e.add(o.type,o.value.toString()),t=function(e,t){e=l.getApplicableContexts(e);var n=[];return t&&t.length&&n.push.apply(n,t),e&&e.length&&n.push.apply(n,e),n}(e,r.addPluginContexts(t)),void 0!==(t=t&&t.length?{sc:"sp/ctx/1-0-0",dt:t}:void 0)&&e.addJson("cx","co",t),n.forEach((function(t){try{t.beforeTrack&&t.beforeTrack(e)}catch(e){tt.error("Plugin beforeTrack",e)}})),"function"==typeof i&&i(e);var c=e.build();return n.forEach((function(e){try{e.afterTrack&&e.afterTrack(c)}catch(e){tt.error("Plugin afterTrack",e)}})),c},addPayloadPair:function(e,t){d[e]=t},configuration:e,getConfig:function(){return e},setConfig:function(t){t&&(void 0!==t.base64&&(u=e.base64=t.base64),void 0!==t.lifecycleAutotracking&&(e.lifecycleAutotracking=t.lifecycleAutotracking),void 0!==t.cacheRefreshInterval&&(e.cacheRefreshInterval=t.cacheRefreshInterval),void 0!==t.exceptionAutotracking&&(e.exceptionAutotracking=t.exceptionAutotracking),void 0!==t.enablePeriodicHeartbeat&&(e.enablePeriodicHeartbeat=t.enablePeriodicHeartbeat),void 0!==t.periodicHeartbeatInterval&&(e.periodicHeartbeatInterval=t.periodicHeartbeatInterval),void 0!==t.enc&&(e.enc=t.enc),void 0!==t.mend&&(e.mend=t.mend),void 0!==t.maxLocalStorageQueueSize&&(e.maxLocalStorageQueueSize=t.maxLocalStorageQueueSize),void 0!==t.maxGetBytes&&(e.maxGetBytes=t.maxGetBytes),void 0!==t.bufferSize&&(e.bufferSize=t.bufferSize),void 0!==t.customEventTrackingConfiguration&&(e.customEventTrackingConfiguration=t.customEventTrackingConfiguration),void 0!==t.networkRequestTrackingConfiguration&&(e.networkRequestTrackingConfiguration=t.networkRequestTrackingConfiguration),void 0!==t.traceparentconfig&&(e.traceparentconfig=t.traceparentconfig),void 0!==t.metaTagsTrackingConfiguration&&(e.metaTagsTrackingConfiguration=t.metaTagsTrackingConfiguration),void 0!==t.evtStreamTrackingConfiguration&&(e.evtStreamTrackingConfiguration=t.evtStreamTrackingConfiguration),void 0!==t.performanceContextConfig&&(e.performanceContextConfig=t.performanceContextConfig),void 0!==t.configurationVersion&&(e.configurationVersion=t.configurationVersion),void 0!==t.catRcLastUpdatedTs&&(e.catRcLastUpdatedTs=t.catRcLastUpdatedTs),void 0!==t.endpoint&&(e.endpoint=t.endpoint),void 0!==t.controlIngestConfig&&(e.controlIngestConfig=t.controlIngestConfig),void 0!==t.applicationContext&&(e.applicationContext=t.applicationContext),void 0!==t.emitterConfiguration&&(e.emitterConfiguration=t.emitterConfiguration),void 0!==t.di&&(e.di=t.di),void 0!==t.clickcc&&(e.clickcc=t.clickcc),void 0!==t.collectionRateLimit&&(e.collectionRateLimit=t.collectionRateLimit),e.pageUrlTrackingConfig=void 0!==t.pageUrlTrackingConfig?t.pageUrlTrackingConfig:null)},getBase64Encoding:function(){return u},setBase64Encoding:function(e){u=e},addPayloadDict:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(d[t]=e[t])},resetPayloadPairs:function(e){d=c(e)?e:{}},setTrackerVersion:function(e){d.tv=e},setTrackerNamespace:function(e){d.tna=e},setAppId:function(e){d.aid=e},setPlatform:function(e){d.p=e},setUserId:function(e){d.uid=e},setScreenResolution:function(e,t){d.res=e+"x"+t},setViewport:function(e,t){d.vp=e+"x"+t},setColorDepth:function(e){d.cd=e},setTimezone:function(e){d.tz=e},setLang:function(e){d.lang=e},setIpAddress:function(e){d.ip=e},setUseragent:function(e){d.ua=e},addGlobalContexts:function(e){l.addGlobalContexts(e)},clearGlobalContexts:function(){l.clearGlobalContexts()},removeGlobalContexts:function(e){l.removeGlobalContexts(e)}}),{addPlugin:function(e){var t,n;e=e.plugin,g.push(e),null===(t=e.logger)||void 0===t||t.call(e,tt),null===(n=e.activateCorePlugin)||void 0===n||n.call(e,p)}});return null==g||g.forEach((function(e){var t,n;null===(t=e.logger)||void 0===t||t.call(e,tt),null===(n=e.activateCorePlugin)||void 0===n||n.call(e,p)})),p}function A(e){var t=e.event;return e={sc:"sp/ue/1-0-0",dt:{sc:e=t.sc,dt:t.dt}},(t=r()).add("e","ue"),t.addJson("ue_px","ue_pr",e),t}function R(e){return A({event:{sc:"cv/re/1-0-1",dt:I({name:e.name,data:e.data})}})}function I(e,t){void 0===t&&(t={});var n,i={};for(n in e)(t[n]||null!==e[n]&&void 0!==e[n])&&(i[n]=e[n]);return i}function N(e){for(var t=e.length;0<=--t;)e[t]=0}function x(e,t,n,i,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=o,this.has_stree=e&&e.length}function O(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function L(e,t,n,i,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=o}function M(){this.strm=null,this.status=0,this.pending_buf=null,this.wrap=this.pending=this.pending_out=this.pending_buf_size=0,this.gzhead=null,this.gzindex=0,this.method=rn,this.last_flush=-1,this.w_mask=this.w_bits=this.w_size=0,this.window=null,this.window_size=0,this.head=this.prev=null,this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),ln(this.dyn_ltree),ln(this.dyn_dtree),ln(this.bl_tree),this.bl_desc=this.d_desc=this.l_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),ln(this.heap),this.heap_max=this.heap_len=0,this.depth=new Uint16Array(573),ln(this.depth),this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.sym_end=this.sym_next=this.lit_bufsize=this.sym_buf=0}function D(e){(e=this.options=Tn.assign({level:zn,method:Bn,chunkSize:16384,windowBits:15,memLevel:8,strategy:Gn},e||{})).raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&16>e.windowBits&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Nn,this.strm.avail_out=0;var t=En.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(t!==Pn)throw Error(zt[t]);if(e.header&&En.deflateSetHeader(this.strm,e.header),e.dictionary){if(e="string"==typeof e.dictionary?In.string2buf(e.dictionary):"[object ArrayBuffer]"===xn.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(t=En.deflateSetDictionary(this.strm,e))!==Pn)throw Error(zt[t]);this._dict_set=!0}}function P(e,t){if((t=new D(t)).push(e,!0),t.err)throw t.msg||zt[t.err];return t.result}function U(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.total=this.check=this.dmax=this.flags=0,this.head=null,this.wnext=this.whave=this.wsize=this.wbits=0,this.window=null,this.extra=this.offset=this.length=this.bits=this.hold=0,this.distcode=this.lencode=null,this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.distdyn=this.lendyn=null,this.was=this.back=this.sane=0}function z(e){var t=this.options=Tn.assign({chunkSize:65536,windowBits:15,to:""},e||{});if(t.raw&&0<=t.windowBits&&16>t.windowBits&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&16>t.windowBits)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&48>t.windowBits&&!(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Nn,this.strm.avail_out=0,(e=vi.inflateInit2(this.strm,t.windowBits))!==_i)throw Error(zt[e]);if(this.header=new gi,vi.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=In.string2buf(t.dictionary):"[object ArrayBuffer]"===pi.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=vi.inflateSetDictionary(this.strm,t.dictionary))!==_i))throw Error(zt[e])}function G(e,t){if((t=new z(t)).push(e),t.err)throw t.msg||zt[t.err];return t.result}function B(e){return!(!e||"string"!=typeof e.valueOf())}function q(e){return Number.isInteger&&Number.isInteger(e)||"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function F(e){if(!B(e)){e=e.text||"";var t=document.getElementsByTagName("title");t&&null!=t[0]&&(e=t[0].text)}return e}function H(e){var t=/^(?:(?:https?|ftp):)\/*(?:[^@]+@)?([^:/#]+)/.exec(e);return t?t[1]:e}function j(e){var t=e.length;return"."===e.charAt(--t)&&(e=e.slice(0,t)),"*."===e.slice(0,2)&&(e=e.slice(1)),e}function V(e){var t=window,n=K("referrer",t.location.href)||K("referer",t.location.href);if(n)return n;if(e)return e;try{if(t.top)return t.top.document.referrer;if(t.parent)return t.parent.document.referrer}catch(e){}return document.referrer}function Z(e,t,n,i){return void 0!==e&&(e.addEventListener?(e.addEventListener(t,n,i),!0):e.attachEvent?e.attachEvent("on"+t,n):void(e["on"+t]=n))}function K(e,t){return(e=new RegExp("^[^#]*[?&]"+e+"=([^&#]*)").exec(t))?decodeURIComponent(e[1].replace(/\+/g," ")):null}function W(e,t,n){void 0===n&&(n=63072e3);try{var i=window.localStorage,o=Date.now()+1e3*n;return i.setItem("".concat(e,".expires"),o.toString()),i.setItem(e,t),!0}catch(e){return!1}}function J(e){try{var t=window.localStorage;return t.removeItem(e),t.removeItem(e+".expires"),!0}catch(e){return!1}}function X(e,t,n,i){return Y(e,"",-1,"/",t,n,i)}function Y(e,t,n,i,o,r,a){return 1<arguments.length?document.cookie=e+"="+encodeURIComponent(null!=t?t:"")+(n?"; Expires="+new Date(+new Date+1e3*n).toUTCString():"")+(i?"; Path="+i:"")+(o?"; Domain="+o:"")+(r?"; SameSite="+r:"")+(a?"; Secure":""):decodeURIComponent((("; "+document.cookie).split("; "+e+"=")[1]||"").split(";")[0])}function Q(e){try{var t=null===window||void 0===window?void 0:window.localStorage;return!!t&&(t.removeItem(e),!0)}catch(e){return!1}}function $(){"undefined"!=typeof window&&void 0!==window.localStorage&&localStorage.removeItem(Si.SAMPLING_STORAGE_RANDOM_NUMBER_KEY)}function ee(e,t){return void 0!==e.act&&void 0!==e.act[t]&&void 0!==(e=e.act[t])?e:Si.DEFAULT_SAMPLING_ACTION[t]}function te(e,t){return e.length<=t?e:e.slice(0,t-3)+"..."}function ne(n,i,o,r){var a=[Ii.request_body,Ii.response_body,Ii.request_headers,Ii.response_headers,Ii.request_query],l={};if(i&&0<i.length)for(var c=0;c<i.length;c++){var s=i[c],u=s.conditions;s=t(s,["conditions"]);try{e:{var d=n;try{for(var f=0;f<u.length;f++){var v=u[f],g=!1;if(0<Object.keys(v).length)for(var p=0,h=Object.entries(v);p<h.length;p++){var m=h[p],_=m[1],w=d[m[0]];if(0<_.length){for(var y=0,b=0,k=_;b<k.length;b++){var C=k[b],E="contains",T=C;if("object"===e(C)&&C.length?(E=C[1],T=C[0]):"boolean"!=typeof C&&null!==C||(E="equal",T=C),ie(w,E,T)){g=!0;break}if(g=!1,y+1===_.length)break;y++}if(!1===g)break}}if(g){var S=!0;break e}}}catch(e){console.warn("Conviva App Tracker: Error in Applying nwreqConfig ".concat(e))}S=!1}if(S){d=0;for(var A=Object.entries(n);d<A.length;d++){var R=A[d],I=R[0],N=R[1];a.includes(I)||(l[I]=N)}d=0;for(var x=Object.entries(s);d<x.length;d++){var O=x[d];I=O[0],N=O[1];try{if(N&&0<s[I].length){if(f=!1,I!==Ii.response_headers&&I!==Ii.request_headers||(f=!0),I===Ii.request_body){E=k=b=y=p=g=u=void 0;var L=n;void 0===(T=o)&&(T={});var M=Oi(null===(E=null==T?void 0:T.requestDetails)||void 0===E?void 0:E.headers);if(void 0!==M&&(M.toLowerCase().includes("text/plain")||M.toLowerCase().includes("json")||M.toLowerCase().includes("text/javascript")||M.toLowerCase().includes("application/javascript")||M.toLowerCase().includes("text/html"))||void 0===M)try{if("string"==typeof(null===(k=null==T?void 0:T.requestDetails)||void 0===k?void 0:k.body)&&10240>=(null===(b=null==T?void 0:T.requestDetails)||void 0===b?void 0:b.body.length))try{L[Ii.request_body]=JSON.parse(null===(y=null==T?void 0:T.requestDetails)||void 0===y?void 0:y.body)}catch(e){}else"object"===e(null===(p=null==T?void 0:T.requestDetails)||void 0===p?void 0:p.body)&&10240>=JSON.stringify(null===(g=null==T?void 0:T.requestDetails)||void 0===g?void 0:g.body).length&&(L[Ii.request_body]=null===(u=null==T?void 0:T.requestDetails)||void 0===u?void 0:u.body)}catch(e){}}if(I===Ii.response_body){var D,P=L=T=E=k=b=y=p=g=u=void 0,U=void 0,z=void 0,G=o,B=n;void 0===G&&(G={});e:{var q=null===(z=null==G?void 0:G.responseDetails)||void 0===z?void 0:z.headers;try{z=void 0,null!=q&&(z=q["content-length"]||q["Content-Length"]||q["Content-length"]);var F=null==z||isNaN(z)?z:Number(z);break e}catch(e){}F=void 0}var H=Oi(null===(D=null==G?void 0:G.responseDetails)||void 0===D?void 0:D.headers);if(void 0!==H&&(H.toLowerCase().includes("text/plain")||H.toLowerCase().includes("json")||H.toLowerCase().includes("text/javascript")||H.toLowerCase().includes("application/javascript")||H.toLowerCase().includes("text/html")))if(void 0!==F&&10240>=F)if("string"==typeof(null===(U=null==G?void 0:G.responseDetails)||void 0===U?void 0:U.body))try{B[Ii.response_body]=JSON.parse(null===(P=null==G?void 0:G.responseDetails)||void 0===P?void 0:P.body)}catch(e){}else"object"===e(null===(L=null==G?void 0:G.responseDetails)||void 0===L?void 0:L.body)&&(B[Ii.response_body]=null===(T=null==G?void 0:G.responseDetails)||void 0===T?void 0:T.body);else if(void 0===F)try{if("string"==typeof(null===(E=null==G?void 0:G.responseDetails)||void 0===E?void 0:E.body)&&10240>=(null===(b=null===(k=null==G?void 0:G.responseDetails)||void 0===k?void 0:k.body)||void 0===b?void 0:b.length))try{B[Ii.response_body]=JSON.parse(null===(y=null==G?void 0:G.responseDetails)||void 0===y?void 0:y.body)}catch(e){}else"object"===e(null===(p=null==G?void 0:G.responseDetails)||void 0===p?void 0:p.body)&&10240>=JSON.stringify(null===(g=null==G?void 0:G.responseDetails)||void 0===g?void 0:g.body).length&&(B[Ii.response_body]=null===(u=null==G?void 0:G.responseDetails)||void 0===u?void 0:u.body)}catch(e){}}I===Ii.request_query&&re(n,r);var j=oe(n[I],s[I],f);0!==Object.keys(j).length&&(l[I]=j)}}catch(e){l[I]=void 0}}return l}}catch(e){console.warn("Conviva App Tracker: Error in collecting attributes nwreqConfig ".concat(e))}}for(l=De({},n),n=0;n<a.length;n++)i=a[n],null!=l&&l.hasOwnProperty(i)&&delete l[i];return l}function ie(e,t,n){try{if("string"==typeof n&&"string"==typeof e&&"*"===n.trim())return!0;switch(t){case"==":case"equal":return e===n;case"!=":return e!==n;case">":return e>n;case"<":return e<n;case">=":return e>=n;case"<=":return e<=n;case"contains":return""!==n&&"string"==typeof e&&"string"==typeof n&&-1!==e.toLowerCase().indexOf(n.toLowerCase());default:return!1}}catch(e){return console.warn("Conviva App Tracker: Error in Compare values nwreq ".concat(e)),!1}}function oe(e,t,n){var i={};try{for(var o=0;o<t.length;o++){var r=t[o],a=e,l=i;n&&(r=r.toLowerCase(),a=a&&Object.entries(a).reduce((function(e,t){var n=t[1];return e[t[0].toLowerCase()]=n,e}),{}));for(var c=r.split("."),s=0;s<c.length;s++){var u=c[s];if(null==a||!a.hasOwnProperty(u))break;s===c.length-1?l[u]=a[u]:(l[u]=l[u]||{},a=a[u],l=l[u])}}}catch(e){console.warn("Conviva App Tracker: Error in filtering schema object nwreq ".concat(e))}return i}function re(e,t){try{var n=null==e?void 0:e.targetUrl;if(n&&"string"==typeof n&&n.includes("?")){var i=void 0;try{var o=n.indexOf("?");if(-1===o)return;var r=n.indexOf("#",o),a=-1!==r?n.substring(o+1,r):n.substring(o+1);if(!a||a.length>(t||10240))return;i="undefined"!=typeof URLSearchParams?new URLSearchParams(a):null}catch(e){return void console.warn("Conviva App Tracker: Error creating URLSearchParams: ".concat(e))}var l={};if(i instanceof URLSearchParams)i.forEach((function(e,t){l[t]=e}));else{t=0;for(var c=n.substring(n.indexOf("?")+1).split("&");t<c.length;t++){var s=c[t];if(s){var u=s.indexOf("="),d=0<u?decodeURIComponent(s.substring(0,u)):decodeURIComponent(s);if(d){var f=0<u&&u<s.length-1?decodeURIComponent(s.substring(u+1)):"";l[d]=f}}}}0<Object.keys(l).length&&(e[Ii.request_query]=l)}}catch(e){console.warn("Conviva App Tracker: Error parsing request query parameters: ".concat(e))}}function ae(e,t,n,i){for(var o={},r=0;r<t.length;r++){var a=t[r],l=a.req,c=a.opt;a=a.smb;try{var s=i([{req:l,opt:c}],[],e,n);if(null!=s&&s.result&&a&&Array.isArray(a)){var u=le(e,a,!1);return 0<Object.keys(u).length&&Object.assign(o,u),o}}catch(e){console.warn("Conviva App Tracker: Error in collecting conditional SSE attributes ".concat(e))}}return o}function le(e,t,n){var i={};try{for(var o=0;o<t.length;o++){var r=t[o],a=e,l=i;n&&(r=r.toLowerCase(),a=a&&Object.entries(a).reduce((function(e,t){var n=t[1];return e[t[0].toLowerCase()]=n,e}),{}));for(var c=r.split("."),s=0;s<c.length;s++){var u=c[s];if(null==a||!a.hasOwnProperty(u))break;if(s===c.length-1)l[u]=a[u];else{if(l[u]=l[u]||{},"string"==typeof(a=a[u])&&s<c.length-1)try{a=JSON.parse(a)}catch(e){}l=l[u]}}}}catch(e){console.warn("Conviva App Tracker: Error in filtering SSE object ".concat(e))}return i}function ce(e,t,n){return"translate.googleusercontent.com"===e?(""===n&&(n=t),e=H(t=null!=(e=(e=/^(?:https?|ftp)(?::\/*(?:[^?]+))([?][^#]+)/.exec(t))&&1<(null==e?void 0:e.length)?K("u",e[1]):null)?e:"")):"cc.bingj.com"!==e&&"webcache.googleusercontent.com"!==e||(e=H(t=document.links[0].href)),[e,t,n]}function se(e,t){return void 0===t&&(t=1),"0"===e[0]?(e[7]=e[6],e[5]=e[4],e[3]++):e[3]=t,t=Qe.v4(),e[6]=t,e[8]="",e[9]=void 0,t}function ue(e){e[4]=Math.round((new Date).getTime()/1e3)}function de(e){return{activateLCPObserver:function(){try{PerformanceObserver&&new PerformanceObserver((function(e){try{e.getEntries().forEach((function(e){var t;if("largest-contentful-paint"===e.entryType){var n=null===performance||void 0===performance?void 0:performance.getEntriesByType("navigation"),i=void 0;n&&0<(null==n?void 0:n.length)&&(i=null===(t=n[0])||void 0===t?void 0:t.activationStart),Li=De(De({},e.toJSON()),{performanceNavigationActivationStart:null!=i?i:0})}}))}catch(e){console.warn("convivaAppTracker error in conviva lcp observer "+e)}})).observe({type:"largest-contentful-paint",buffered:!0})}catch(e){console.warn("convivaAppTracker conviva_lcp failed "+e)}},contexts:function(){try{switch(e){case Si.PERFORMANCE_CONTEXT.DISABLED:return[];case Si.PERFORMANCE_CONTEXT.PERFORMANCE_NAVIGATION_TIMING:return function(){var e,t,n;try{var i=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance||{};if(i.getEntriesByType){var o=i.getEntriesByType("navigation")[0],r=null!==(e=null==i?void 0:i.timeOrigin)&&void 0!==e?e:0;if(!o)return[];var a={st:Math.floor(r+o.startTime),dls:Math.floor(r+o.domainLookupStart),dle:Math.floor(r+o.domainLookupEnd),rss:Math.floor(r+o.responseStart),rse:Math.floor(r+o.responseEnd),le:Math.floor(r+o.loadEventEnd),dur:Math.floor(r+o.duration),as:Math.floor(r+o.activationStart)};return null!=Li&&Li.startTime&&(a.lcp={rt:Math.floor(r+Li.startTime),url:128<(null===(t=null==Li?void 0:Li.url)||void 0===t?void 0:t.length)?null===(n=null==Li?void 0:Li.url)||void 0===n?void 0:n.substring(0,128):Li.url,sz:Li.size}),[{sc:"cv/pc/1-0-1",dt:a}]}return[]}catch(e){return console.warn("ConvivaAppTracker: issue will getting performance Navigation timing context"),[]}}();default:var t=window,n=t.performance||t.mozPerformance||t.msPerformance||t.webkitPerformance,i=n.timing;return o(o([],n?[{sc:"w3/pt/1-0-0",dt:{navigationStart:i.navigationStart,domainLookupStart:i.domainLookupStart,domainLookupEnd:i.domainLookupEnd,responseStart:i.responseStart,responseEnd:i.responseEnd,loadEventEnd:i.loadEventEnd}}]:[],!0),function(){var e,t,n;try{if(void 0!==(null==Li?void 0:Li.startTime)&&"number"==typeof(null==Li?void 0:Li.startTime))return[{sc:"cv/lcp/1-0-0",dt:{lcp:Math.round(Li.startTime)-(null!==(e=Li.performanceNavigationActivationStart)&&void 0!==e?e:0),url:128<(null===(t=null==Li?void 0:Li.url)||void 0===t?void 0:t.length)?null===(n=null==Li?void 0:Li.url)||void 0===n?void 0:n.substring(0,128):Li.url}}]}catch(e){}return[]}(),!0)}}catch(e){return console.warn("convivaAppTracker problem in perfromance context "+e),[]}}}}function fe(e,t,n,i,o,r){var a;try{var l=null,c=null!==(a=r.url)&&void 0!==a?a:"";if(!c)return!0;if(qi.some((function(e){return c.includes(e)})))return!1;var s=new URL(c),u=s.protocol.replace(":","");if(a=function(e,t){var n;return(e=ge(e,{scheme:u,host:s.hostname,path:decodeURIComponent(s.pathname)},zi.NETWORK_REQUEST)).matched?e.opt?pe(e.opt,{responseStatusCode:null!==(n=null==o?void 0:o.status)&&void 0!==n?n:0,duration:Date.now()-r.requestTimestamp},zi.NETWORK_REQUEST)===t:t:null},e&&null===l&&(l=a(e,!0)),t&&null===l&&(l=a(t,!1)),null===l){var d=(null==n?void 0:n.includes("*"))||(null==n?void 0:n.some((function(e){return!(!e||""===e)&&c.includes(e)}))),f=null==i?void 0:i.some((function(e){return!(!e||""===e)&&c.includes(e)}));l=!d||f}return!0===l}catch(e){return!0}}function ve(e,t,n,i){try{var o=null;if(!(i=null!=i?i:""))return{result:!0};var r=new URL(i),a=r.protocol.replace(":","");return i=function(e,t){var i;if((e=ge(e,De({scheme:a,host:r.hostname,path:decodeURIComponent(r.pathname)},n),zi.SSE_EVENT)).matched){if(e.opt){var o=pe(e.opt,n,zi.SSE_EVENT);return!0!==(null===(i=null==e?void 0:e.item)||void 0===i?void 0:i.count)||o?{result:o===t,matchedConfig:e.item,shouldSend:!0}:{result:e.matched===t,matchedConfig:e.item,shouldSend:!1}}return{result:t,matchedConfig:e.item,shouldSend:!1}}return null},e&&null===o&&(o=i(e,!0)),t&&null===o&&(o=i(t,!1)),(!e||Array.isArray(e)&&0===e.length)&&null===o&&(o={result:!0}),o}catch(e){return{result:!0}}}function ge(e,t,n){try{for(var i=0;i<e.length;i++){var o=e[i],r=o.opt;if(pe(o.req,t,n))return{matched:!0,opt:r||null,item:o}}return{matched:!1,opt:null}}catch(e){return{matched:!1,opt:null}}}function pe(e,t,n){try{if(!e)return!1;if("and"===e.type){for(var i=0,o=e.cond;i<o.length;i++){var r=o[i];if(!pe(r,t,n))return!1}return!0}if("or"===e.type){for(o=0,i=e.cond;o<i.length;o++)if(pe(r=i[o],t,n))return!0;return!1}return n===zi.NETWORK_REQUEST?function(e,t){var n=e.key,i=e.op;if(e=e.val,!n||!i)return!1;switch(n){case"sch":return!!t.scheme&&he(t.scheme,i,e);case"host":return!!t.host&&he(t.host,i,e);case"path":return!!t.path&&he(t.path,i,e);case"dur":return!!t.duration&&me(t.duration,i,e);case"rsc":return void 0!==t.responseStatusCode&&0<=t.responseStatusCode&&me(t.responseStatusCode,i,e);default:return!1}}(e,t):n===zi.CUSTOM_EVENT?function(e,t){var n=e.key,i=e.op;if(e=e.val,!n||!i)return!1;if(void 0!==t[n]){if(B(t[n]))return he(t[n],i,e);if("boolean"==typeof t[n])switch(t=t[n],i){case"!=":return t!==e;case"==":return t===e;default:return!1}if(Number.isInteger(t[n]))return me(t[n],i,e)}return!1}(e,t):n===zi.SSE_EVENT&&function(e,t){var n=e.key,i=e.op;if(e=e.val,!n||!i)return!1;switch(n){case"sch":return!!t.scheme&&he(t.scheme,i,e);case"host":return!!t.host&&he(t.host,i,e);case"path":return!!t.path&&he(t.path,i,e);default:if(t=function(e,t){return t?t.split(".").reduce((function(e,t){if(null!=e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return t=/^\d+$/.test(t)?Number(t):t,null==e?void 0:e[t]}}),e):e}(t,n),null!=t){if("string"==typeof t)return he(t,i,e);if("boolean"==typeof t)switch(i){case"!=":return t!==e;case"==":return t===e;default:return!1}if("number"==typeof t&&Number.isInteger(t))return me(t,i,e)}return!1}}(e,t)}catch(e){return!1}}function he(e,t,n){return"=="===t&&Array.isArray(n)?!!(t=n).includes("*")||t.some((function(t){return!(!t||""===t)&&e===t})):"contains"===t&&Array.isArray(n)?!!(t=n).includes("*")||t.some((function(t){return!(!t||""===t)&&e.includes(t)})):"sw"===t&&Array.isArray(n)?!!(t=n).includes("*")||t.some((function(t){return!(!t||""===t)&&e.startsWith(t)})):!("ew"!==t||!Array.isArray(n))&&(!!(t=n).includes("*")||t.some((function(t){return!(!t||""===t)&&e.endsWith(t)})))}function me(t,n,i){if("in"===n.toLowerCase()&&Array.isArray(i))return i.includes(t);if("range"===n.toLowerCase()&&"object"===e(i)){n=i.min;var o=i.max,r=i.minExclusive;return i=i.maxExclusive,void 0!==n&&void 0!==o?t>=n&&t<=o:void 0!==r&&void 0!==i&&(t>r&&t<i)}if(q(i))switch(n){case"!=":return t!==i;case">":return t>i;case">=":return t>=i;case"<":return t<i;case"<=":return t<=i;case"==":return t===i}return!1}function _e(e,t,n){var i=null;e:{for(var o=0;o<e.length;o++){var r=e[o],a=r.opt;if(pe(r.req,t,n)){if(!a){e=!0,a=null;break e}if(pe(a,t,n)){e=!0;break e}}}e=!1,a=null}return e&&(i=!a||!!pe(a,t,n)),i}function we(t,n,i){var o,r;try{if(t&&n){var a,l=null==t?void 0:t.getConfig();e:{var c,s,u,d={message:""};try{var f=i.message,v=i.error,g=i.className,p=i.extraData;if(f)d.message=f;else if("string"==typeof v){if(!(0<v.trim().length)){tt.warn("Conviva Eco Sensor:: Mandatory field message is missing");var h=null;break e}d.message=v}else"object"===e(v)&&("string"==typeof v.message&&0<v.message.trim().length&&(d.message=te(v.message,Si.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_MESSAGE_LENGTH)),"string"==typeof v.name&&0<v.name.trim().length&&(d.exceptionName=te(v.name,Si.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_EXCEPTION_NAME_LENGTH)),"string"==typeof v.stack&&0<v.stack.trim().length&&(d.stackTrace=te(v.stack,Si.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_STACK_LENGTH)));if(0===d.message.trim().length){tt.warn("Conviva Eco Sensor:: Mandatory field message is missing"),h=null;break e}"string"==typeof g&&0<g.trim().length&&(d.className=te(g,Si.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_CLASSNAME_LENGTH)),null!=p&&(d.extraData=p);var m=null==t?void 0:t.getConfig();if(null!=m&&m.configurationVersion&&(d.remoteConfigVersion=m.configurationVersion),null!=i&&i.configAppliedTime&&(d.configAppliedTime=null==i?void 0:i.configAppliedTime),null!=m&&m.cacheRefreshInterval&&(d.cacheRefreshInterval=m.cacheRefreshInterval),null!=i&&i.configAppliedSrc&&(d.configAppliedSrc=null==i?void 0:i.configAppliedSrc),localStorage){var _=localStorage.getItem(Si.SAMPLING_STORAGE_RANDOM_NUMBER_KEY);null!=_&&(d.samplingRandomNumber=parseFloat(_))}"number"==typeof(null===(s=null===(c=null==m?void 0:m.controlIngestConfig)||void 0===c?void 0:c.sel)||void 0===s?void 0:s.pct)?(d.samplingPercentage=m.controlIngestConfig.sel.pct,d.samplingDecision=Si.SAMPLING_STATUS.DERIVED,null!=e(null===(u=null==m?void 0:m.controlIngestConfig)||void 0===u?void 0:u.act)&&(d.extraData=De(De({},d.extraData),{samplingActionConfig:m.controlIngestConfig.act}))):d.samplingDecision=Si.SAMPLING_STATUS.DEFAULT,"function"==typeof n&&"string"==typeof n()&&(d.samplingStatus=n()==Si.SAMPLING_MODES.RCFG)}catch(e){tt.warn("Error occurred while generating diagnostic object",e),h=null;break e}h=d}if(!(a=!h)){var w;try{var y=null==t?void 0:t.getConfig(),b=(null===(w=null==y?void 0:y.di)||void 0===w?void 0:w.lim)||10,k=Date.now();6e4<=k-Wi&&(Ki=0,Wi=k);var C=!(++Ki>b)}catch(e){tt.warn("Conviva Eco Sensor:: Error occured while checking diagnostic event is allowed",e),C=!1}a=!C}if(!a&&"boolean"==typeof(null===(o=null==l?void 0:l.di)||void 0===o?void 0:o.en)&&!0===(null===(r=null==l?void 0:l.di)||void 0===r?void 0:r.en))if(null==t);else{var E=t.track,T=A({event:{sc:"iglu:com.conviva/di/jsonschema/1-0-4",dt:I({msg:h.message,cn:h.className,st:h.stackTrace,en:h.exceptionName,ed:h.extraData,rcv:h.remoteConfigVersion,cat:h.configAppliedTime,cri:h.cacheRefreshInterval,csrc:h.configAppliedSrc,srn:h.samplingRandomNumber,spr:h.samplingPercentage,ss:h.samplingStatus,sd:h.samplingDecision})}});E.call(t,T)}}}catch(e){tt.warn("Conviva Eco Sensor:: Error occurred while sending reportDiagnosticError",e)}}function ye(){var e,t,n=null===(e=null==Vi?void 0:Vi.core)||void 0===e?void 0:e.getConfig();oo=(null==(oo=(null===(t=null==n?void 0:n.clickcc)||void 0===t?void 0:t.cssSelectorList)||oo)?void 0:oo.replace(/\s+/g,""))||""}function be(e,t){if(!(e instanceof HTMLElement||e instanceof SVGElement))return null;var n=null==e?void 0:e.closest(to);if(n)return n;if(n=null==e?void 0:e.closest(oo))return function(e,t){var n;if(0===(e=e.querySelectorAll(to)).length)return null;if(1===e.length&&0<e[0].offsetWidth&&0<e[0].offsetHeight)return e[0];var i=t.clientX;if(t=t.clientY,e.length<=("IntersectionObserver"in window&&"fetch"in window&&"Promise"in window?Si.MAX_NATIVE_SCAN:Si.MAX_NATIVE_SCAN_LEGACY))for(var o=0;o<e.length;o++){var r=null===(n=e[o])||void 0===n?void 0:n.getBoundingClientRect();if(r&&i>=r.left&&i<=r.right&&t>=r.top&&t<r.bottom)return e[o]}return null}(n,t)||n;t=e,n=0;var i=Si.CLICK_MAX_DEPTH;e:{if(t.style){if(t.style.visibility&&""!==t.style.visibility&&"hidden"==t.style.visibility||t.style.pointerEvents&&""!==t.style.pointerEvents&&"none"==t.style.pointerEvents){var o=!1;break e}if(t.style.cursor&&""!==t.style.cursor&&"pointer"==t.style.cursor){o=!0;break e}}o="hidden"!==(o=getComputedStyle(t)).visibility&&"none"!==o.pointerEvents&&"pointer"===o.cursor}if(o){for(;t&&t!==document.documentElement&&(t instanceof HTMLElement||t instanceof SVGElement)&&n<i;){if("function"==typeof t.onclick)return t;t=t.parentElement,n++}return e.closest(no)||e}return null}function ke(e){try{var t=Date.now(),n=Si.CLICK_DEBOUNCING_DELAY;if(null===$i||t-$i>=n){var i,o,r,a,l,c,s;try{var u,d;if(null!==(u=e.target)&&void 0!==u&&u.shadowRoot)var f=null===(d=e.composedPath)||void 0===d?void 0:d.call(e);var v=function(e,t){var n,i;try{if(!Vi||!Vi.core||!e)return null;var o=Vi.core.getConfig();if(!0!==(null===(n=null==o?void 0:o.clickcc)||void 0===n?void 0:n.en))return null;var r=null===(i=null==o?void 0:o.clickcc)||void 0===i?void 0:i.uiMode;return r===Zi.RAW?e:r===Zi.BOTH?be(e,t)||e:be(e,t)}catch(e){return tt.warn("Conviva App Tracker caused Exception in getTrackedElement method of user click tracking module",e),null}}(f&&f[0]||e.target,e);if(v&&(v instanceof HTMLElement||v instanceof HTMLInputElement)){e={};var g=Si.CLICK_KEY_MAX_LENGTH;null!=v&&v.id&&(e.id=te(v.id,g)),null!=v&&v.className&&(e.class=te(v.className,g)),null!=v&&v.tagName&&(e.elementName=te(v.tagName.toLowerCase(),g)),null!==(i=null==v?void 0:v.innerText)&&void 0!==i&&i.trim()&&(e.text=te(v.innerText.trim(),g)),null!=v&&v.getAttribute("name")&&(e.name=te(v.getAttribute("name")||"",g)),null!=v&&v.getAttribute("type")&&(e.elementType=te((null===(o=v.getAttribute("type"))||void 0===o?void 0:o.toLowerCase())||"",g)),null!=v&&v.placeholder&&(e.placeholder=te(v.placeholder,g)),null!=v&&v.getAttribute("type")&&"password"!==(null==v?void 0:v.getAttribute("type"))&&v.value&&(e.value=te(v.value,g));var p=null===(r=null==Vi?void 0:Vi.core)||void 0===r?void 0:r.getConfig(),h=null===(a=null==p?void 0:p.clickcc)||void 0===a?void 0:a.collectattr;if(h)for(i=0;i<h.length;i++){var m=h[i],_=null==v?void 0:v.getAttribute(m);_&&(e[m]=te(_,g))}try{if("A"===v.tagName.toUpperCase()||"AREA"===v.tagName.toUpperCase()){if(null!=v.href){var w=v.hostname||H(v.href),y=w.toLowerCase(),b=v.href.replace(w,y);/^(javascript|vbscript|jscript|mocha|livescript|ecmascript|mailto):/i.test(b)||(e.targetUrl=te(decodeURIComponent(b),g))}v.target&&(e.target=te(v.target,g))}}catch(e){tt.warn("Conviva App Tracker caused Exception in handleClick href setting",e)}var k=null===(l=v.querySelector("use"))||void 0===l?void 0:l.getAttribute("xlink:href");k&&(e["xlink:href"]=te(k,g));var C=null!==(c=null==p?void 0:p.clickcc)&&void 0!==c?c:{},E=zi.CUSTOM_EVENT,T=C.collect,S=C.block;if(l=null,T&&(l=_e(T,e,E)),S&&null===l){var A=_e(S,e,E);"boolean"==typeof A&&(l=!A)}var I=null===l||l;"boolean"==typeof I&&!1===I||null===(s=null==Vi?void 0:Vi.core)||void 0===s||s.track(R({name:"conviva_click",data:JSON.stringify(e)}))}}catch(e){tt.warn("Conviva App Tracker caused Exception in handleClick method of user click tracking module",e)}0<eo&&we(Vi.core,Vi.getSamplingMode,{className:"clickTracking - droppedEvent",message:"total click events dropped to Avoid tracking spam from rapid clicks",extraData:{clickEventDropped:eo}}),eo=0}else eo++;$i=t}catch(e){console.warn("Conviva App Tracker caused Exception in immediateClickHandler method of user click tracking module",e)}}function Ce(){try{Yi||"undefined"==typeof document||(document.body?(Qi=ke,Z(document.body,"click",Qi,{signal:Ni,capture:!0,passive:!0}),Yi=!0):document.addEventListener("DOMContentLoaded",(function(){null!==document&&void 0!==document&&document.body&&(Qi=ke,Z(document.body,"click",Qi,{signal:Ni,capture:!0,passive:!0}),Yi=!0)})),ye(),null!==window&&void 0!==window&&window.addEventListener&&window.addEventListener("RemoteConfigUpdateApplied",(function(){ye()}),{signal:Ni}))}catch(e){tt.warn("Conviva App Tracker caused Exception in enableUserClickTracking method of user click tracking module",e)}}function Ee(){try{Yi&&"undefined"!=typeof document&&document.body&&(Qi&&(document.body.removeEventListener("click",Qi),Qi=null),Yi=!1)}catch(e){tt.warn("Conviva App Tracker caused Exception in disableUserClickTracking method of user click tracking module",e)}}function Te(e){var t={data:""},n=0;for(e=e.split(/\n+/);n<e.length;n++){var i=e[n];if(i&&!i.startsWith(":")){var o=i.indexOf(":"),r=(-1===o?i:i.slice(0,o)).trim();switch(i=-1===o?"":i.slice(o+1).replace(/^\s+/,""),r){case"data":t.data+=(t.data?"\n":"")+i;break;case"event":t.event=i;break;case"id":t.id=i}}}return t.data?t:null}function Se(t,n,i,o,r,a,l,c,s,u,d,f,v,g,p,h,m,_,w){function y(e){var t=Object.keys(e).map((function(t){return[t,e[t]]})).reduce((function(e,t){return e[t[0]]=t[1].toString(),e}),{});return{evt:t,bytes:b(JSON.stringify(t))}}function b(e){for(var t=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);127>=i?t+=1:2047>=i?t+=2:55296<=i&&57343>=i?(t+=4,n++):t=65535>i?t+3:t+4}return t}function k(e,t){t=T(t,!0,!1),e=S(A([e.evt]));try{p().toLowerCase()!==Mi.NONE&&(e=Ti.gzip(e,{level:6}),t.setRequestHeader("Content-Encoding",Mi.GZIP))}catch(e){}w()!==Si.SAMPLING_MODES.NONE&&t.send(e)}function C(e){try{if("undefined"!=typeof window&&void 0!==window.__CONVIVA_VISUAL_ACTIVATION_EXTENSION__&&"function"==typeof window.__CONVIVA_VISUAL_ACTIVATION_EXTENSION__.postMessage){var t=S(A(e));window.__CONVIVA_VISUAL_ACTIVATION_EXTENSION__.postMessage(t)}}catch(e){tt.warn("Error occured while sending message to Visual Labelling Extension",e)}}function E(t){for(void 0===t&&(t=!1);L.length&&"string"!=typeof L[0]&&"object"!==e(L[0]);)L.shift();if(1>L.length)O=!1;else{if(!B(I))throw"No collector configured";if(O=!0,window.clearTimeout(M),M=-1,U){var n=function(e){for(var t=0,n=0;t<e.length&&!((n+=e[t].bytes)>=m());)t+=1;return t},o=void 0,r=void 0;if("object"===e(L[0])){var a=T(o=I,!0,t);r=n(L)}else o=R(L[0]),a=T(o,!1,t),r=1;var l=setTimeout((function(){a.abort(),O=!1}),u);if(a.onreadystatechange=function(){4===a.readyState&&(clearTimeout(l),200<=a.status&&300>a.status?E():(tt.error("Status ".concat(a.status,", will not retry.")),O=!1))},"object"!==e(L[0]))a.send();else if(0<(n=L.slice(0,r)).length){if(t=!1,n=n.map((function(e){return e.evt})),P){var c=new Blob([S(A(n))],{type:"application/json"});try{t=navigator.sendBeacon(o,c)}catch(e){t=!1}}if(!0===t)E();else{o=S(A(n));try{p().toLowerCase()!==Mi.NONE&&(o=Ti.gzip(o,{level:6}),a.setRequestHeader("Content-Encoding",Mi.GZIP))}catch(e){}try{w()!==Si.SAMPLING_MODES.NONE&&a.send(o)}catch(e){}}}!function(e){for(var t=0;t<e;t++)L.shift();i&&W(q,JSON.stringify(L.slice(-1*s())))}(r)}else if(d||"object"===e(L[0]))O=!1;else{r=new Image(1,1);var f=!0;r.onload=function(){f&&(f=!1,L.shift(),i&&W(q,JSON.stringify(L.slice(-1*s()))),E())},r.onerror=function(){f&&(O=f=!1)},r.src=R(L[0]),setTimeout((function(){f&&O&&(f=!1,E())}),u)}}}function T(e,t,n){var i=new XMLHttpRequest;for(var o in t?(i.open("POST",e,!n),i.setRequestHeader("Content-Type","application/json; charset=UTF-8")):i.open("GET",e,!n),i.withCredentials=v,d&&i.setRequestHeader("SP-Anonymous","*"),f)Object.prototype.hasOwnProperty.call(f,o)&&i.setRequestHeader(o,f[o]);return i}function S(e){return JSON.stringify({sc:"sp/pd/1-0-4",dt:e})}function A(e){for(var t=(new Date).getTime().toString(),n=0;n<e.length;n++)e[n].stm=t;return e}function R(e){return c?I+e.replace("?","?stm="+(new Date).getTime()+"&"):I+e}null!==window&&void 0!==window&&window.addEventListener&&window.addEventListener("RemoteConfigUpdateApplied",(function(){E()}),{signal:Ni});var I,N,x,O=!1,L=[],M=-1,D=!0===(o="string"==typeof o?o.toLowerCase():o)||"beacon"===o||"true"===o,P=!(!(D&&window.navigator&&window.navigator.sendBeacon)||(N=window.navigator.userAgent,(x=(x=N).match(/\(iP.+; CPU .*OS (\d+)[_\d]*.*\) AppleWebKit\//))&&x.length&&parseInt(x[0])<=13||function(e,t,n){return!(!(n=n.match("(Macintosh;.*Mac OS X (\\d+)_(\\d+)[_\\d]*.*) AppleWebKit/"))||!n.length)&&(parseInt(n[2])<=e||parseInt(n[2])===e&&parseInt(n[3])<=t)}(10,15,N)&&function(e){var t;return(t=/^(?!.*Chrome)(?!.*Chromium)(?!.*Edg)(?!.*OPR)(?=.*Safari)/.test(e))&&(t=!/(Chrome|Chromium|Edg|OPR)/.test(e)),t}(N)))&&D,U=!(!window.XMLHttpRequest||!("withCredentials"in new XMLHttpRequest)),z="get"!==o&&U&&("post"===o||D),G=z?r:"/i";o="convivaOutQueue_".concat(t,"_").concat(z?"post2":"get");var q="convivaOutQueue_".concat(t,"_").concat(z?"post2":"get");if(Q(o),Q("".concat(o,".expires")),D&&(f={}),a=i&&function(){try{var e=!!window.localStorage}catch(t){e=!0}if(!e)return!1;try{var t=window.localStorage;return t.setItem("modernizr","modernizr"),t.removeItem("modernizr"),!0}catch(e){return!1}}()&&z&&a||1,i)try{var F=window.localStorage.getItem(q);L=F?JSON.parse(F):[]}catch(N){}return Array.isArray(L)||(L=[]),n.outQueues.push(L),U&&1<a&&n.bufferFlushers.push((function(e){O||E(e)})),{enqueueRequest:function(e,t,n){if(w()!=Si.SAMPLING_MODES.NONE){if(I=t+G,z){if(C([(e=y(e)).evt]),t=m(),e.bytes>=t)return O||E(),tt.warn("Event ("+e.bytes+"B) too big, max is "+t),void k(e,I);L.push(e)}else{var o,c="?",u={co:!0,cx:!0},d=!0;for(o in e)e.hasOwnProperty(o)&&!u.hasOwnProperty(o)&&(d?d=!1:c+="&",c+=encodeURIComponent(o)+"="+encodeURIComponent(e[o]));for(var f in u)e.hasOwnProperty(f)&&u.hasOwnProperty(f)&&(c+="&"+f+"="+encodeURIComponent(e[f]));if(0<(u=l())&&(d=b(d=R(c)))>=u)return tt.warn("Event ("+d+"B) too big, max is "+u),void(U&&(e=y(e),C([e.evt]),k(e,t+r)));L.push(c)}t=!1,i&&(t=W(q,JSON.stringify(L.slice(-1*s())))),!O&&-1===M&&t&&(M=window.setTimeout(E,_()+Math.floor(Math.random()*g))),!O&&(!t||!h()||z&&(z?L.reduce((function(e,t){return e+t.bytes}),0):L.reduce((function(e,t){return e+t.length}),0))>m()||L.length>a||n)&&E()}},executeQueue:function(){O||E()},setUseLocalStorage:function(e){i=e},setAnonymousTracking:function(e){d=e},setCollectorUrl:function(e){I=e+G},setBufferSize:function(e){a=e},setCustomHeaders:function(e){f=e}}}function Ae(e){try{null!=co&&co.isAllowedToSendEvent()&&Ie({message:e.message,filename:e.filename,lineno:e.lineno,colno:e.colno,error:e.error})}catch(e){console.warn("Conviva App Tracker caused Exception in captureError method of error tracking module",e)}}function Re(e){try{null!=co&&co.isAllowedToSendEvent()&&Ie({message:e.reason})}catch(e){console.warn("Conviva App Tracker caused Exception in captureRejection method of error tracking module",e)}}function Ie(e){var t,n,i=e.message,o=e.filename,r=e.lineno,a=e.colno,l=e.error,c=e.context;if(e=e.timestamp,l=l&&l.stack?l.stack:void 0,!(void 0===i||null===i&&void 0===l||null===l&&void 0===r||null===r&&void 0===a||null===a&&void 0===o||null===o)){var s=null===(t=null==lo?void 0:lo.core)||void 0===t?void 0:t.getConfig();null!=s&&s.exceptionAutotracking&&(null===(n=null==lo?void 0:lo.core)||void 0===n||n.track(A({event:{sc:"sp/ae/1-0-1",dt:{programmingLanguage:"JAVASCRIPT",message:i?To(i,2048):"JS Exception.",stackTrace:l?To(l,8192):"",lineNumber:r,lineColumn:a,fileName:o}}}),c,e))}}function Ne(t,n,i,a,l){void 0===l&&(l={});var c=[];t=function(t,n,i,a,l){function d(){(st=ce(window.location.hostname,window.location.href,V()))[1]!==dt&&(ft=V(dt)),ut=j(st[0]),dt=st[1]}function f(e){try{var t=(new Date).getTime(),n=e.currentTarget;if(null!=n&&n.href){e="_cnv="+nt+"."+t;var i=n.href.split("#"),o=i[0].split("?"),r=o.shift(),a=o.join("?");if(a){o=!0;var l=a.split("&");for(t=0;t<l.length;t++)if("_cnv="===l[t].substr(0,5)){o=!1,l[t]=e,a=l.join("&");break}o&&(a=e+"&"+a)}else a=e;i[0]=r+"?"+a;var c=i.join("#");n.href=c}}catch(e){console.warn("Conviva App Tracker:: Error in linkDecorationHandler of decorateLinks ".concat(e))}}function v(e){if("undefined"!=typeof document&&document.links&&0<document.links.length)for(var t=0;t<document.links.length;t++){var n=document.links[t];!n.spDecorationEnabled&&e(n)&&(Z(n,"click",f,!0),Z(n,"mousedown",f,!0),n.spDecorationEnabled=!0)}}function g(e){if(Fe){var t=/#.*/;e=e.replace(t,"")}return He&&(t=/[{}]/g,e=e.replace(t,"")),e}function p(e){return(e=/^([a-z]+):/.exec(e))?e[1]:null}function h(e){if(e=Ct+e+"."+et,"localStorage"==Dt){try{var t=window.localStorage,n=t.getItem(e+".expires");if(null===n||+n>Date.now())var i=t.getItem(e);else t.removeItem(e),t.removeItem(e+".expires"),i=void 0}catch(e){i=void 0}return i}if("cookie"==Dt||"cookieAndLocalStorage"==Dt)return Y(e)}function m(){d(),et=at((Et||ut)+(Tt||"/")).slice(0,4)}function _(){Ke=(new Date).getTime()}function w(){var e=y(),t=e[0];t<We?We=t:t>Je&&(Je=t),(e=e[1])<Xe?Xe=e:e>Ye&&(Ye=e),_()}function y(){var e="undefined"!=typeof document?null===document||void 0===document?void 0:document.documentElement:void 0;return e?[e.scrollLeft||window.pageXOffset,e.scrollTop||window.pageYOffset]:[0,0]}function b(){var e=y(),t=e[0];Je=We=t,Ye=Xe=e=e[1]}function k(){E(Ct+"ses."+et,"*",xt)}function C(e){var t=Ct+"id."+et;e.shift(),E(t,e=e.join("."),Nt)}function E(e,t,n){Mt&&!Ot||("localStorage"==Dt?W(e,t,n):("cookie"==Dt||"cookieAndLocalStorage"==Dt)&&Y(e,t,n,Tt,Et,St,At))}function T(e){var t=Ct+"id."+et,n=Ct+"ses."+et;J(t),J(n),X(t,Et,St,At),X(n,Et,St,At),null!=e&&e.preserveSession||(it=Qe.v4(),zt=1),null!=e&&e.preserveUser||(nt=Qe.v4(),ot=null)}function N(e){e&&e.stateStorageStrategy&&(l.stateStorageStrategy=e.stateStorageStrategy,Dt=Pe(l)),Mt=!!l.anonymousTracking,Ot=Ue(l),Lt=ze(l),Gt.setUseLocalStorage("localStorage"==Dt||"cookieAndLocalStorage"==Dt),Gt.setAnonymousTracking(Lt)}function x(){var e;try{var t=null;if(null!==(e=null==l?void 0:l.configs)&&void 0!==e&&e.enableClIdInCookies){e="Conviva_sdkConfig";try{var n=Y(e),i=n&&0<n.length?n:window.localStorage.getItem(e)}catch(e){tt.warn("getConvivaCookie",e),i=null}i&&(t=i)}else try{X("Conviva_sdkConfig",P(),"None",!0)}catch(e){}t||(t=window.localStorage.getItem("Conviva.sdkConfig"));var o=JSON.parse(t||"{}");"{}"===o||void 0===o?Ve=U():(Ve=o.clId||U(),2147483648<=Pt?Pt=-1:Pt++);try{Ze=Math.floor(2147483647*Math.random())}catch(e){console.warn(e),Ze=-1}var r=De(De({},o),{clId:Ve,iid:Ze});e:{var a;try{t=null;try{t=JSON.stringify(r)}catch(e){break e}if(window.localStorage.setItem("Conviva.sdkConfig",t),null!==(a=null==l?void 0:l.configs)&&void 0!==a&&a.enableClIdInCookies){r=t;try{var c=P();Y("Conviva_sdkConfig",r,void 0,"/",c,"None",!0)}catch(e){tt.warn("setConvivaCookie",e)}}}catch(e){}}}catch(e){tt.warn("getEventIndexByClid",e)}Mt&&!Ot||(c="none"!=Dt&&!!h("ses"),(r=O())[1]?a=r[1]:(a=Mt?"":Qe.v4(),r[1]=a),nt=a,it=c?r[6]:se(r),zt=r[3],"none"!=Dt&&(k(),ue(r),C(r)))}function O(){return"none"==Dt?["1","",0,0,0,void 0,"","","",void 0]:function(e,t,n,i){var o=Math.round((new Date).getTime()/1e3);e?(e=e.split(".")).unshift("0"):e=["1",t,o,i,o,"",n],e[6]&&"undefined"!==e[6]||(e[6]=Qe.v4()),e[7]&&"undefined"!==e[7]||(e[7]=""),e[8]&&"undefined"!==e[8]||(e[8]=""),e[9]&&"undefined"!==e[9]||(e[9]=""),e[10]&&"undefined"!==e[10]||(e[10]=-1);var r=function(e,t){return e=parseInt(e),isNaN(e)?t:e};return t=function(e){return e?r(e,void 0):void 0},[e[0],e[1],r(e[2],o),r(e[3],i),r(e[4],o),t(e[5]),e[6],e[7],e[8],t(e[9])]}(h("id")||void 0,nt,it,zt)}function L(e,t){var n,i,o,r,a=!0,c=ct.getConfig();return void 0!==c.mend?a=c.mend:void 0!==(null===(i=null===(n=null==l?void 0:l.configs)||void 0===n?void 0:n.network)||void 0===i?void 0:i.mergeEndpoint)&&(a=null===(r=null===(o=null==l?void 0:l.configs)||void 0===o?void 0:o.network)||void 0===r?void 0:r.mergeEndpoint),0===e.indexOf("http")?(t&&a&&(e=e.replace(/^(https?:\/\/)(.*)$/,"$1"+t+".$2")),e):t&&a?("https:"===document.location.protocol?"https":"http")+"://"+t+"."+e:("https:"===document.location.protocol?"https":"http")+"://"+e}function M(){Bt&&null!=a.pageViewId||(a.pageViewId=Qe.v4())}function D(){return null==a.pageViewId&&(a.pageViewId=Qe.v4()),a.pageViewId}function P(){var e=window.location.hostname,t=e.split(".");return 2<=t.length?"."+t.slice(-2).join("."):e}function U(){try{return G({"First Launch":"Yes"}),Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()}catch(e){console.warn(e)}}function z(t){try{return"object"===e(JSON.parse(t))}catch(e){return!1}}function G(t){try{var n=Object.keys(t);z(JSON.stringify(t))?n.forEach((function(n){if(""!==n.trim()){var i=t[n];i&&""!==i&&(i="object"===e(i)?JSON.stringify(i):""+i,Object.defineProperty(wt,n,{value:i,writable:!0,enumerable:!0,configurable:!0}))}})):console.warn("Conviva AppTracker:: Invalid JSON Format")}catch(e){console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",e)}}function B(e){try{e.forEach((function(e){delete wt[e]}))}catch(e){console.warn("Conviva AppTracker:: Failed to unset Custom tag(s). Check format of keys set.")}}function Q(e){var t=e.title,n=e.context,i=e.timestamp;if(e=e.contextCallback,d(),qt&&M(),qt=!0,bt=document.title,t=F((qe=t)||bt),lt()!==Si.SAMPLING_MODES.NONE&&(ae(),ct.track(function(e){var t=e.pageUrl,n=e.pageTitle;e=e.referrer;var i=r();return i.add("e","pv"),i.add("url",t),i.add("page",n),i.add("refr",e),i}({pageUrl:g(Be||dt),pageTitle:t,referrer:g(Ge||ft)}),(n||[]).concat(e?e():[]),i)),i=new Date,t=!1,Ft.enabled&&!Ft.installed){t=Ft.installed=!0;var o={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0},set:function(){}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),o.hasSupport=e}}};o.update();var a="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";Object.prototype.hasOwnProperty.call(o,"hasSupport")?Z(document,a,_,{passive:!0}):Z(document,a,_),b(),a=function(e,t){return void 0===t&&(t=_),function(e){return Z(document,e,t)}},"click mouseup mousedown mousemove keypress keydown keyup".split(" ").forEach(a(document)),["resize","focus","blur"].forEach(a(window)),a(window,w)("scroll")}if(Ft.enabled&&(kt||t))for(i in Ke=i.getTime(),i=void 0,Ft.configurations)(t=Ft.configurations[i])&&(window.clearInterval(t.activityInterval),ie(t,n,e))}function te(){var e,t,n,i,r,a,c,u,d,f,v,g,p,h,m,_,w,y,b,k,C,E,T,S,A,R,I,N,x,O,L,M;try{var D=null===(e=null==s?void 0:s.core)||void 0===e?void 0:e.getConfig();e=void 0,yt={};var P=so.MERGE;switch(void 0!==(null===(n=null===(t=null==l?void 0:l.configs)||void 0===t?void 0:t.metaTagsTracking)||void 0===n?void 0:n.preference)?P=null===(r=null===(i=null==l?void 0:l.configs)||void 0===i?void 0:i.metaTagsTracking)||void 0===r?void 0:r.preference:!0===(null===(c=null===(a=null==l?void 0:l.configs)||void 0===a?void 0:a.metaTagsTracking)||void 0===c?void 0:c.force)?P=so.APP:void 0!==(null===(u=null==D?void 0:D.metaTagsTrackingConfiguration)||void 0===u?void 0:u.pref)&&(P=null===(d=null==D?void 0:D.metaTagsTrackingConfiguration)||void 0===d?void 0:d.pref),P){case so.APP:if(!1===(null===(v=null===(f=null==l?void 0:l.configs)||void 0===f?void 0:f.metaTagsTracking)||void 0===v?void 0:v.enabled))return;0<(null===(h=null===(p=null===(g=null==l?void 0:l.configs)||void 0===g?void 0:g.metaTagsTracking)||void 0===p?void 0:p.tags)||void 0===h?void 0:h.length)&&(e=o([],null===(_=null===(m=null==l?void 0:l.configs)||void 0===m?void 0:m.metaTagsTracking)||void 0===_?void 0:_.tags,!0));break;case so.REMOTE:if(!1===(null===(w=null==D?void 0:D.metaTagsTrackingConfiguration)||void 0===w?void 0:w.enabled))return;void 0!==(null==D?void 0:D.metaTagsTrackingConfiguration)&&0<(null===(b=null===(y=null==D?void 0:D.metaTagsTrackingConfiguration)||void 0===y?void 0:y.tags)||void 0===b?void 0:b.length)&&(e=o([],null===(k=null==D?void 0:D.metaTagsTrackingConfiguration)||void 0===k?void 0:k.tags,!0));break;default:if(void 0===(null==D?void 0:D.metaTagsTrackingConfiguration)&&!1===(null===(E=null===(C=null==l?void 0:l.configs)||void 0===C?void 0:C.metaTagsTracking)||void 0===E?void 0:E.enabled)||void 0===(null===(T=null==l?void 0:l.configs)||void 0===T?void 0:T.metaTagsTracking)&&!1===(null===(S=null==D?void 0:D.metaTagsTrackingConfiguration)||void 0===S?void 0:S.enabled))return;var U=null===(R=null===(A=null==l?void 0:l.configs)||void 0===A?void 0:A.metaTagsTracking)||void 0===R?void 0:R.tags,z=null===(I=null==D?void 0:D.metaTagsTrackingConfiguration)||void 0===I?void 0:I.tags;!1===(null===(x=null===(N=null==l?void 0:l.configs)||void 0===N?void 0:N.metaTagsTracking)||void 0===x?void 0:x.enabled)&&(U=[]),!1===(null===(O=null==D?void 0:D.metaTagsTrackingConfiguration)||void 0===O?void 0:O.enabled)&&(z=[]),e=o([],function(e,t){return o(o([],e,!0),t,!0).reduce((function(e,t){var n=e.find((function(e){return e.key===t.key}));return n?t.condition&&(n.condition=o(o([],n.condition||[],!0),t.condition,!0)):e.push(De({},t)),e}),[])}(U||[],z||[]),!0)}if(void 0!==e&&0<(null==e?void 0:e.length)){t={};var G=null===document||void 0===document?void 0:document.head,B=null==G?void 0:G.getElementsByTagName("meta");if(void 0!==B&&0<(null==B?void 0:B.length))for(G=0;G<B.length;G++){var q=B[G];for(n=0;n<e.length;n++){var F=q.getAttribute(e[n].key),H=q.getAttribute(e[n].value);i=void 0,null!==(L=e[n])&&void 0!==L&&L.condition&&(i=null===(M=e[n])||void 0===M?void 0:M.condition),F&&(i&&i.includes(F)?t[F]=H:i&&0!==i.length||(t[F]=H))}}s.setMetaCustomTags(t)}}catch(e){console.warn("Conviva App Tracker:: setPageMetaTagsAsCustomTags",e)}}function ie(e,t,n){var i=function(t,n){var i;d();var r=null===(i=null==s?void 0:s.core)||void 0===i?void 0:i.getConfig();r.enablePeriodicHeartbeat?(null!=r.periodicHeartbeatInterval&&((i=1e3*r.periodicHeartbeatInterval)!=e.configHeartBeatTimer&&(e.configHeartBeatTimer=i,window.clearInterval(e.activityInterval),e.activityInterval=window.setInterval(o,i))),t({context:n,pageViewId:D(),minXOffset:We,minYOffset:Xe,maxXOffset:Je,maxYOffset:Ye})):window.clearInterval(e.activityInterval),b()};window.setTimeout((function(){i(e.callback,(t||[]).concat(n?n():[]))}),2e3);var o=function(){var o=new Date;(!1===(null===document||void 0===document?void 0:document.hidden)||"visible"==(null===document||void 0===document?void 0:document.visibilityState)||null!==document&&void 0!==document&&document.pictureInPictureElement||Ke+e.configHeartBeatTimer>o.getTime()||!0===Ht)&&i(e.callback,(t||[]).concat(n?n():[]))};e.activityInterval=window.setInterval(o,e.configHeartBeatTimer)}function oe(e){var t=e.minimumVisitLength,n=e.heartbeatDelay;if(e=e.callback,q(t)&&q(n))return{configMinimumVisitLength:1e3*t,configHeartBeatTimer:1e3*n,callback:e};tt.error("Activity tracking minimumVisitLength & heartbeatDelay must be integers")}function re(e){var t=e.context,n=e.minXOffset,i=e.minYOffset,o=e.maxXOffset,a=e.maxYOffset;if((e=document.title)!==bt&&(bt=e,qe=void 0),lt()!==Si.SAMPLING_MODES.NONE){ae();var l=(e=ct).track,c=g(Be||dt),s=F(qe||bt),u=g(Ge||ft);n=Math.round(n),o=Math.round(o),i=Math.round(i),a=Math.round(a);var d=r();d.add("e","pp"),d.add("url",c),d.add("page",s),d.add("refr",u),n&&!isNaN(Number(n))&&d.add("pp_mix",n.toString()),o&&!isNaN(Number(o))&&d.add("pp_max",o.toString()),i&&!isNaN(Number(i))&&d.add("pp_miy",i.toString()),a&&!isNaN(Number(a))&&d.add("pp_may",a.toString()),l.call(e,d,t)}}function ae(){var t,n,i=null===(n=null==s?void 0:s.core)||void 0===n?void 0:n.getConfig().pageUrlTrackingConfig;if(n=wt[Si.PAGE_URL_QUERY_PARAMS],i){var o={targetUrl:g(Be||dt),rqq:{}};o=ne(o,null==i?void 0:i.collectattr,null,null==i?void 0:i.maxQueryLength),(!n&&o.rqq||n!==JSON.stringify(o.rqq))&&(B([Si.PAGE_URL_QUERY_PARAMS]),function(t){try{var n=Object.keys(t);z(JSON.stringify(t))?n.forEach((function(n){if(""!==n.trim()){var i=t[n];i&&""!==i&&("object"!==e(i)&&(i=""+i),Object.defineProperty(wt,n,{value:i,writable:!0,enumerable:!0,configurable:!0}))}})):console.warn("Conviva AppTracker:: Invalid JSON Format")}catch(e){console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",e)}}(((t={})[Si.PAGE_URL_QUERY_PARAMS]=o.rqq,t)))}else n&&B([Si.PAGE_URL_QUERY_PARAMS])}var le,fe,ve,ge,pe,he,me,_e,we,ye,be,ke,Ce,Te,Se,Ne;if(window&&window.localStorage){var xe=window.localStorage,Oe={sensorVersion:i,ck:null!==(le=l.convivaCustomerKey)&&void 0!==le?le:""};Oe=JSON.stringify(Oe),Oe="function"==typeof btoa?btoa(Oe):function(e){e=unescape(encodeURIComponent(e));for(var t="",n=0;n<e.length;){var i=e.charCodeAt(n++),o=e.charCodeAt(n++),r=e.charCodeAt(n++),a=i>>2;i=(3&i)<<4|o>>4,o=isNaN(o)?64:(15&o)<<2|r>>6,r=isNaN(r)?64:63&r,t+=$e.charAt(a)+$e.charAt(i)+$e.charAt(o)+$e.charAt(r)}return t}(Oe),xe.setItem(Si.VISUAL_LABELLING_CONFIG,Oe)}var Le=Ai;Le&&Ni||("function"==typeof AbortController&&(Ai=new AbortController),Ni=null==Ai?void 0:Ai.signal),n||(n="CAT");var Me=mo(i,n,l).convivaRemoteTrackerConfig;null===(fe=de(Me.performanceContextConfig))||void 0===fe||fe.activateLCPObserver(),l.eventMethod=null!==(ve=l.eventMethod)&&void 0!==ve?ve:"post";var Pe=function(e){var t;return null!==(t=e.stateStorageStrategy)&&void 0!==t?t:"cookieAndLocalStorage"},Ue=function(e){var t,n;return"boolean"!=typeof e.anonymousTracking&&(null!==(n=!0===(null===(t=e.anonymousTracking)||void 0===t?void 0:t.withSessionTracking))&&void 0!==n&&n)},ze=function(e){var t,n;return"boolean"!=typeof e.anonymousTracking&&(null!==(n=!0===(null===(t=e.anonymousTracking)||void 0===t?void 0:t.withServerAnonymisation))&&void 0!==n&&n)};c.push({beforeTrack:function(e){var t=h("ses"),n=O();rt=!!je&&!!Y(je),It||rt?T():("0"===n[0]?(it=t||"none"==Dt?n[6]:se(n),zt=n[3]):(new Date).getTime()-Ut>1e3*xt&&(zt++,it=se(n,zt)),ue(n),e.add("uid",Mt?null:ot),d(),e.add("refr",g(Ge||ft)),document&&(bt=document.title,t=F(qe||bt),e.add("page",t)),e.add("url",g(Be||dt)),"none"!=Dt&&(C(n),k()),Ut=(new Date).getTime())}}),c.push({contexts:function(){return[{sc:"cv/clid/1-0-2",dt:{clid:Ve,iid:Ze.toString(),ck:mt,eventIndex:Pt++}}]}}),c.push({contexts:function(){return[{sc:"cv/ct/1-0-0",dt:{data:De(De({},wt),yt)}}]}}),c.push({contexts:function(){var e,t=null===(e=null==s?void 0:s.core)||void 0===e?void 0:e.getConfig();return!0===(null==t?void 0:t.applicationContext)?[{sc:"spm/app/1-0-0",dt:{build:_t,version:_t}}]:[]}}),c.push({contexts:function(){var e={sch:"sdk.js.eco.1"};e.cat=Ri.DeviceCategory.WEB;try{var t=null==l?void 0:l.deviceMetadata;if(t){var n=t.DeviceBrand,i=t.DeviceCategory,o=t.DeviceManufacturer,r=t.DeviceModel,a=t.DeviceType,c=t.DeviceVersion,s=t.OperatingSystemName,u=t.OperatingSystemVersion,d=t.FrameworkName,f=t.FrameworkVersion;"string"==typeof i&&Object.values(Ri.DeviceCategory).includes(i)?e.cat=i:e.cat="INVALID"+(i?": ".concat(i):""),"string"==typeof n&&""!=n&&(e.dvb=n),"string"==typeof o&&""!=o&&(e.dvma=o),"string"==typeof r&&""!=r&&(e.dvm=r),a&&Object.values(Ri.DeviceType).includes(a)&&(e.dvt=a),"string"==typeof c&&""!=c&&(e.dvv=c),"string"==typeof s&&""!=s&&(e.os=s),"string"==typeof u&&""!=u&&(e.osv=u),"string"==typeof d&&""!=d&&(e.fw=d),"string"==typeof f&&""!=f&&(e.fwv=f)}}catch(e){tt.warn("error in setting platform metadata context",e)}return null!=e&&0<Object.keys(e).length?[{sc:"iglu:com.conviva/pm/jsonschema/1-0-2",dt:e}]:[]}});try{(null!==(ge=null==l?void 0:l.plugins)&&void 0!==ge?ge:[]).forEach((function(e){e.contexts||c.push(e)}))}catch(e){console.warn("ConvivaAppTracker : issue while processing customer passed pligins",e)}var Ge,Be,qe,Fe,He,je,Ve,Ze,Ke,We,Je,Xe,Ye,et,nt,it,ot,rt,lt=function(){var e;try{var t=null===(e=null==s?void 0:s.core)||void 0===e?void 0:e.getConfig();return t?void 0===t.catRcLastUpdatedTs||0===t.catRcLastUpdatedTs?Si.SAMPLING_MODES.RCFG:t.controlIngestConfig?function(e){try{if(void 0===e.sel)return $(),Si.SAMPLING_MODES.RCFG;var t=e.sel.pct;if("number"==typeof t&&100>t&&0<t&&0==t%1){if("undefined"!=typeof window&&void 0!==window.localStorage){var n=localStorage.getItem(Si.SAMPLING_STORAGE_RANDOM_NUMBER_KEY);if(null!=n)return parseFloat(n)<=t?ee(e,Si.SAMPLING_ACTION.SAMPLED):ee(e,Si.SAMPLING_ACTION.NON_SAMPLED);var i=100*Math.random();return localStorage.setItem(Si.SAMPLING_STORAGE_RANDOM_NUMBER_KEY,i.toString()),ee(e,i<t?Si.SAMPLING_ACTION.SAMPLED:Si.SAMPLING_ACTION.NON_SAMPLED)}return Si.SAMPLING_MODES.NONE}return"number"==typeof t&&0===t?($(),Si.SAMPLING_MODES.NONE):($(),Si.SAMPLING_MODES.RCFG)}catch(e){}return Si.SAMPLING_MODES.RCFG}(null==t?void 0:t.controlIngestConfig):Si.SAMPLING_MODES.RCFG:Si.SAMPLING_MODES.RCFG}catch(e){return tt.error("Error while getting sampling mode"),Si.SAMPLING_MODES.RCFG}},ct=Ui=S({base64:null==Me?void 0:Me.base64,corePlugins:c,callback:function(t){It||rt||Gt.enqueueRequest(t.build(),gt,function(t){var n,i,o,r=null!==(o=null===(i=null===(n=ct.getConfig().emitterConfiguration)||void 0===n?void 0:n.batching)||void 0===i?void 0:i.urgentEvents)&&void 0!==o?o:[],a=n="",l="",c="";return"string"==typeof(i=t.getPayload()).e&&(c=i.e),("ue"===c||"pv"===c||"pp"===c)&&(void 0!==(t=t.getJson().find((function(e){return"ue_pr"===e.keyIfNotEncoded||"ue_px"===e.keyIfEncoded})))&&("object"===e((t=t.json).dt)&&null!==t.dt&&("string"==typeof(t=t.dt).sc&&(n=t.sc),"object"===e(t.dt)&&"string"==typeof t.dt.name&&(a=t.dt.name)),l=n.split("/")[1]||""),r.some((function(e){return""!==(e=e.toLowerCase())&&(e===c.toLowerCase()||e===l.toLowerCase()||e===a.toLowerCase())})))}(t))},exceptionAutotracking:Me.exceptionAutotracking,enablePeriodicHeartbeat:Me.enablePeriodicHeartbeat,periodicHeartbeatInterval:Me.periodicHeartbeatInterval,enc:Me.enc,mend:Me.mend,maxLocalStorageQueueSize:Me.maxLocalStorageQueueSize,maxGetBytes:Me.maxGetBytes,bufferSize:Me.bufferSize,customEventTrackingConfiguration:Me.customEventTrackingConfiguration,networkRequestTrackingConfiguration:Me.networkRequestTrackingConfiguration,metaTagsTrackingConfiguration:Me.metaTagsTrackingConfiguration,traceparentconfig:Me.traceparentconfig,performanceContextConfig:Me.performanceContextConfig,lifecycleAutotracking:Me.lifecycleAutotracking,configurationVersion:Me.configurationVersion,catRcLastUpdatedTs:Me.catRcLastUpdatedTs,cacheRefreshInterval:Me.cacheRefreshInterval,endpoint:Me.endpoint,controlIngestConfig:Me.controlIngestConfig,applicationContext:Me.applicationContext,emitterConfiguration:Me.emitterConfiguration,di:Me.di,clickcc:Me.clickcc,collectionRateLimit:Me.collectionRateLimit,pageUrlTrackingConfig:Me.pageUrlTrackingConfig,evtStreamTrackingConfiguration:Me.evtStreamTrackingConfiguration}),st=ce(window.location.hostname,window.location.href,V()),ut=j(st[0]),dt=st[1],ft=st[2],vt=null!==(pe=l.platform)&&void 0!==pe?pe:"web",gt=L(Me.endpoint,l.convivaCustomerKey),pt=null!==(he=l.postPath)&&void 0!==he?he:"/ctp",ht=null!==(me=l.appId)&&void 0!==me?me:"",mt=null!==(_e=l.convivaCustomerKey)&&void 0!==_e?_e:"",_t=null!==(we=l.appVersion)&&void 0!==we?we:"",wt={},yt={},bt="undefined"!=typeof document?document.title:void 0,kt=null===(ye=l.resetActivityTrackingOnPageView)||void 0===ye||ye,Ct=null!==(be=l.cookieName)&&void 0!==be?be:"_cnv_",Et=null!==(ke=l.cookieDomain)&&void 0!==ke?ke:void 0,Tt="/",St=null!==(Ce=l.cookieSameSite)&&void 0!==Ce?Ce:"None",At=null===(Te=l.cookieSecure)||void 0===Te||Te,Rt=navigator.doNotTrack||navigator.msDoNotTrack||window.doNotTrack,It=void 0!==l.respectDoNotTrack&&(l.respectDoNotTrack&&("yes"===Rt||"1"===Rt)),Nt=null!==(Se=l.cookieLifetime)&&void 0!==Se?Se:63072e3,xt=null!==(Ne=l.sessionCookieTimeout)&&void 0!==Ne?Ne:1800,Ot=Ue(l),Lt=ze(l),Mt=!!l.anonymousTracking,Dt=Pe(l),Pt=-1,Ut=(new Date).getTime(),zt=1,Gt=Co(t,a,Dt,l,pt,Lt,5e3,lt),Bt=!1,qt=!1,Ft={enabled:!0,installed:!1,configurations:{pagePing:{configMinimumVisitLength:5e3,configHeartBeatTimer:1e3*Me.periodicHeartbeatInterval,callback:re}}},Ht=!1;l.hasOwnProperty("discoverRootDomain")&&l.discoverRootDomain&&(Et=function(e,t){for(var n=window.location.hostname,i="_cnv_root_domain_test_"+(new Date).getTime(),o="_test_value_"+(new Date).getTime(),r=n.split("."),a=r.length-1;0<=a;){var l=r.slice(a,r.length).join(".");if(Y(i,o,0,"/",l,e,t),Y(i)===o){for(X(i,l,e,t),n=document.cookie.split("; "),i=[],o=0;o<n.length;o++)"_cnv_root_domain_test_"===n[o].substring(0,22)&&i.push(n[o]);for(n=i,i=0;i<n.length;i++)X(n[i],l,e,t);return l}--a}return n}(St,At)),ct.setTrackerVersion(i),ct.setAppId(ht),ct.setPlatform(vt),m(),x(),Gt.setCustomHeaders({"x-client-id":""+Ve}),l.crossDomainLinker&&v(l.crossDomainLinker);var jt={getDomainSessionIndex:function(){return zt},getPageViewId:function(){return D()},newSession:function(){var e=O();"0"===e[0]?(it="none"!=Dt?se(e):e[6],zt=e[3],k()):(zt++,it=se(e,zt)),ue(e),"none"!=Dt&&(C(e),k()),Ut=(new Date).getTime()},getCookieName:function(e){return Ct+e+"."+et},getUserId:function(){return ot},getDomainUserId:function(){var e=O();return e&&1<e.length?e[1]:null},getDomainUserInfo:function(){return O()},setReferrerUrl:function(e){Ge=e},setCustomUrl:function(e){d();var t,n=dt;p(e)?Be=e:"/"===e.slice(0,1)?Be=p(n)+"://"+H(n)+e:(0<=(t=(n=g(n)).indexOf("?"))&&(n=n.slice(0,t)),(t=n.lastIndexOf("/"))!==n.length-1&&(n=n.slice(0,t+1)),Be=n+e)},setDocumentTitle:function(e){bt=document.title,qe=e},discardHashTag:function(e){Fe=e},discardBrace:function(e){He=e},setCookiePath:function(e){Tt=e,m()},setVisitorCookieTimeout:function(e){Nt=e},crossDomainLinker:function(e){v(e)},enableActivityTracking:function(e){Ft.configurations.pagePing||(Ft.enabled=!0,Ft.configurations.pagePing=oe(De(De({},e),{callback:re})))},enableActivityTrackingCallback:function(e){Ft.configurations.callback||(Ft.enabled=!0,Ft.configurations.callback=oe(e))},updatePageActivity:function(){_()},setOptOutCookie:function(e){je=e},setUserId:function(e){ot=e},setUserIdFromLocation:function(e){d(),ot=K(e,dt)},setUserIdFromReferrer:function(e){d(),ot=K(e,ft)},setUserIdFromCookie:function(e){ot=Y(e)},setCollectorUrl:function(e,t){gt=L(e,t),Gt.setCollectorUrl(gt)},setBufferSize:function(e){Gt.setBufferSize(e)},flushBuffer:function(e){void 0===e&&(e={}),Gt.executeQueue(),e.newBufferSize&&Gt.setBufferSize(e.newBufferSize)},trackPageView:function(e){var t;void 0===e&&(e={}),te();var n=null===(t=null==s?void 0:s.core)||void 0===t?void 0:t.getConfig();try{e=De(De({},e),{context:de(null==n?void 0:n.performanceContextConfig).contexts()})}catch(e){console.warn("Conviva App Tracker:: error adding performacetiming context to page view",e)}Q(e)},trackVideoEvent:function(e){var t,n,i,o,r;void 0===e&&(e={});try{var a=null===(t=null==s?void 0:s.core)||void 0===t?void 0:t.getConfig();if(null!==(i=null===(n=null==a?void 0:a.customEventTrackingConfiguration)||void 0===n?void 0:n.enabled)&&void 0!==i?i:Di.customEventTrackingConfiguration.enabled){""!=e.name&&null!=e.name||console.warn("Conviva App Tracker:: Video event could not be tracked due to missing name property!!");var l=null===(o=null==a?void 0:a.customEventTrackingConfiguration)||void 0===o?void 0:o.blocklist;null!=l&&l.includes("*")||null!=l&&l.some((function(t){return 0<(null==t?void 0:t.length)&&e.name.toLowerCase().includes(t.toLowerCase())}))||null===(r=null==s?void 0:s.core)||void 0===r||r.track(function(e){return A({event:{sc:"cv/ve/1-0-5",dt:I({name:e.name,sid:e.sid,iid:e.iid,clid:e.clid,st:e.st,sst:e.sst,an:e.an,cl:e.cl,lv:e.lv,pn:e.pn,vid:e.vid,fw:e.fw,fwv:e.fwv,mn:e.mn,mv:e.mv,url:e.url,tags:e.tags,cen:e.cen,ced:e.ced,oldsc:e.oldsc,newsc:e.newsc,err:e.err,br:e.br,ft:e.ft,avgbr:e.avgbr})}})}({name:e.name,sid:e.sid,iid:e.iid,clid:e.clid,st:e.st,sst:e.sst,an:e.an,cl:e.cl,lv:e.lv,pn:e.pn,vid:e.vid,fw:e.fw,fwv:e.fwv,mn:e.mn,mv:e.mv,url:e.url,tags:e.tags,cen:e.cen,ced:e.ced,oldsc:e.old,newsc:e.new,err:e.err,br:e.br,ft:e.ft,avgbr:e.avgbr}),e.context,e.timestamp)}}catch(e){console.warn("Conviva App Tracker:: Video event could not be tracked due to an exception!!",e)}},trackCustomEvent:function(e){var t,n,i,o,r;void 0===e&&(e={});try{if(lt()!==Si.SAMPLING_MODES.NONE){var a=null===(t=null==s?void 0:s.core)||void 0===t?void 0:t.getConfig();if(null!==(i=null===(n=null==a?void 0:a.customEventTrackingConfiguration)||void 0===n?void 0:n.enabled)&&void 0!==i?i:Di.customEventTrackingConfiguration.enabled)if(!e.name||"string"==typeof e.name&&""==e.name.trim())console.warn("Conviva App Tracker:: custom event name is mandatory for trackCustomEvent API!!");else{var l=e.data;try{"string"!=typeof e.data&&(l=JSON.stringify(e.data))}catch(e){}var c=null===(o=null==a?void 0:a.customEventTrackingConfiguration)||void 0===o?void 0:o.blocklist;null!=c&&c.includes("*")||null!=c&&c.some((function(t){return 0<(null==t?void 0:t.length)&&e.name.toLowerCase().includes(t.toLowerCase())}))||null===(r=null==s?void 0:s.core)||void 0===r||r.track(R({name:e.name,data:l}),e.context,e.timestamp)}}}catch(e){console.warn("Conviva App Tracker:: Unable to track custom event! "+e)}},trackSSEEvent:function(e){var t;void 0===e&&(e={});try{lt()!==Si.SAMPLING_MODES.NONE&&(null===(t=null==s?void 0:s.core)||void 0===t||t.track(R(e),e.context,e.timestamp))}catch(e){}},trackNetworkRequest:function(e){var t,n,i,o,r,a,l,c,u,d,f,v;void 0===e&&(e={});try{var g=null===(i=null==s?void 0:s.core)||void 0===i?void 0:i.getConfig().networkRequestTrackingConfiguration,p=e.responseDetails.responseTime-e.requestDetails.requestTime;try{p=parseFloat(p.toFixed(3))}catch(e){console.warn("Conviva App Tracker:: exception while converting duration to 3 decimal",e)}try{var h=ne(((t={targetUrl:null===(o=null==e?void 0:e.requestDetails)||void 0===o?void 0:o.url,method:null===(r=null==e?void 0:e.requestDetails)||void 0===r?void 0:r.method,responseStatusCode:null!==(a=null==e?void 0:e.responseDetails)&&void 0!==a&&a.status?e.responseDetails.status:0,responseStatusText:null!==(l=null==e?void 0:e.responseDetails)&&void 0!==l&&l.statusText?e.responseDetails.statusText:"ok"})[Ii.request_headers]=null===(c=null==e?void 0:e.requestDetails)||void 0===c?void 0:c.headers,t[Ii.response_headers]=null===(u=null==e?void 0:e.responseDetails)||void 0===u?void 0:u.headers,t.duration=p,t),null==g?void 0:g.collectattr,e,null==g?void 0:g.maxQueryLength);if(null!==(d=null==e?void 0:e.requestDetails)&&void 0!==d&&d[Si.TRACEPARENT_HEADER_KEY]){var m=((n={})[Si.TRACEPARENT_HEADER_KEY]=null===(f=null==e?void 0:e.requestDetails)||void 0===f?void 0:f[Si.TRACEPARENT_HEADER_KEY],n);h[Ii.request_headers]=h[Ii.request_headers]?De(De({},h[Ii.request_headers]),m):m}if(null===(v=null==s?void 0:s.core)||void 0===v);else{var _=v.track,w=A({event:{sc:"cv/nr/1-0-5",dt:I({targetUrl:h.targetUrl,method:h.method,queryParameters:h.queryParameters,responseStatusCode:h.responseStatusCode,responseStatusText:h.responseStatusText,rqh:h.rqh,rsh:h.rsh,rqb:h.rqb,rsb:h.rsb,rqq:h.rqq,requestSize:h.requestSize,responseSize:h.responseSize,duration:h.duration,contentType:h.contentType,requestTimestamp:h.requestTimestamp,responseTimestamp:h.responseTimestamp})}});_.call(v,w,e.context,e.timestamp)}}catch(e){console.warn("Conviva App Tracker:: Network request could not be tracked due to an exception!!",e)}}catch(e){console.warn("Conviva App Tracker:: Network request could not be tracked due to an exception!!",e)}},trackButtonClick:function(e){var t,n,i;try{var o=null===(t=null==Vi?void 0:Vi.core)||void 0===t?void 0:t.getConfig();!0===(null===(n=null==o?void 0:o.clickcc)||void 0===n?void 0:n.en)&&(e.elementType="button",null===(i=null==Vi?void 0:Vi.core)||void 0===i||i.track(R({name:"conviva_click",data:JSON.stringify(e)}),u(void 0,void 0)))}catch(e){tt.warn("Conviva App Tracker caused Exception in sendButtonClick method of user click tracking module",e)}},trackLinkClick:function(e){var t,n,i;try{var o=null===(t=null==Vi?void 0:Vi.core)||void 0===t?void 0:t.getConfig();!0===(null===(n=null==o?void 0:o.clickcc)||void 0===n?void 0:n.en)&&(e.elementType="link",null===(i=null==Vi?void 0:Vi.core)||void 0===i||i.track(R({name:"conviva_click",data:JSON.stringify(e)}),u(void 0,void 0)))}catch(e){tt.warn("Conviva App Tracker caused Exception in sendLinkClick method of user click tracking module",e)}},trackErrorEvent:function(e){Ie(e)},setCustomTags:function(e){void 0===e&&(e={}),G(e)},setMetaCustomTags:function(e){void 0===e&&(e={}),function(e){try{var t=Object.keys(e);z(JSON.stringify(e))?t.forEach((function(t){""!==t&&Object.defineProperty(yt,t,{value:""+e[t],writable:!0,enumerable:!0,configurable:!0})})):console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=")}catch(e){console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",e)}}(e)},unsetCustomTags:function(e){void 0===e&&(e=[]),B(e)},preservePageViewId:function(){Bt=!0},disableAnonymousTracking:function(e){l.anonymousTracking=!1,N(e),x(),Gt.executeQueue()},enableAnonymousTracking:function(e){var t;l.anonymousTracking=null===(t=e&&(null==e?void 0:e.options))||void 0===t||t,N(e),Ot||M()},clearUserData:T,setKeepAliveInBG:function(e){void 0===e&&(e=!1),Ht=e},clearTimers:function(){Ui=null,Vt.cleanupNetworkRequestHandler();try{lo=s,removeEventListener("error",Ae,!0),removeEventListener("unhandledrejection",Re,!0)}catch(e){console.warn("Conviva App Tracker caused Exception in disableErrorTracking method of error tracking module",e)}if(Ee(),null==Le||Le.abort(),Ni=Ai=void 0,go&&window.clearInterval(go),Ft.enabled){var e=void 0;for(e in Ft.configurations){var t=Ft.configurations[e];t&&window.clearInterval(t.activityInterval)}}s&&(s.core=null),this.tracker=null},getSamplingMode:lt,getPageViewSent:function(){return qt}};ao=jt;var Vt=ko.getInstance(jt,l,lt);return Vt.initiateNetworkRequestTracking(),De(De({},jt),{id:t,namespace:n,core:ct,sharedState:a})}(t,n,i,a,l);var s=De(De({},t),{addPlugin:function(e){var t,n,i;null===(t=null==s?void 0:s.core)||void 0===t||t.addPlugin(e),null===(i=(n=e.plugin).activateBrowserPlugin)||void 0===i||i.call(n,s)}});c.forEach((function(e){var t;null===(t=e.activateBrowserPlugin)||void 0===t||t.call(e,s)})),function(e,t){var n;if(void 0===t&&(t=!0),!1!==t)try{var i=0,o=0;if("complete"===document.readyState){var r=null===(n=null==e?void 0:e.core)||void 0===n?void 0:n.getConfig();null==e||e.trackCustomEvent({name:"conviva_window_loaded",data:"{}",context:de(null==r?void 0:r.performanceContextConfig).contexts()})}else null===window||void 0===window||window.addEventListener("load",(function(){var t;try{var n=null===(t=null==e?void 0:e.core)||void 0===t?void 0:t.getConfig();null==e||e.trackCustomEvent({name:"conviva_window_loaded",data:"{}",context:de(null==n?void 0:n.performanceContextConfig).contexts()})}catch(e){console.warn("ConvivaAppTracker : issue while registering window loaded event",e)}}),{signal:Ni});null===document||void 0===document||document.addEventListener("visibilitychange",(function(){var t,n;try{if((null==e?void 0:e.getSamplingMode())!==Si.SAMPLING_MODES.NONE)if("hidden"===document.visibilityState)setTimeout((function(){var t,n;try{var i=null===(t=null==e?void 0:e.core)||void 0===t?void 0:t.getConfig();if(o++,null!=i&&i.lifecycleAutotracking)if(null===(n=null==e?void 0:e.core)||void 0===n);else{var r=n.track,a=A({event:{sc:"sp/abg/1-0-0",dt:I({backgroundIndex:o})}});r.call(n,a)}"hidden"!==document.visibilityState||null!=e&&e.getPageViewSent()||null==e||e.trackCustomEvent({name:"conviva_app_backgrnd_before_page_view",data:"{}"})}catch(e){console.warn("ConvivaAppTracker : issue while tracking visibility change",e)}}),0);else{var r=null===(t=null==e?void 0:e.core)||void 0===t?void 0:t.getConfig();i++,null!=r&&r.lifecycleAutotracking&&(null===(n=null==e?void 0:e.core)||void 0===n||n.track(A({event:{sc:"sp/afg/1-0-0",dt:I({foregroundIndex:i})}})))}}catch(e){console.warn("convivaAppTracker visibilitychange failed "+e)}}),{signal:Ni}),"undefined"!=typeof document&&document&&document.addEventListener&&document.addEventListener("convivaVideoEvent",(function(t){t&&e&&(null==e?void 0:e.getSamplingMode())!==Si.SAMPLING_MODES.NONE&&(null==e||e.trackVideoEvent(t))}),{signal:Ni})}catch(e){console.warn("convivaAppTracker error in page load metrics"+e)}}(s,null==l?void 0:l.enableCommonEvents);try{lo=s,function(){var e,t,n,i,o,r,a;try{var l=null===(e=null==lo?void 0:lo.core)||void 0===e?void 0:e.getConfig(),c=null===(n=null===(t=null==l?void 0:l.collectionRateLimit)||void 0===t?void 0:t.exceptionAutotracking)||void 0===n?void 0:n.maxEvents,s=null===(o=null===(i=null==l?void 0:l.collectionRateLimit)||void 0===i?void 0:i.exceptionAutotracking)||void 0===o?void 0:o.disconnectDuration,u=null===(a=null===(r=null==l?void 0:l.collectionRateLimit)||void 0===r?void 0:r.exceptionAutotracking)||void 0===a?void 0:a.timeWindow;co=new Eo(c,s,u,null==lo?void 0:lo.core,null==lo?void 0:lo.getSamplingMode)}catch(e){console.warn("Conviva App Tracker caused Exception in initialiseRateLimiter method of error tracking module",e)}}(),null!==window&&void 0!==window&&window.addEventListener&&window.addEventListener("RemoteConfigUpdateApplied",(function(){var e,t,n,i,o,r,a,l=null===(e=null==lo?void 0:lo.core)||void 0===e?void 0:e.getConfig();e=null===(n=null===(t=null==l?void 0:l.collectionRateLimit)||void 0===t?void 0:t.exceptionAutotracking)||void 0===n?void 0:n.maxEvents,t=null===(o=null===(i=null==l?void 0:l.collectionRateLimit)||void 0===i?void 0:i.exceptionAutotracking)||void 0===o?void 0:o.disconnectDuration,i=null===(a=null===(r=null==l?void 0:l.collectionRateLimit)||void 0===r?void 0:r.exceptionAutotracking)||void 0===a?void 0:a.timeWindow,null==co||co.updateErrortRateLimitConfig(e,t,i)}),{signal:Ni}),Z(window,"error",Ae,!0),Z(window,"unhandledrejection",Re,!0)}catch(e){console.warn("Conviva App Tracker caused Exception in enableErrorTracking method of error tracking module",e)}return Vi=s}function xe(e,t){try{Le(null!=e?e:Object.keys(So),So).forEach(t)}catch(e){tt.error("Function failed",e)}}function Oe(e,t,n,i,o){return So.hasOwnProperty(e)?null:(So[e]=Ne(e,t,n,i,o),So[e])}function Le(e,t){for(var n=[],i=0;i<e.length;i++){var o=e[i];t.hasOwnProperty(o)?n.push(t[o]):tt.warn(o+" not configured")}return n}function Me(){function e(){var e;if(!t.hasLoaded)for(t.hasLoaded=!0,e=0;e<t.registeredOnLoadHandlers.length;e++)t.registeredOnLoadHandlers[e]();return!0}var t=new Ao,n=document,i=window;return Z(i,"beforeunload",(function(){try{t.bufferFlushers.forEach((function(e){e(!1)}))}catch(e){console.warn("Conviva App Tracker:: Error in flushBuffers of constructor ".concat(e))}}),!1),"loading"===document.readyState?(n.addEventListener?n.addEventListener("DOMContentLoaded",(function t(){n.removeEventListener("DOMContentLoaded",t,!1),e()})):n.attachEvent&&n.attachEvent("onreadystatechange",(function t(){"complete"===n.readyState&&(n.detachEvent("onreadystatechange",t),e())})),Z(i,"load",e,!1)):e(),t}var De=function(){return De=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},De.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Pe={},Ue="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(Ue){var ze=new Uint8Array(16);Pe=function(){return Ue(ze),ze}}else{var Ge=Array(16);Pe=function(){for(var e,t=0;16>t;t++)!(3&t)&&(e=4294967296*Math.random()),Ge[t]=e>>>((3&t)<<3)&255;return Ge}}for(var Be=[],qe=0;256>qe;++qe)Be[qe]=(qe+256).toString(16).substr(1);var Fe,He,je=function(e,t){return t=t||0,[Be[e[t++]],Be[e[t++]],Be[e[t++]],Be[e[t++]],"-",Be[e[t++]],Be[e[t++]],"-",Be[e[t++]],Be[e[t++]],"-",Be[e[t++]],Be[e[t++]],"-",Be[e[t++]],Be[e[t++]],Be[e[t++]],Be[e[t++]],Be[e[t++]],Be[e[t++]]].join("")},Ve=Pe,Ze=0,Ke=0,We=Pe,Je=function(e,t,n){if(n=t&&n||0,"string"==typeof e&&(t="binary"===e?Array(16):null,e=null),(e=(e=e||{}).random||(e.rng||We)())[6]=15&e[6]|64,e[8]=63&e[8]|128,t)for(var i=0;16>i;++i)t[n+i]=e[i];return t||je(e)};Je.v1=function(e,t,n){n=t&&n||0;var i=t||[],o=(e=e||{}).node||Fe,r=void 0!==e.clockseq?e.clockseq:He;if(null==o||null==r){var a=Ve();null==o&&(o=Fe=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==r&&(r=He=16383&(a[6]<<8|a[7]))}a=void 0!==e.msecs?e.msecs:(new Date).getTime();var l=void 0!==e.nsecs?e.nsecs:Ke+1,c=a-Ze+(l-Ke)/1e4;if(0>c&&void 0===e.clockseq&&(r=r+1&16383),(0>c||a>Ze)&&void 0===e.nsecs&&(l=0),1e4<=l)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");for(Ze=a,Ke=l,He=r,e=(1e4*(268435455&(a+=122192928e5))+l)%4294967296,i[n++]=e>>>24&255,i[n++]=e>>>16&255,i[n++]=e>>>8&255,i[n++]=255&e,e=a/4294967296*1e4&268435455,i[n++]=e>>>8&255,i[n++]=255&e,i[n++]=e>>>24&15|16,i[n++]=e>>>16&255,i[n++]=r>>>8|128,i[n++]=255&r,r=0;6>r;++r)i[n+r]=o[r];return t||je(i)};var Xe,Ye,Qe=Je.v4=Je,$e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";(Ye=Xe||(Xe={}))[Ye.none=0]="none",Ye[Ye.error=1]="error",Ye[Ye.warn=2]="warn",Ye[Ye.debug=3]="debug",Ye[Ye.info=4]="info";var et,tt=function(e){return void 0===e&&(e=Xe.warn),{setLogLevel:function(t){e=Xe[t]?t:Xe.warn},warn:function(t,n){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];e>=Xe.warn&&"undefined"!=typeof console&&(r="Conviva: "+t,n?console.warn.apply(console,o([r+"\n",n],i,!1)):console.warn.apply(console,o([r],i,!1)))},error:function(t,n){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];e>=Xe.error&&"undefined"!=typeof console&&(r="Conviva: "+t+"\n",n?console.error.apply(console,o([r+"\n",n],i,!1)):console.error.apply(console,o([r],i,!1)))},debug:function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];e>=Xe.debug&&"undefined"!=typeof console&&console.debug.apply(console,o(["Conviva: "+t],n,!1))},info:function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];e>=Xe.info&&"undefined"!=typeof console&&console.info.apply(console,o(["Conviva: "+t],n,!1))}}}();!function(e){e.response_body="rsb",e.request_body="rqb",e.response_headers="rsh",e.request_headers="rqh",e.request_query="rqq"}(et||(et={}));var nt={},it={};!function(){var e={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(t){if(t.constructor==Number)return 16711935&e.rotl(t,8)|4278255360&e.rotl(t,24);for(var n=0;n<t.length;n++)t[n]=e.endian(t[n]);return t},randomBytes:function(e){for(var t=[];0<e;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,i=0;n<e.length;n++,i+=8)t[i>>>5]|=e[n]<<24-i%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var t=[],n=0;n<e.length;n+=3)for(var i=e[n]<<16|e[n+1]<<8|e[n+2],o=0;4>o;o++)8*n+6*o<=8*e.length?t.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i>>>6*(3-o)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],n=0,i=0;n<e.length;i=++n%4)0!=i&&t.push(("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(n-1))&Math.pow(2,-2*i+8)-1)<<2*i|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(n))>>>6-2*i);return t}};it=e}();var ot={utf8:{stringToBytes:function(e){return ot.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(ot.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}},rt=ot;!function(){var e=it,t=rt.utf8,n=rt.bin,i=function(i,o){var r=e.wordsToBytes,a=i;a.constructor==String?a=t.stringToBytes(a):"undefined"!=typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(a)?a=Array.prototype.slice.call(a,0):Array.isArray(a)||(a=a.toString()),i=e.bytesToWords(a);var l=8*a.length;a=[];var c=1732584193,s=-271733879,u=-1732584194,d=271733878,f=-1009589776;for(i[l>>5]|=128<<24-l%32,i[15+(l+64>>>9<<4)]=l,l=0;l<i.length;l+=16){for(var v=c,g=s,p=u,h=d,m=f,_=0;80>_;_++){if(16>_)a[_]=i[l+_];else{var w=a[_-3]^a[_-8]^a[_-14]^a[_-16];a[_]=w<<1|w>>>31}w=(c<<5|c>>>27)+f+(a[_]>>>0)+(20>_?1518500249+(s&u|~s&d):40>_?1859775393+(s^u^d):60>_?(s&u|s&d|u&d)-1894007588:(s^u^d)-899497514),f=d,d=u,u=s<<30|s>>>2,s=c,c=w}c+=v,s+=g,u+=p,d+=h,f+=m}return r=r.call(e,[c,s,u,d,f]),o&&o.asBytes?r:o&&o.asString?n.bytesToString(r):e.bytesToHex(r)};i._blocksize=16,i._digestsize=20,nt=i}();var at=nt,lt=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),ct=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),st=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),ut=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),dt=Array(576);N(dt);var ft=Array(60);N(ft);var vt=Array(512);N(vt);var gt=Array(256);N(gt);var pt=Array(29);N(pt);var ht=Array(30);N(ht);var mt,_t,wt,yt=function(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},bt=function(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,yt(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},kt=function(e,t,n){bt(e,n[2*t],n[2*t+1])},Ct=function(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(0<--t);return n>>>1},Et=function(e,t,n){var i,o=Array(16),r=0;for(i=1;15>=i;i++)r=r+n[i-1]<<1,o[i]=r;for(n=0;n<=t;n++)0!==(r=e[2*n+1])&&(e[2*n]=Ct(o[r]++,r))},Tt=function(e){var t;for(t=0;286>t;t++)e.dyn_ltree[2*t]=0;for(t=0;30>t;t++)e.dyn_dtree[2*t]=0;for(t=0;19>t;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},St=function(e){8<e.bi_valid?yt(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},At=function(e,t,n,i){var o=2*t,r=2*n;return e[o]<e[r]||e[o]===e[r]&&i[t]<=i[n]},Rt=function(e,t,n){for(var i=e.heap[n],o=n<<1;o<=e.heap_len&&(o<e.heap_len&&At(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!At(t,i,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=i},It=function(e,t,n){var i=0;if(0!==e.sym_next)do{var o=255&e.pending_buf[e.sym_buf+i++];o+=(255&e.pending_buf[e.sym_buf+i++])<<8;var r=e.pending_buf[e.sym_buf+i++];if(0===o)kt(e,r,t);else{var a=gt[r];kt(e,a+256+1,t);var l=lt[a];0!==l&&(r-=pt[a],bt(e,r,l)),a=256>--o?vt[o]:vt[256+(o>>>7)],kt(e,a,n),0!==(l=ct[a])&&(o-=ht[a],bt(e,o,l))}}while(i<e.sym_next);kt(e,256,t)},Nt=function(e,t){var n,i=t.dyn_tree,o=t.stat_desc.static_tree,r=t.stat_desc.has_stree,a=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<a;n++)0!==i[2*n]?(e.heap[++e.heap_len]=l=n,e.depth[n]=0):i[2*n+1]=0;for(;2>e.heap_len;){var c=e.heap[++e.heap_len]=2>l?++l:0;i[2*c]=1,e.depth[c]=0,e.opt_len--,r&&(e.static_len-=o[2*c+1])}for(t.max_code=l,n=e.heap_len>>1;1<=n;n--)Rt(e,i,n);c=a;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Rt(e,i,1),o=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=o,i[2*c]=i[2*n]+i[2*o],e.depth[c]=(e.depth[n]>=e.depth[o]?e.depth[n]:e.depth[o])+1,i[2*n+1]=i[2*o+1]=c,e.heap[1]=c++,Rt(e,i,1)}while(2<=e.heap_len);e.heap[--e.heap_max]=e.heap[1],n=t.dyn_tree,c=t.max_code,o=t.stat_desc.static_tree,r=t.stat_desc.has_stree,a=t.stat_desc.extra_bits;var s,u=t.stat_desc.extra_base,d=t.stat_desc.max_length,f=0;for(s=0;15>=s;s++)e.bl_count[s]=0;for(n[2*e.heap[e.heap_max]+1]=0,t=e.heap_max+1;573>t;t++){var v=e.heap[t];if((s=n[2*n[2*v+1]+1]+1)>d&&(s=d,f++),n[2*v+1]=s,!(v>c)){e.bl_count[s]++;var g=0;v>=u&&(g=a[v-u]);var p=n[2*v];e.opt_len+=p*(s+g),r&&(e.static_len+=p*(o[2*v+1]+g))}}if(0!==f){do{for(s=d-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[d]--,f-=2}while(0<f);for(s=d;0!==s;s--)for(v=e.bl_count[s];0!==v;)(o=e.heap[--t])>c||(n[2*o+1]!==s&&(e.opt_len+=(s-n[2*o+1])*n[2*o],n[2*o+1]=s),v--)}Et(i,l,e.bl_count)},xt=function(e,t,n){var i,o=-1,r=t[1],a=0,l=7,c=4;for(0===r&&(l=138,c=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++){var s=r;r=t[2*(i+1)+1],++a<l&&s===r||(a<c?e.bl_tree[2*s]+=a:0!==s?(s!==o&&e.bl_tree[2*s]++,e.bl_tree[32]++):10>=a?e.bl_tree[34]++:e.bl_tree[36]++,a=0,o=s,0===r?(l=138,c=3):s===r?(l=6,c=3):(l=7,c=4))}},Ot=function(e,t,n){var i,o=-1,r=t[1],a=0,l=7,c=4;for(0===r&&(l=138,c=3),i=0;i<=n;i++){var s=r;if(r=t[2*(i+1)+1],!(++a<l&&s===r)){if(a<c)do{kt(e,s,e.bl_tree)}while(0!=--a);else 0!==s?(s!==o&&(kt(e,s,e.bl_tree),a--),kt(e,16,e.bl_tree),bt(e,a-3,2)):10>=a?(kt(e,17,e.bl_tree),bt(e,a-3,3)):(kt(e,18,e.bl_tree),bt(e,a-11,7));a=0,o=s,0===r?(l=138,c=3):s===r?(l=6,c=3):(l=7,c=4)}}},Lt=!1,Mt=function(e,t,n,i){bt(e,i?1:0,3),St(e),yt(e,n),yt(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},Dt=function(e,t,n,i){var o,r=65535&e;for(e=e>>>16&65535;0!==n;){n-=o=2e3<n?2e3:n;do{e=e+(r=r+t[i++]|0)|0}while(--o);r%=65521,e%=65521}return r|e<<16},Pt=new Uint32Array(function(){for(var e,t=[],n=0;256>n;n++){e=n;for(var i=0;8>i;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}()),Ut=function(e,t,n,i){for(n=i+n,e^=-1;i<n;i++)e=e>>>8^Pt[255&(e^t[i])];return~e},zt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Gt={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},Bt=function(e,t,n){return e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(gt[n]+256+1)]++,e.dyn_dtree[2*(256>t?vt[t]:vt[256+(t>>>7)])]++),e.sym_next===e.sym_end},qt=Gt.Z_NO_FLUSH,Ft=Gt.Z_PARTIAL_FLUSH,Ht=Gt.Z_FULL_FLUSH,jt=Gt.Z_FINISH,Vt=Gt.Z_BLOCK,Zt=Gt.Z_OK,Kt=Gt.Z_STREAM_END,Wt=Gt.Z_STREAM_ERROR,Jt=Gt.Z_DATA_ERROR,Xt=Gt.Z_BUF_ERROR,Yt=Gt.Z_DEFAULT_COMPRESSION,Qt=Gt.Z_FILTERED,$t=Gt.Z_HUFFMAN_ONLY,en=Gt.Z_RLE,tn=Gt.Z_FIXED,nn=Gt.Z_DEFAULT_STRATEGY,on=Gt.Z_UNKNOWN,rn=Gt.Z_DEFLATED,an=function(e,t){return e.msg=zt[t],t},ln=function(e){for(var t=e.length;0<=--t;)e[t]=0},cn=function(e,t,n){return(t<<e.hash_shift^n)&e.hash_mask},sn=function(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},un=function(e,t){var n=0<=e.block_start?e.block_start:-1,i=e.strstart-e.block_start,o=0;if(0<e.level){for(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;31>=t;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;256>t;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),Nt(e,e.l_desc),Nt(e,e.d_desc),xt(e,e.dyn_ltree,e.l_desc.max_code),xt(e,e.dyn_dtree,e.d_desc.max_code),Nt(e,e.bl_desc),o=18;3<=o&&0===e.bl_tree[2*ut[o]+1];o--);e.opt_len+=3*(o+1)+14;var r=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3;a<=r&&(r=a)}else r=a=i+5;if(i+4<=r&&-1!==n)Mt(e,n,i,t);else if(4===e.strategy||a===r)bt(e,2+(t?1:0),3),It(e,dt,ft);else{for(bt(e,4+(t?1:0),3),n=e.l_desc.max_code+1,i=e.d_desc.max_code+1,o+=1,bt(e,n-257,5),bt(e,i-1,5),bt(e,o-4,4),r=0;r<o;r++)bt(e,e.bl_tree[2*ut[r]+1],3);Ot(e,e.dyn_ltree,n-1),Ot(e,e.dyn_dtree,i-1),It(e,e.dyn_ltree,e.dyn_dtree)}Tt(e),t&&St(e),e.block_start=e.strstart,sn(e.strm)},dn=function(e,t){e.pending_buf[e.pending++]=t},fn=function(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},vn=function(e,t,n,i){var o=e.avail_in;return o>i&&(o=i),0===o?0:(e.avail_in-=o,t.set(e.input.subarray(e.next_in,e.next_in+o),n),1===e.state.wrap?e.adler=Dt(e.adler,t,o,n):2===e.state.wrap&&(e.adler=Ut(e.adler,t,o,n)),e.next_in+=o,e.total_in+=o,o)},gn=function(e,t){var n=e.max_chain_length,i=e.strstart,o=e.prev_length,r=e.nice_match,a=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,l=e.window,c=e.w_mask,s=e.prev,u=e.strstart+258,d=l[i+o-1],f=l[i+o];e.prev_length>=e.good_match&&(n>>=2),r>e.lookahead&&(r=e.lookahead);do{var v=t;if(l[v+o]===f&&l[v+o-1]===d&&l[v]===l[i]&&l[++v]===l[i+1]){for(i+=2,v++;l[++i]===l[++v]&&l[++i]===l[++v]&&l[++i]===l[++v]&&l[++i]===l[++v]&&l[++i]===l[++v]&&l[++i]===l[++v]&&l[++i]===l[++v]&&l[++i]===l[++v]&&i<u;);if(v=258-(u-i),i=u-258,v>o){if(e.match_start=t,o=v,v>=r)break;d=l[i+o-1],f=l[i+o]}}}while((t=s[t&c])>a&&0!=--n);return o<=e.lookahead?o:e.lookahead},pn=function(e){var t=e.w_size;do{var n=e.window_size-e.lookahead-e.strstart;if(e.strstart>=t+(t-262)){e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart);var i,o=e,r=o.w_size,a=i=o.hash_size;do{var l=o.head[--a];o.head[a]=l>=r?l-r:0}while(--i);a=i=r;do{l=o.prev[--a],o.prev[a]=l>=r?l-r:0}while(--i);n+=t}if(0===e.strm.avail_in)break;if(n=vn(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=n,3<=e.lookahead+e.insert)for(n=e.strstart-e.insert,e.ins_h=e.window[n],e.ins_h=cn(e,e.ins_h,e.window[n+1]);e.insert&&(e.ins_h=cn(e,e.ins_h,e.window[n+3-1]),e.prev[n&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=n,n++,e.insert--,!(3>e.lookahead+e.insert)););}while(262>e.lookahead&&0!==e.strm.avail_in)},hn=function(e,t){var n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,i=0,o=e.strm.avail_in;do{var r=65535,a=e.bi_valid+42>>3;if(e.strm.avail_out<a)break;a=e.strm.avail_out-a;var l=e.strstart-e.block_start;if(r>l+e.strm.avail_in&&(r=l+e.strm.avail_in),r>a&&(r=a),r<n&&(0===r&&t!==jt||t===qt||r!==l+e.strm.avail_in))break;i=t===jt&&r===l+e.strm.avail_in?1:0,Mt(e,0,0,i),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,sn(e.strm),l&&(l>r&&(l=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+l),e.strm.next_out),e.strm.next_out+=l,e.strm.avail_out-=l,e.strm.total_out+=l,e.block_start+=l,r-=l),r&&(vn(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(0===i);return(o-=e.strm.avail_in)&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),2>e.matches&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),i?4:t!==qt&&t!==jt&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),2>e.matches&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(vn(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,n=(a=65535<e.pending_buf_size-a?65535:e.pending_buf_size-a)>e.w_size?e.w_size:a,((l=e.strstart-e.block_start)>=n||(l||t===jt)&&t!==qt&&0===e.strm.avail_in&&l<=a)&&(r=l>a?a:l,i=t===jt&&0===e.strm.avail_in&&r===l?1:0,Mt(e,e.block_start,r,i),e.block_start+=r,sn(e.strm)),i?3:1)},mn=function(e,t){for(var n;;){if(262>e.lookahead){if(pn(e),262>e.lookahead&&t===qt)return 1;if(0===e.lookahead)break}if(n=0,3<=e.lookahead&&(e.ins_h=cn(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-262&&(e.match_length=gn(e,n)),3<=e.match_length)if(n=Bt(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&3<=e.lookahead){e.match_length--;do{e.strstart++,e.ins_h=cn(e,e.ins_h,e.window[e.strstart+3-1]),e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=cn(e,e.ins_h,e.window[e.strstart+1]);else n=Bt(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(un(e,!1),0===e.strm.avail_out))return 1}return e.insert=2>e.strstart?e.strstart:2,t===jt?(un(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(un(e,!1),0===e.strm.avail_out)?1:2},_n=function(e,t){for(var n,i;;){if(262>e.lookahead){if(pn(e),262>e.lookahead&&t===qt)return 1;if(0===e.lookahead)break}if(n=0,3<=e.lookahead&&(e.ins_h=cn(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-262&&(e.match_length=gn(e,n),5>=e.match_length&&(e.strategy===Qt||3===e.match_length&&4096<e.strstart-e.match_start)&&(e.match_length=2)),3<=e.prev_length&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,n=Bt(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=cn(e,e.ins_h,e.window[e.strstart+3-1]),e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(un(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=Bt(e,0,e.window[e.strstart-1]))&&un(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(Bt(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=2>e.strstart?e.strstart:2,t===jt?(un(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(un(e,!1),0===e.strm.avail_out)?1:2},wn=[new L(0,0,0,0,hn),new L(4,4,8,4,mn),new L(4,5,16,8,mn),new L(4,6,32,32,mn),new L(4,4,16,16,_n),new L(8,16,32,32,_n),new L(8,16,128,128,_n),new L(8,32,128,256,_n),new L(32,128,258,1024,_n),new L(32,258,258,4096,_n)],yn=function(e){if(!e)return 1;var t=e.state;return!t||t.strm!==e||42!==t.status&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&113!==t.status&&666!==t.status?1:0},bn=function(e){if(yn(e))return an(e,Wt);e.total_in=e.total_out=0,e.data_type=on;var t=e.state;if(t.pending=0,t.pending_out=0,0>t.wrap&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=-2,!Lt){var n,i,o;for(e=Array(16),o=i=0;28>o;o++)for(pt[o]=i,n=0;n<1<<lt[o];n++)gt[i++]=o;for(gt[i-1]=o,o=i=0;16>o;o++)for(ht[o]=i,n=0;n<1<<ct[o];n++)vt[i++]=o;for(i>>=7;30>o;o++)for(ht[o]=i<<7,n=0;n<1<<ct[o]-7;n++)vt[256+i++]=o;for(n=0;15>=n;n++)e[n]=0;for(n=0;143>=n;)dt[2*n+1]=8,n++,e[8]++;for(;255>=n;)dt[2*n+1]=9,n++,e[9]++;for(;279>=n;)dt[2*n+1]=7,n++,e[7]++;for(;287>=n;)dt[2*n+1]=8,n++,e[8]++;for(Et(dt,287,e),n=0;30>n;n++)ft[2*n+1]=5,ft[2*n]=Ct(n,5);mt=new x(dt,lt,257,286,15),_t=new x(ft,ct,0,30,15),wt=new x([],st,0,19,7),Lt=!0}return t.l_desc=new O(t.dyn_ltree,mt),t.d_desc=new O(t.dyn_dtree,_t),t.bl_desc=new O(t.bl_tree,wt),t.bi_buf=0,t.bi_valid=0,Tt(t),Zt},kn=function(e){var t=bn(e);return t===Zt&&((e=e.state).window_size=2*e.w_size,ln(e.head),e.max_lazy_match=wn[e.level].max_lazy,e.good_match=wn[e.level].good_length,e.nice_match=wn[e.level].nice_length,e.max_chain_length=wn[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),t},Cn=function(e,t,n,i,o,r){if(!e)return Wt;var a=1;if(t===Yt&&(t=6),0>i?(a=0,i=-i):15<i&&(a=2,i-=16),1>o||9<o||n!==rn||8>i||15<i||0>t||9<t||0>r||r>tn||8===i&&1!==a)return an(e,Wt);8===i&&(i=9);var l=new M;return e.state=l,l.strm=e,l.status=42,l.wrap=a,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new Uint8Array(2*l.w_size),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=3*(l.lit_bufsize-1),l.level=t,l.strategy=r,l.method=n,kn(e)},En={deflateInit:function(e,t){return Cn(e,t,rn,15,8,nn)},deflateInit2:Cn,deflateReset:kn,deflateResetKeep:bn,deflateSetHeader:function(e,t){return yn(e)||2!==e.state.wrap?Wt:(e.state.gzhead=t,Zt)},deflate:function(e,t){if(yn(e)||t>Vt||0>t)return e?an(e,Wt):Wt;var n=e.state;if(!e.output||0!==e.avail_in&&!e.input||666===n.status&&t!==jt)return an(e,0===e.avail_out?Xt:Wt);var i=n.last_flush;if(n.last_flush=t,0!==n.pending){if(sn(e),0===e.avail_out)return n.last_flush=-1,Zt}else if(0===e.avail_in&&2*t-(4<t?9:0)<=2*i-(4<i?9:0)&&t!==jt)return an(e,Xt);if(666===n.status&&0!==e.avail_in)return an(e,Xt);if(42===n.status&&0===n.wrap&&(n.status=113),42===n.status&&(i=rn+(n.w_bits-8<<4)<<8,i|=(n.strategy>=$t||2>n.level?0:6>n.level?1:6===n.level?2:3)<<6,0!==n.strstart&&(i|=32),fn(n,i+(31-i%31)),0!==n.strstart&&(fn(n,e.adler>>>16),fn(n,65535&e.adler)),e.adler=1,n.status=113,sn(e),0!==n.pending))return n.last_flush=-1,Zt;if(57===n.status)if(e.adler=0,dn(n,31),dn(n,139),dn(n,8),n.gzhead)dn(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),dn(n,255&n.gzhead.time),dn(n,n.gzhead.time>>8&255),dn(n,n.gzhead.time>>16&255),dn(n,n.gzhead.time>>24&255),dn(n,9===n.level?2:n.strategy>=$t||2>n.level?4:0),dn(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(dn(n,255&n.gzhead.extra.length),dn(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Ut(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(dn(n,0),dn(n,0),dn(n,0),dn(n,0),dn(n,0),dn(n,9===n.level?2:n.strategy>=$t||2>n.level?4:0),dn(n,3),n.status=113,sn(e),0!==n.pending)return n.last_flush=-1,Zt;if(69===n.status){if(n.gzhead.extra){i=n.pending;for(var o=(65535&n.gzhead.extra.length)-n.gzindex;n.pending+o>n.pending_buf_size;){var r=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(e.adler=Ut(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=r,sn(e),0!==n.pending)return n.last_flush=-1,Zt;i=0,o-=r}r=new Uint8Array(n.gzhead.extra),n.pending_buf.set(r.subarray(n.gzindex,n.gzindex+o),n.pending),n.pending+=o,n.gzhead.hcrc&&n.pending>i&&(e.adler=Ut(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=Ut(e.adler,n.pending_buf,n.pending-i,i)),sn(e),0!==n.pending)return n.last_flush=-1,Zt;i=0}o=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,dn(n,o)}while(0!==o);n.gzhead.hcrc&&n.pending>i&&(e.adler=Ut(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=Ut(e.adler,n.pending_buf,n.pending-i,i)),sn(e),0!==n.pending)return n.last_flush=-1,Zt;i=0}o=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,dn(n,o)}while(0!==o);n.gzhead.hcrc&&n.pending>i&&(e.adler=Ut(e.adler,n.pending_buf,n.pending-i,i))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(sn(e),0!==n.pending))return n.last_flush=-1,Zt;dn(n,255&e.adler),dn(n,e.adler>>8&255),e.adler=0}if(n.status=113,sn(e),0!==n.pending)return n.last_flush=-1,Zt}if(0!==e.avail_in||0!==n.lookahead||t!==qt&&666!==n.status){if(i=0===n.level?hn(n,t):n.strategy===$t?function(e,t){for(var n;;){if(0===e.lookahead&&(pn(e),0===e.lookahead)){if(t===qt)return 1;break}if(e.match_length=0,n=Bt(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(un(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===jt?(un(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(un(e,!1),0===e.strm.avail_out)?1:2}(n,t):n.strategy===en?function(e,t){for(var n,i,o,r=e.window;;){if(258>=e.lookahead){if(pn(e),258>=e.lookahead&&t===qt)return 1;if(0===e.lookahead)break}if(e.match_length=0,3<=e.lookahead&&0<e.strstart&&(n=r[i=e.strstart-1])===r[++i]&&n===r[++i]&&n===r[++i]){for(o=e.strstart+258;n===r[++i]&&n===r[++i]&&n===r[++i]&&n===r[++i]&&n===r[++i]&&n===r[++i]&&n===r[++i]&&n===r[++i]&&i<o;);e.match_length=258-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(3<=e.match_length?(n=Bt(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Bt(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(un(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===jt?(un(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(un(e,!1),0===e.strm.avail_out)?1:2}(n,t):wn[n.level].func(n,t),3!==i&&4!==i||(n.status=666),1===i||3===i)return 0===e.avail_out&&(n.last_flush=-1),Zt;if(2===i&&(t===Ft?(bt(n,2,3),kt(n,256,dt),16===n.bi_valid?(yt(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):8<=n.bi_valid&&(n.pending_buf[n.pending++]=255&n.bi_buf,n.bi_buf>>=8,n.bi_valid-=8)):t!==Vt&&(Mt(n,0,0,!1),t===Ht&&(ln(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),sn(e),0===e.avail_out))return n.last_flush=-1,Zt}return t!==jt?Zt:0>=n.wrap?Kt:(2===n.wrap?(dn(n,255&e.adler),dn(n,e.adler>>8&255),dn(n,e.adler>>16&255),dn(n,e.adler>>24&255),dn(n,255&e.total_in),dn(n,e.total_in>>8&255),dn(n,e.total_in>>16&255),dn(n,e.total_in>>24&255)):(fn(n,e.adler>>>16),fn(n,65535&e.adler)),sn(e),0<n.wrap&&(n.wrap=-n.wrap),0!==n.pending?Zt:Kt)},deflateEnd:function(e){if(yn(e))return Wt;var t=e.state.status;return e.state=null,113===t?an(e,Jt):Zt},deflateSetDictionary:function(e,t){var n=t.length;if(yn(e))return Wt;var i=e.state,o=i.wrap;if(2===o||1===o&&42!==i.status||i.lookahead)return Wt;if(1===o&&(e.adler=Dt(e.adler,t,n,0)),i.wrap=0,n>=i.w_size){0===o&&(ln(i.head),i.strstart=0,i.block_start=0,i.insert=0);var r=new Uint8Array(i.w_size);r.set(t.subarray(n-i.w_size,n),0),t=r,n=i.w_size}r=e.avail_in;var a=e.next_in,l=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,pn(i);3<=i.lookahead;){t=i.strstart,n=i.lookahead-2;do{i.ins_h=cn(i,i.ins_h,i.window[t+3-1]),i.prev[t&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=t,t++}while(--n);i.strstart=t,i.lookahead=2,pn(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,e.next_in=a,e.input=l,e.avail_in=r,i.wrap=o,Zt},deflateInfo:"pako deflate (from Nodeca project)"},Tn={assign:function(t){for(var n=Array.prototype.slice.call(arguments,1);n.length;){var i=n.shift();if(i){if("object"!==e(i))throw new TypeError(i+"must be non-object");for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}}return t},flattenChunks:function(e){for(var t=0,n=0,i=e.length;n<i;n++)t+=e[n].length;t=new Uint8Array(t),i=n=0;for(var o=e.length;n<o;n++){var r=e[n];t.set(r,i),i+=r.length}return t}},Sn=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(Ye){Sn=!1}for(var An=new Uint8Array(256),Rn=0;256>Rn;Rn++)An[Rn]=252<=Rn?6:248<=Rn?5:240<=Rn?4:224<=Rn?3:192<=Rn?2:1;An[254]=An[254]=1;var In={string2buf:function(e){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,n,i=e.length,o=0;for(t=0;t<i;t++){var r=e.charCodeAt(t);if(55296==(64512&r)&&t+1<i){var a=e.charCodeAt(t+1);56320==(64512&a)&&(r=65536+(r-55296<<10)+(a-56320),t++)}o+=128>r?1:2048>r?2:65536>r?3:4}var l=new Uint8Array(o);for(t=n=0;n<o;t++)55296==(64512&(r=e.charCodeAt(t)))&&t+1<i&&(56320==(64512&(a=e.charCodeAt(t+1)))&&(r=65536+(r-55296<<10)+(a-56320),t++)),128>r?l[n++]=r:(2048>r?l[n++]=192|r>>>6:(65536>r?l[n++]=224|r>>>12:(l[n++]=240|r>>>18,l[n++]=128|r>>>12&63),l[n++]=128|r>>>6&63),l[n++]=128|63&r);return l},buf2string:function(e,t){var n,i,o=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));for(t=Array(2*o),n=i=0;n<o;){var r=e[n++];if(128>r)t[i++]=r;else{var a=An[r];if(4<a)t[i++]=65533,n+=a-1;else{for(r&=2===a?31:3===a?15:7;1<a&&n<o;)r=r<<6|63&e[n++],a--;1<a?t[i++]=65533:65536>r?t[i++]=r:(r-=65536,t[i++]=55296|r>>10&1023,t[i++]=56320|1023&r)}}}if(65534>(e=i)&&t.subarray&&Sn)t=String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));else{for(o="",n=0;n<e;n++)o+=String.fromCharCode(t[n]);t=o}return t},utf8border:function(e,t){(t=t||e.length)>e.length&&(t=e.length);for(var n=t-1;0<=n&&128==(192&e[n]);)n--;return 0>n||0===n?t:n+An[e[n]]>t?n:t}},Nn=function(){this.input=null,this.total_in=this.avail_in=this.next_in=0,this.output=null,this.total_out=this.avail_out=this.next_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},xn=Object.prototype.toString,On=Gt.Z_NO_FLUSH,Ln=Gt.Z_SYNC_FLUSH,Mn=Gt.Z_FULL_FLUSH,Dn=Gt.Z_FINISH,Pn=Gt.Z_OK,Un=Gt.Z_STREAM_END,zn=Gt.Z_DEFAULT_COMPRESSION,Gn=Gt.Z_DEFAULT_STRATEGY,Bn=Gt.Z_DEFLATED;D.prototype.push=function(e,t){var n=this.strm,i=this.options.chunkSize;if(this.ended)return!1;for(t=t===~~t?t:!0===t?Dn:On,"string"==typeof e?n.input=In.string2buf(e):"[object ArrayBuffer]"===xn.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),(t===Ln||t===Mn)&&6>=n.avail_out)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if((e=En.deflate(n,t))===Un)return 0<n.next_out&&this.onData(n.output.subarray(0,n.next_out)),e=En.deflateEnd(this.strm),this.onEnd(e),this.ended=!0,e===Pn;if(0===n.avail_out)this.onData(n.output);else if(0<t&&0<n.next_out)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}return!0},D.prototype.onData=function(e){this.chunks.push(e)},D.prototype.onEnd=function(e){e===Pn&&(this.result=Tn.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var qn,Fn,Hn=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),jn=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Vn=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Zn=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Kn=function(e,t,n,i,o,r,a,l){var c,s,u,d,f,v,g,p=l.bits,h=new Uint16Array(16),m=new Uint16Array(16);for(c=0;15>=c;c++)h[c]=0;for(s=0;s<i;s++)h[t[n+s]]++;var _=p;for(u=15;1<=u&&0===h[u];u--);if(_>u&&(_=u),0===u)return o[r++]=20971520,o[r++]=20971520,l.bits=1,0;for(p=1;p<u&&0===h[p];p++);for(_<p&&(_=p),c=d=1;15>=c;c++)if(d<<=1,0>(d-=h[c]))return-1;if(0<d&&(0===e||1!==u))return-1;for(m[1]=0,c=1;15>c;c++)m[c+1]=m[c]+h[c];for(s=0;s<i;s++)0!==t[n+s]&&(a[m[t[n+s]]++]=s);if(0===e)var w=g=a,y=20;else 1===e?(w=Hn,g=jn,y=257):(w=Vn,g=Zn,y=0);s=f=0,c=p;var b=r;i=_,m=0;var k=-1,C=1<<_,E=C-1;if(1===e&&852<C||2===e&&592<C)return 1;for(;;){var T=c-m;if(a[s]+1<y)var S=0,A=a[s];else a[s]>=y?(S=g[a[s]-y],A=w[a[s]-y]):(S=96,A=0);d=1<<c-m,p=v=1<<i;do{o[b+(f>>m)+(v-=d)]=T<<24|S<<16|A}while(0!==v);for(d=1<<c-1;f&d;)d>>=1;if(0!==d?(f&=d-1,f+=d):f=0,s++,0==--h[c]){if(c===u)break;c=t[n+a[s]]}if(c>_&&(f&E)!==k){for(0===m&&(m=_),b+=p,d=1<<(i=c-m);i+m<u&&!(0>=(d-=h[i+m]));)i++,d<<=1;if(C+=1<<i,1===e&&852<C||2===e&&592<C)return 1;o[k=f&E]=_<<24|i<<16|b-r}}return 0!==f&&(o[b+f]=c-m<<24|4194304),l.bits=_,0},Wn=Gt.Z_FINISH,Jn=Gt.Z_BLOCK,Xn=Gt.Z_TREES,Yn=Gt.Z_OK,Qn=Gt.Z_STREAM_END,$n=Gt.Z_NEED_DICT,ei=Gt.Z_STREAM_ERROR,ti=Gt.Z_DATA_ERROR,ni=Gt.Z_MEM_ERROR,ii=Gt.Z_BUF_ERROR,oi=Gt.Z_DEFLATED,ri=function(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)},ai=function(e){if(!e)return 1;var t=e.state;return!t||t.strm!==e||16180>t.mode||16211<t.mode?1:0},li=function(e){if(ai(e))return ei;var t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=16180,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Yn},ci=function(e){if(ai(e))return ei;var t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,li(e)},si=function(e,t){if(ai(e))return ei;var n=e.state;if(0>t){var i=0;t=-t}else i=5+(t>>4),48>t&&(t&=15);return t&&(8>t||15<t)?ei:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=i,n.wbits=t,ci(e))},ui=function(e,t){if(!e)return ei;var n=new U;return e.state=n,n.strm=e,n.window=null,n.mode=16180,(t=si(e,t))!==Yn&&(e.state=null),t},di=!0,fi=function(e,t,n,i){var o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(t.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):((e=o.wsize-o.wnext)>i&&(e=i),o.window.set(t.subarray(n-i,n-i+e),o.wnext),(i-=e)?(o.window.set(t.subarray(n-i,n),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=e,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=e))),0},vi={inflateReset:ci,inflateReset2:si,inflateResetKeep:li,inflateInit:function(e){return ui(e,15)},inflateInit2:ui,inflate:function(e,t){var n=new Uint8Array(4),i=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ai(e)||!e.output||!e.input&&0!==e.avail_in)return ei;var o=e.state;16191===o.mode&&(o.mode=16192);var r=e.next_out,a=e.output,l=e.avail_out,c=e.next_in,s=e.input,u=e.avail_in,d=o.hold,f=o.bits,v=u,g=l,p=Yn;e:for(;;)switch(o.mode){case 16180:if(0===o.wrap){o.mode=16192;break}for(;16>f;){if(0===u)break e;u--,d+=s[c++]<<f,f+=8}if(2&o.wrap&&35615===d){0===o.wbits&&(o.wbits=15),o.check=0,n[0]=255&d,n[1]=d>>>8&255,o.check=Ut(o.check,n,2,0),f=d=0,o.mode=16181;break}if(o.head&&(o.head.done=!1),!(1&o.wrap)||(((255&d)<<8)+(d>>8))%31){e.msg="incorrect header check",o.mode=16209;break}if((15&d)!==oi){e.msg="unknown compression method",o.mode=16209;break}f-=4;var h=8+(15&(d>>>=4));if(0===o.wbits&&(o.wbits=h),15<h||h>o.wbits){e.msg="invalid window size",o.mode=16209;break}o.dmax=1<<o.wbits,o.flags=0,e.adler=o.check=1,o.mode=512&d?16189:16191,f=d=0;break;case 16181:for(;16>f;){if(0===u)break e;u--,d+=s[c++]<<f,f+=8}if(o.flags=d,(255&o.flags)!==oi){e.msg="unknown compression method",o.mode=16209;break}if(57344&o.flags){e.msg="unknown header flags set",o.mode=16209;break}o.head&&(o.head.text=d>>8&1),512&o.flags&&4&o.wrap&&(n[0]=255&d,n[1]=d>>>8&255,o.check=Ut(o.check,n,2,0)),f=d=0,o.mode=16182;case 16182:for(;32>f;){if(0===u)break e;u--,d+=s[c++]<<f,f+=8}o.head&&(o.head.time=d),512&o.flags&&4&o.wrap&&(n[0]=255&d,n[1]=d>>>8&255,n[2]=d>>>16&255,n[3]=d>>>24&255,o.check=Ut(o.check,n,4,0)),f=d=0,o.mode=16183;case 16183:for(;16>f;){if(0===u)break e;u--,d+=s[c++]<<f,f+=8}o.head&&(o.head.xflags=255&d,o.head.os=d>>8),512&o.flags&&4&o.wrap&&(n[0]=255&d,n[1]=d>>>8&255,o.check=Ut(o.check,n,2,0)),f=d=0,o.mode=16184;case 16184:if(1024&o.flags){for(;16>f;){if(0===u)break e;u--,d+=s[c++]<<f,f+=8}o.length=d,o.head&&(o.head.extra_len=d),512&o.flags&&4&o.wrap&&(n[0]=255&d,n[1]=d>>>8&255,o.check=Ut(o.check,n,2,0)),f=d=0}else o.head&&(o.head.extra=null);o.mode=16185;case 16185:if(1024&o.flags){var m=o.length;if(m>u&&(m=u),m&&(o.head&&(h=o.head.extra_len-o.length,o.head.extra||(o.head.extra=new Uint8Array(o.head.extra_len)),o.head.extra.set(s.subarray(c,c+m),h)),512&o.flags&&4&o.wrap&&(o.check=Ut(o.check,s,m,c)),u-=m,c+=m,o.length-=m),o.length)break e}o.length=0,o.mode=16186;case 16186:if(2048&o.flags){if(0===u)break e;m=0;do{h=s[c+m++],o.head&&h&&65536>o.length&&(o.head.name+=String.fromCharCode(h))}while(h&&m<u);if(512&o.flags&&4&o.wrap&&(o.check=Ut(o.check,s,m,c)),u-=m,c+=m,h)break e}else o.head&&(o.head.name=null);o.length=0,o.mode=16187;case 16187:if(4096&o.flags){if(0===u)break e;m=0;do{h=s[c+m++],o.head&&h&&65536>o.length&&(o.head.comment+=String.fromCharCode(h))}while(h&&m<u);if(512&o.flags&&4&o.wrap&&(o.check=Ut(o.check,s,m,c)),u-=m,c+=m,h)break e}else o.head&&(o.head.comment=null);o.mode=16188;case 16188:if(512&o.flags){for(;16>f;){if(0===u)break e;u--,d+=s[c++]<<f,f+=8}if(4&o.wrap&&d!==(65535&o.check)){e.msg="header crc mismatch",o.mode=16209;break}f=d=0}o.head&&(o.head.hcrc=o.flags>>9&1,o.head.done=!0),e.adler=o.check=0,o.mode=16191;break;case 16189:for(;32>f;){if(0===u)break e;u--,d+=s[c++]<<f,f+=8}e.adler=o.check=ri(d),f=d=0,o.mode=16190;case 16190:if(0===o.havedict)return e.next_out=r,e.avail_out=l,e.next_in=c,e.avail_in=u,o.hold=d,o.bits=f,$n;e.adler=o.check=1,o.mode=16191;case 16191:if(t===Jn||t===Xn)break e;case 16192:if(o.last){d>>>=7&f,f-=7&f,o.mode=16206;break}for(;3>f;){if(0===u)break e;u--,d+=s[c++]<<f,f+=8}switch(o.last=1&d,--f,3&(d>>>=1)){case 0:o.mode=16193;break;case 1:if(m=o,di){for(qn=new Int32Array(512),Fn=new Int32Array(32),h=0;144>h;)m.lens[h++]=8;for(;256>h;)m.lens[h++]=9;for(;280>h;)m.lens[h++]=7;for(;288>h;)m.lens[h++]=8;for(Kn(1,m.lens,0,288,qn,0,m.work,{bits:9}),h=0;32>h;)m.lens[h++]=5;Kn(2,m.lens,0,32,Fn,0,m.work,{bits:5}),di=!1}if(m.lencode=qn,m.lenbits=9,m.distcode=Fn,m.distbits=5,o.mode=16199,t===Xn){d>>>=2,f-=2;break e}break;case 2:o.mode=16196;break;case 3:e.msg="invalid block type",o.mode=16209}d>>>=2,f-=2;break;case 16193:for(d>>>=7&f,f-=7&f;32>f;){if(0===u)break e;u--,d+=s[c++]<<f,f+=8}if((65535&d)!=(d>>>16^65535)){e.msg="invalid stored block lengths",o.mode=16209;break}if(o.length=65535&d,f=d=0,o.mode=16194,t===Xn)break e;case 16194:o.mode=16195;case 16195:if(m=o.length){if(m>u&&(m=u),m>l&&(m=l),0===m)break e;a.set(s.subarray(c,c+m),r),u-=m,c+=m,l-=m,r+=m,o.length-=m;break}o.mode=16191;break;case 16196:for(;14>f;){if(0===u)break e;u--,d+=s[c++]<<f,f+=8}if(o.nlen=257+(31&d),d>>>=5,f-=5,o.ndist=1+(31&d),d>>>=5,f-=5,o.ncode=4+(15&d),d>>>=4,f-=4,286<o.nlen||30<o.ndist){e.msg="too many length or distance symbols",o.mode=16209;break}o.have=0,o.mode=16197;case 16197:for(;o.have<o.ncode;){for(;3>f;){if(0===u)break e;u--,d+=s[c++]<<f,f+=8}o.lens[i[o.have++]]=7&d,d>>>=3,f-=3}for(;19>o.have;)o.lens[i[o.have++]]=0;if(o.lencode=o.lendyn,o.lenbits=7,m={bits:o.lenbits},p=Kn(0,o.lens,0,19,o.lencode,0,o.work,m),o.lenbits=m.bits,p){e.msg="invalid code lengths set",o.mode=16209;break}o.have=0,o.mode=16198;case 16198:for(;o.have<o.nlen+o.ndist;){for(;;){var _=o.lencode[d&(1<<o.lenbits)-1];if(m=_>>>24,_&=65535,m<=f)break;if(0===u)break e;u--,d+=s[c++]<<f,f+=8}if(16>_)d>>>=m,f-=m,o.lens[o.have++]=_;else{if(16===_){for(h=m+2;f<h;){if(0===u)break e;u--,d+=s[c++]<<f,f+=8}if(d>>>=m,f-=m,0===o.have){e.msg="invalid bit length repeat",o.mode=16209;break}h=o.lens[o.have-1],m=3+(3&d),d>>>=2,f-=2}else if(17===_){for(h=m+3;f<h;){if(0===u)break e;u--,d+=s[c++]<<f,f+=8}f-=m,h=0,m=3+(7&(d>>>=m)),d>>>=3,f-=3}else{for(h=m+7;f<h;){if(0===u)break e;u--,d+=s[c++]<<f,f+=8}f-=m,h=0,m=11+(127&(d>>>=m)),d>>>=7,f-=7}if(o.have+m>o.nlen+o.ndist){e.msg="invalid bit length repeat",o.mode=16209;break}for(;m--;)o.lens[o.have++]=h}}if(16209===o.mode)break;if(0===o.lens[256]){e.msg="invalid code -- missing end-of-block",o.mode=16209;break}if(o.lenbits=9,m={bits:o.lenbits},p=Kn(1,o.lens,0,o.nlen,o.lencode,0,o.work,m),o.lenbits=m.bits,p){e.msg="invalid literal/lengths set",o.mode=16209;break}if(o.distbits=6,o.distcode=o.distdyn,m={bits:o.distbits},p=Kn(2,o.lens,o.nlen,o.ndist,o.distcode,0,o.work,m),o.distbits=m.bits,p){e.msg="invalid distances set",o.mode=16209;break}if(o.mode=16199,t===Xn)break e;case 16199:o.mode=16200;case 16200:if(6<=u&&258<=l){e.next_out=r,e.avail_out=l,e.next_in=c,e.avail_in=u,o.hold=d,o.bits=f;var w=e,y=w.state,b=w.next_in;a=w.input;var k=b+(w.avail_in-5),C=w.next_out;s=w.output;var E=C-(g-w.avail_out),T=C+(w.avail_out-257),S=y.dmax;_=y.wsize;var A=y.whave,R=y.wnext,I=y.window;h=y.hold,m=y.bits,f=y.lencode,d=y.distcode,l=(1<<y.lenbits)-1,u=(1<<y.distbits)-1;t:do{15>m&&(h+=a[b++]<<m,m+=8,h+=a[b++]<<m,m+=8);var N=f[h&l];n:for(;;){if(h>>>=r=N>>>24,m-=r,0===(r=N>>>16&255))s[C++]=65535&N;else{if(!(16&r)){if(64&r){32&r?y.mode=16191:(w.msg="invalid literal/length code",y.mode=16209);break t}N=f[(65535&N)+(h&(1<<r)-1)];continue n}for(c=65535&N,(r&=15)&&(m<r&&(h+=a[b++]<<m,m+=8),c+=h&(1<<r)-1,h>>>=r,m-=r),15>m&&(h+=a[b++]<<m,m+=8,h+=a[b++]<<m,m+=8),N=d[h&u];;){if(h>>>=r=N>>>24,m-=r,16&(r=N>>>16&255)){var x=65535&N;if(m<(r&=15)&&(h+=a[b++]<<m,(m+=8)<r&&(h+=a[b++]<<m,m+=8)),(x+=h&(1<<r)-1)>S){w.msg="invalid distance too far back",y.mode=16209;break t}if(h>>>=r,m-=r,x>(r=C-E)){if((r=x-r)>A&&y.sane){w.msg="invalid distance too far back",y.mode=16209;break t}var O=0;if(N=I,0===R){if(O+=_-r,r<c){c-=r;do{s[C++]=I[O++]}while(--r);O=C-x,N=s}}else if(R<r){if(O+=_+R-r,(r-=R)<c){c-=r;do{s[C++]=I[O++]}while(--r);if(O=0,R<c){c-=r=R;do{s[C++]=I[O++]}while(--r);O=C-x,N=s}}}else if(O+=R-r,r<c){c-=r;do{s[C++]=I[O++]}while(--r);O=C-x,N=s}for(;2<c;)s[C++]=N[O++],s[C++]=N[O++],s[C++]=N[O++],c-=3;c&&(s[C++]=N[O++],1<c&&(s[C++]=N[O++]))}else{O=C-x;do{s[C++]=s[O++],s[C++]=s[O++],s[C++]=s[O++],c-=3}while(2<c);c&&(s[C++]=s[O++],1<c&&(s[C++]=s[O++]))}break}if(64&r){w.msg="invalid distance code",y.mode=16209;break t}N=d[(65535&N)+(h&(1<<r)-1)]}}break}}while(b<k&&C<T);b-=c=m>>3,m-=c<<3,w.next_in=b,w.next_out=C,w.avail_in=b<k?k-b+5:5-(b-k),w.avail_out=C<T?T-C+257:257-(C-T),y.hold=h&(1<<m)-1,y.bits=m,r=e.next_out,a=e.output,l=e.avail_out,c=e.next_in,s=e.input,u=e.avail_in,d=o.hold,f=o.bits,16191===o.mode&&(o.back=-1);break}for(o.back=0;m=(_=o.lencode[d&(1<<o.lenbits)-1])>>>24,h=_>>>16&255,_&=65535,!(m<=f);){if(0===u)break e;u--,d+=s[c++]<<f,f+=8}if(h&&!(240&h)){for(I=m,R=h,A=_;m=(_=o.lencode[A+((d&(1<<I+R)-1)>>I)])>>>24,h=_>>>16&255,_&=65535,!(I+m<=f);){if(0===u)break e;u--,d+=s[c++]<<f,f+=8}d>>>=I,f-=I,o.back+=I}if(d>>>=m,f-=m,o.back+=m,o.length=_,0===h){o.mode=16205;break}if(32&h){o.back=-1,o.mode=16191;break}if(64&h){e.msg="invalid literal/length code",o.mode=16209;break}o.extra=15&h,o.mode=16201;case 16201:if(o.extra){for(h=o.extra;f<h;){if(0===u)break e;u--,d+=s[c++]<<f,f+=8}o.length+=d&(1<<o.extra)-1,d>>>=o.extra,f-=o.extra,o.back+=o.extra}o.was=o.length,o.mode=16202;case 16202:for(;m=(_=o.distcode[d&(1<<o.distbits)-1])>>>24,h=_>>>16&255,_&=65535,!(m<=f);){if(0===u)break e;u--,d+=s[c++]<<f,f+=8}if(!(240&h)){for(I=m,R=h,A=_;m=(_=o.distcode[A+((d&(1<<I+R)-1)>>I)])>>>24,h=_>>>16&255,_&=65535,!(I+m<=f);){if(0===u)break e;u--,d+=s[c++]<<f,f+=8}d>>>=I,f-=I,o.back+=I}if(d>>>=m,f-=m,o.back+=m,64&h){e.msg="invalid distance code",o.mode=16209;break}o.offset=_,o.extra=15&h,o.mode=16203;case 16203:if(o.extra){for(h=o.extra;f<h;){if(0===u)break e;u--,d+=s[c++]<<f,f+=8}o.offset+=d&(1<<o.extra)-1,d>>>=o.extra,f-=o.extra,o.back+=o.extra}if(o.offset>o.dmax){e.msg="invalid distance too far back",o.mode=16209;break}o.mode=16204;case 16204:if(0===l)break e;if(m=g-l,o.offset>m){if((m=o.offset-m)>o.whave&&o.sane){e.msg="invalid distance too far back",o.mode=16209;break}m>o.wnext?(m-=o.wnext,h=o.wsize-m):h=o.wnext-m,m>o.length&&(m=o.length),I=o.window}else I=a,h=r-o.offset,m=o.length;m>l&&(m=l),l-=m,o.length-=m;do{a[r++]=I[h++]}while(--m);0===o.length&&(o.mode=16200);break;case 16205:if(0===l)break e;a[r++]=o.length,l--,o.mode=16200;break;case 16206:if(o.wrap){for(;32>f;){if(0===u)break e;u--,d|=s[c++]<<f,f+=8}if(g-=l,e.total_out+=g,o.total+=g,4&o.wrap&&g&&(e.adler=o.check=o.flags?Ut(o.check,a,g,r-g):Dt(o.check,a,g,r-g)),g=l,4&o.wrap&&(o.flags?d:ri(d))!==o.check){e.msg="incorrect data check",o.mode=16209;break}f=d=0}o.mode=16207;case 16207:if(o.wrap&&o.flags){for(;32>f;){if(0===u)break e;u--,d+=s[c++]<<f,f+=8}if(4&o.wrap&&d!==(4294967295&o.total)){e.msg="incorrect length check",o.mode=16209;break}f=d=0}o.mode=16208;case 16208:p=Qn;break e;case 16209:p=ti;break e;case 16210:return ni;default:return ei}return e.next_out=r,e.avail_out=l,e.next_in=c,e.avail_in=u,o.hold=d,o.bits=f,(o.wsize||g!==e.avail_out&&16209>o.mode&&(16206>o.mode||t!==Wn))&&fi(e,e.output,e.next_out,g-e.avail_out),v-=e.avail_in,g-=e.avail_out,e.total_in+=v,e.total_out+=g,o.total+=g,4&o.wrap&&g&&(e.adler=o.check=o.flags?Ut(o.check,a,g,e.next_out-g):Dt(o.check,a,g,e.next_out-g)),e.data_type=o.bits+(o.last?64:0)+(16191===o.mode?128:0)+(16199===o.mode||16194===o.mode?256:0),(0===v&&0===g||t===Wn)&&p===Yn&&(p=ii),p},inflateEnd:function(e){if(ai(e))return ei;var t=e.state;return t.window&&(t.window=null),e.state=null,Yn},inflateGetHeader:function(e,t){return ai(e)?ei:2&(e=e.state).wrap?(e.head=t,t.done=!1,Yn):ei},inflateSetDictionary:function(e,t){var n=t.length;if(ai(e))return ei;var i=e.state;if(0!==i.wrap&&16190!==i.mode)return ei;if(16190===i.mode&&Dt(1,t,n,0)!==i.check)return ti;return fi(e,t,n,n)?(i.mode=16210,ni):(i.havedict=1,Yn)},inflateInfo:"pako inflate (from Nodeca project)"},gi=function(){this.os=this.xflags=this.time=this.text=0,this.extra=null,this.extra_len=0,this.comment=this.name="",this.hcrc=0,this.done=!1},pi=Object.prototype.toString,hi=Gt.Z_NO_FLUSH,mi=Gt.Z_FINISH,_i=Gt.Z_OK,wi=Gt.Z_STREAM_END,yi=Gt.Z_NEED_DICT,bi=Gt.Z_STREAM_ERROR,ki=Gt.Z_DATA_ERROR,Ci=Gt.Z_MEM_ERROR;z.prototype.push=function(e,t){var n=this.strm,i=this.options.chunkSize,o=this.options.dictionary;if(this.ended)return!1;var r=t===~~t?t:!0===t?mi:hi;for("[object ArrayBuffer]"===pi.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),(t=vi.inflate(n,r))===yi&&o&&((t=vi.inflateSetDictionary(n,o))===_i?t=vi.inflate(n,r):t===ki&&(t=yi));0<n.avail_in&&t===wi&&0<n.state.wrap&&0!==e[n.next_in];)vi.inflateReset(n),t=vi.inflate(n,r);switch(t){case bi:case ki:case yi:case Ci:return this.onEnd(t),this.ended=!0,!1}var a=n.avail_out;if(n.next_out&&(0===n.avail_out||t===wi))if("string"===this.options.to){var l=In.utf8border(n.output,n.next_out),c=n.next_out-l,s=In.buf2string(n.output,l);n.next_out=c,n.avail_out=i-c,c&&n.output.set(n.output.subarray(l,l+c),0),this.onData(s)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(t!==_i||0!==a){if(t===wi){t=vi.inflateEnd(this.strm),this.onEnd(t),this.ended=!0;break}if(0===n.avail_in)break}}return!0},z.prototype.onData=function(e){this.chunks.push(e)},z.prototype.onEnd=function(e){e===_i&&(this.result="string"===this.options.to?this.chunks.join(""):Tn.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Ei,Ti={Deflate:D,deflate:P,deflateRaw:function(e,t){return(t=t||{}).raw=!0,P(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,P(e,t)},Inflate:z,inflate:G,inflateRaw:function(e,t){return(t=t||{}).raw=!0,G(e,t)},ungzip:G,constants:Gt};!function(e){e.BRAND="DeviceBrand",e.MANUFACTURER="DeviceManufacturer",e.MODEL="DeviceModel",e.TYPE="DeviceType",e.VERSION="DeviceVersion",e.OS_NAME="OperatingSystemName",e.OS_VERSION="OperatingSystemVersion",e.CATEGORY="DeviceCategory",e.FRAMEWORK_NAME="FrameworkName",e.FRAMEWORK_VERSION="FrameworkVersion"}(Ei||(Ei={}));var Si,Ai,Ri={DeviceType:{CONSOLE:"Console",DESKTOP:"DESKTOP",MOBILE:"Mobile",SETTOP:"Settop",SMARTTV:"SmartTV",TABLET:"Tablet",VEHICLE:"Vehicle",OTHER:"Other"},DeviceCategory:{ANDROID_DEVICE:"AND",APPLE_DEVICE:"APL",CHROMECAST:"CHR",DESKTOP_APP:"DSKAPP",DEVICE_SIMULATOR:"SIMULATOR",KAIOS_DEVICE:"KAIOS",LG_TV:"LGTV",LINUX:"LNX",NINTENDO:"NINTENDO",PLAYSTATION:"PS",ROKU:"RK",SAMSUNG_TV:"SAMSUNGTV",VIDAA_DEVICE:"VIDAA",VIZIO_TV:"VIZIOTV",WEB:"WEB",WINDOWS_DEVICE:"WIN",XBOX:"XB"}};!function(e){var t,n,i,o;e.TRACEPARENT_HEADER_KEY="traceparent",(i=n=e.SAMPLING_MODES||(e.SAMPLING_MODES={})).NONE="NONE",i.RCFG="RCFG",function(e){e.DERIVED="DERIVED",e.DEFAULT="DEFAULT"}(e.SAMPLING_STATUS||(e.SAMPLING_STATUS={})),function(e){e.SAMPLED="sl",e.NON_SAMPLED="nsl"}(o=e.SAMPLING_ACTION||(e.SAMPLING_ACTION={})),e.DEFAULT_SAMPLING_ACTION=((t={})[o.SAMPLED]=n.RCFG,t[o.NON_SAMPLED]=n.NONE,t),function(e){e.DEFAULT="def",e.CACHED="cac",e.REMOTE="rem"}(e.CONFIG_SOURCE||(e.CONFIG_SOURCE={})),function(e){e[e.APP=0]="APP",e[e.REMOTE=1]="REMOTE",e[e.MERGE=2]="MERGE"}(e.CONFIG_PREFERENCES||(e.CONFIG_PREFERENCES={})),function(e){e[e.DISABLED=0]="DISABLED",e[e.PERFORMANCE_TIMING=1]="PERFORMANCE_TIMING",e[e.PERFORMANCE_NAVIGATION_TIMING=2]="PERFORMANCE_NAVIGATION_TIMING"}(e.PERFORMANCE_CONTEXT||(e.PERFORMANCE_CONTEXT={})),function(e){e.DO_NOT_FETCH_UPDATE_TIMER="updateTimer",e.IMMEDIATE_FETCH="urgentFetch",e.UPDATE_TIMER_WITH_DIFF="checkDiff"}(e.RC_FETCH_MODE||(e.RC_FETCH_MODE={})),e.REMOTE_CONFIG_STORAGE_KEY="ConvivaRemoteConfig",e.END_POINT_STORAGE_KEY="ConvivaEndpoint",e.DEFAULT_END_POINT="https://appgw.conviva.com",e.REMOTE_CONFIG_URL_PREFIX="https://rc.conviva.com/js/",e.REMOTE_CONFIG_FILE_NAME="/remote_config.json",e.SAMPLING_STORAGE_RANDOM_NUMBER_KEY="ConvivaSamplingRandomNumber",e.VISUAL_LABELLING_CONFIG="ConvivaVisualLabellingConfig",e.DIAGNOSTIC_INFO_MAX_LENGTH={MAX_MESSAGE_LENGTH:1024,MAX_STACK_LENGTH:2048,MAX_CLASSNAME_LENGTH:1024,MAX_EXCEPTION_NAME_LENGTH:1024},e.CLICK_KEY_MAX_LENGTH=1024,e.CLICK_DEBOUNCING_DELAY=300,e.CLICK_MAX_DEPTH=16,e.MAX_NATIVE_SCAN=16,e.MAX_NATIVE_SCAN_LEGACY=8,e.PAGE_URL_QUERY_PARAMS="pgq"}(Si||(Si={})),"function"==typeof AbortController&&(Ai=new AbortController);var Ii,Ni=null==Ai?void 0:Ai.signal;!function(e){e.response_body="rsb",e.request_body="rqb",e.response_headers="rsh",e.request_headers="rqh",e.request_query="rqq"}(Ii||(Ii={}));var xi,Oi=function(e){try{var t=void 0;return null!=e&&(t=e["content-type"]||e["Content-Type"]||e["Content-type"]),t}catch(e){}},Li={};!function(e){e.APPLICATION_BACKGROUND="abg",e.APPLICATION_ERROR="ae"}(xi||(xi={}));var Mi,Di={cacheRefreshInterval:30,base64:!1,lifecycleAutotracking:!0,exceptionAutotracking:!0,enablePeriodicHeartbeat:!0,periodicHeartbeatInterval:40,customEventTrackingConfiguration:{enabled:!0},networkRequestTrackingConfiguration:{blocklist:["*"]},traceparentconfig:{enabled:!1,pref:Si.CONFIG_PREFERENCES.MERGE,targetUrl:[]},performanceContextConfig:1,configurationVersion:-1,catRcLastUpdatedTs:0,endpoint:Si.DEFAULT_END_POINT,applicationContext:!0,maxLocalStorageQueueSize:10,emitterConfiguration:{batching:{enabled:!0,byteLimitPostInKB:250,batchingIntervalInSec:5,urgentEvents:[xi.APPLICATION_BACKGROUND,xi.APPLICATION_ERROR]}},enc:"gzip",mend:!0,di:{en:!1,lim:30},clickcc:{en:!0,cssSelectorList:'\n  [role="button"],\n  [data-role="button"],\n  li,\n  [class^="btn"],\n  [class*="click"],\n  [data-click],\n  [data-action],\n  [tabindex]:not([tabindex="-1"]),\n  [onclick],\n  [role="datepicker"],\n  [class*="datepicker"],\n  [class*="date-picker"],\n  [class*="mat-datepicker"],\n  [class*="ant-picker"],\n  [class*="v-date-picker"],\n  [class*="react-datepicker"],\n  [class*="ngx-datepicker"],\n  [data-ng-click],\n  [ng-click],\n  [v-on\\:click],\n  [\\@click],\n  [data-test-id*="click"],\n  [data-testid*="button"],\n  [class*="-btn"],\n  [class*="-button"],\n  [class*="mat-button"],\n  [class*="v-btn"],\n  [class*="v-icon-button"],\n  [data-listener-count-click],\n  [class*="Button"]\n',uiMode:"closest"},collectionRateLimit:{exceptionAutotracking:{maxEvents:20,timeWindow:1e3,disconnectDuration:2e3}},evtStreamTrackingConfiguration:{enabled:!1,collect:[],block:[],conditionalCollectAttr:[]}},Pi="cws.conviva.com /wsg /ctp remote_config pings.conviva.com .m3u8 .mpd .ism .m4 .mp4 .ts .png .jpg .jpeg .bmp google-analytics.com googlesyndication.com googleapis stats.g.doubleclick chartbeat.com omtrdc.net app-measurement.com firebase nr-data.net newrelic bitmovin.com/impression bitmovin.com/analytics api.segment.io youbora hotjar mixpanel.com clevertap auryc .aac .vtt .googlevideo webp appsflyer facebook dynatrace mparticle npaw .pdf bookkeeper kochava mp3 marketingcloudapis demdex scorecardresearch lura.live perimeterx.net permutive.app segment.com vaicore.site boomtrain ketchcdn qualtrics .svg amplitude datadoghq branch.io hotjar splunkcloud".split(" ");!function(e){e.NONE="none",e.GZIP="gzip"}(Mi||(Mi={}));var Ui,zi,Gi=function(e){var t={};return e.trim().split(/[\r\n]+/).forEach((function(e){var n=(e=e.split(":"))[1];t[e[0].trim()]=null==n?void 0:n.trim()})),t},Bi=function(e){var t={};return e.forEach((function(e,n){t[n]=e})),t},qi=["/ctp","/wsg","remote_config","rc.conviva.com","pings.conviva.com"];!function(e){e[e.NETWORK_REQUEST=0]="NETWORK_REQUEST",e[e.CUSTOM_EVENT=1]="CUSTOM_EVENT",e[e.SSE_EVENT=2]="SSE_EVENT"}(zi||(zi={}));var Fi,Hi,ji,Vi,Zi,Ki=0,Wi=0,Ji=Si.CONFIG_SOURCE.DEFAULT,Xi=0,Yi=!1,Qi=null,$i=null,eo=0,to='\n  button,\n  a,\n  select,\n  textarea,\n  input:not([type="hidden"]),\n  summary,\n  video,\n  audio\n'.replace(/\s+/g,"")||"",no='\n[class*="card"]\n'.replace(/\s+/g,"")||"",io="undefined"!=typeof window&&null!==window&&void 0!==window&&window.localStorage?localStorage.getItem(Si.REMOTE_CONFIG_STORAGE_KEY):null,oo=io?null===(Hi=null===(Fi=JSON.parse(io).clickcc)||void 0===Fi?void 0:Fi.cssSelectorList)||void 0===Hi?void 0:Hi.replace(/\s+/g,""):null===(ji=Di.clickcc)||void 0===ji?void 0:ji.cssSelectorList;!function(e){e.BOTH="both",e.CLOSEST="closest",e.RAW="raw"}(Zi||(Zi={})),"undefined"!=typeof Element&&Element.prototype&&!Element.prototype.closest&&(Element.prototype.closest=function(e){try{for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}}catch(e){tt.warn("Conviva App Tracker caused Exception in closest polyfill method of user click tracking module",e)}return null});var ro,ao,lo,co,so,uo=function(e){this.cacheRefreshInterval=e.cacheRefreshInterval,this.base64=e.base64,this.corePlugins=e.corePlugins,this.callback=e.callback,this.lifecycleAutotracking=e.lifecycleAutotracking,this.exceptionAutotracking=e.exceptionAutotracking,this.enablePeriodicHeartbeat=e.enablePeriodicHeartbeat,this.periodicHeartbeatInterval=e.periodicHeartbeatInterval,this.enc=e.enc,this.maxLocalStorageQueueSize=e.maxLocalStorageQueueSize,this.maxPostBytes=e.maxPostBytes,this.maxGetBytes=e.maxGetBytes,this.bufferSize=e.bufferSize,this.customEventTrackingConfiguration=e.customEventTrackingConfiguration,this.networkRequestTrackingConfiguration=e.networkRequestTrackingConfiguration,this.traceparentconfig=e.traceparentconfig,this.metaTagsTrackingConfiguration=e.metaTagsTrackingConfiguration,this.performanceContextConfig=e.performanceContextConfig,this.mend=e.mend,this.configurationVersion=e.configurationVersion,this.catRcLastUpdatedTs=e.catRcLastUpdatedTs,this.endpoint=e.endpoint,this.emitterConfiguration=e.emitterConfiguration,this.controlIngestConfig=e.controlIngestConfig,this.applicationContext=e.applicationContext,this.di=e.di,this.clickcc=e.clickcc,this.collectionRateLimit=e.collectionRateLimit,this.pageUrlTrackingConfig=e.pageUrlTrackingConfig,this.evtStreamTrackingConfiguration=e.evtStreamTrackingConfiguration},fo=function(){function e(){this.cacheRefreshInterval=Di.cacheRefreshInterval,this.base64=Di.base64,this.lifecycleAutotracking=Di.lifecycleAutotracking,this.exceptionAutotracking=Di.exceptionAutotracking,this.enablePeriodicHeartbeat=Di.enablePeriodicHeartbeat,this.periodicHeartbeatInterval=Di.periodicHeartbeatInterval,this.customEventTrackingConfiguration=De({},Di.customEventTrackingConfiguration),this.networkRequestTrackingConfiguration=De({},Di.networkRequestTrackingConfiguration),this.traceparentconfig=De({},Di.traceparentconfig),this.performanceContextConfig=Di.performanceContextConfig,this.configurationVersion=Di.configurationVersion,this.catRcLastUpdatedTs=Di.catRcLastUpdatedTs,this.endpoint=Di.endpoint,this.emitterConfiguration=Di.emitterConfiguration,this.applicationContext=Di.applicationContext,this.enc=Di.enc,this.mend=Di.mend,this.di=De({},Di.di),this.clickcc=De({},Di.clickcc),this.collectionRateLimit=De({},Di.collectionRateLimit),this.evtStreamTrackingConfiguration=De({},Di.evtStreamTrackingConfiguration)}return e.prototype.setCacheRefreshInterval=function(e){return this.cacheRefreshInterval="number"==typeof e&&1<=e&&q(e)?e:Di.cacheRefreshInterval,this},e.prototype.setBase64=function(e){return"boolean"==typeof e&&(this.base64=e),this},e.prototype.setCorePlugins=function(e){return e&&(this.corePlugins=e),this},e.prototype.setCallback=function(e){return e&&(this.callback=e),this},e.prototype.setLifecycleAutotracking=function(e){return"boolean"==typeof e&&(this.lifecycleAutotracking=e),this},e.prototype.setExceptionAutotracking=function(e){return"boolean"==typeof e&&(this.exceptionAutotracking=e),this},e.prototype.setEnablePeriodicHeartbeat=function(e){return"boolean"==typeof e&&(this.enablePeriodicHeartbeat=e),this},e.prototype.setPeriodicHeartbeatInterval=function(e){return"number"==typeof e&&1<=e&&(this.periodicHeartbeatInterval=~~e),this},e.prototype.setEnc=function(e,t){return"string"==typeof e&&Object.values(Mi).includes(e)?this.enc=e:t&&"string"==typeof t&&Object.values(Mi).includes(t)?this.enc=t:this.enc=Di.enc,this},e.prototype.setMaxLocalStorageQueueSize=function(e){return"number"==typeof e&&(this.maxLocalStorageQueueSize=e),this},e.prototype.setMaxGetBytes=function(e){return"number"==typeof e&&(this.maxGetBytes=e),this},e.prototype.setBufferSize=function(e){return"number"==typeof e&&(this.bufferSize=e),this},e.prototype.setCustomEventTrackingConfiguration=function(e){return e&&(this.customEventTrackingConfiguration=e),this},e.prototype.setEmitterConfiguration=function(e){return void 0!==e&&(void 0!==e.batching.enabled&&(this.emitterConfiguration.batching.enabled=e.batching.enabled),void 0!==e.batching.batchingIntervalInSec&&0<e.batching.batchingIntervalInSec&&(this.emitterConfiguration.batching.batchingIntervalInSec=e.batching.batchingIntervalInSec),"undefined"!=e.batching.byteLimitPostInKB&&0<e.batching.byteLimitPostInKB&&(this.emitterConfiguration.batching.byteLimitPostInKB=e.batching.byteLimitPostInKB),void 0!==e.batching.urgentEvents&&(this.emitterConfiguration.batching.urgentEvents=e.batching.urgentEvents)),this},e.prototype.setNetworkRequestTrackingConfiguration=function(e,t,n){return e&&(this.networkRequestTrackingConfiguration=e,t&&(this.networkRequestTrackingConfiguration.blocklist||(this.networkRequestTrackingConfiguration.blocklist=[]),n&&this.networkRequestTrackingConfiguration.blocklist.push(n),this.networkRequestTrackingConfiguration.blocklist=this.networkRequestTrackingConfiguration.blocklist.concat(Pi))),this},e.prototype.setTraceparentconfig=function(e){return e&&(this.traceparentconfig=e),this},e.prototype.setMetaTagsTrackingConfiguration=function(e){return e&&(this.metaTagsTrackingConfiguration=e),this},e.prototype.setPerformanceContextConfig=function(e){return"number"==typeof e&&(this.performanceContextConfig=e),this},e.prototype.setMend=function(e,t){return"boolean"==typeof e?this.mend=e:"boolean"==typeof t&&(this.mend=t),this},e.prototype.setConfigurationVersion=function(e){return"number"==typeof e&&(this.configurationVersion=e),this},e.prototype.setCatRcLastUpdatedTs=function(e){return"number"==typeof e&&(this.catRcLastUpdatedTs=e),this},e.prototype.setEndPoint=function(e,t,n){return"string"==typeof n&&0<n.trim().length?this.endpoint=n:"string"==typeof e&&0<e.trim().length?this.endpoint=e:t&&"string"==typeof t&&0<t.trim().length?this.endpoint=t:this.endpoint=Di.endpoint,this},e.prototype.setcontrolIngestConfig=function(e){return void 0!==e?this.controlIngestConfig=e:$(),this},e.prototype.setApplicationContext=function(e){return void 0!==e&&(this.applicationContext=e),this},e.prototype.setDi=function(e){return void 0!==e&&(this.di=De(De({},this.di),e)),this},e.prototype.setClickcc=function(e){var t,n;return void 0!==e&&("boolean"==typeof e.en&&(this.clickcc.en=e.en),e.cssSelectorList&&0<e.cssSelectorList.trim().length&&(this.clickcc.cssSelectorList=e.cssSelectorList),"string"==typeof e.uiMode&&Object.values(Zi).includes(e.uiMode)&&(this.clickcc.uiMode=e.uiMode),void 0!==e.block&&(this.clickcc.block=e.block),void 0!==e.collect&&(this.clickcc.collect=e.collect),void 0!==e.collectattr&&(this.clickcc.collectattr=e.collectattr)),"boolean"==typeof(null===(t=null==this?void 0:this.clickcc)||void 0===t?void 0:t.en)&&!0===(null===(n=null==this?void 0:this.clickcc)||void 0===n?void 0:n.en)?Ce():Ee(),this},e.prototype.setCollectionRateLimit=function(e){return null!=e&&(this.collectionRateLimit=De(De({},this.collectionRateLimit),e)),this},e.prototype.setPageUrlTrackingConfig=function(e){return this.pageUrlTrackingConfig=void 0!==e?e:null,this},e.prototype.setEvtStreamTrackingConfiguration=function(e){return void 0!==e&&("boolean"==typeof e.enabled&&(this.evtStreamTrackingConfiguration.enabled=e.enabled),void 0!==e.block&&(this.evtStreamTrackingConfiguration.block=e.block),void 0!==e.collect&&(this.evtStreamTrackingConfiguration.collect=e.collect),void 0!==e.conditionalCollectAttr&&(this.evtStreamTrackingConfiguration.conditionalCollectAttr=e.conditionalCollectAttr)),this},e.prototype.build=function(){return new uo(this)},e}(),vo=!1,go=null,po=0,ho=!1,mo=function(e,t,n){var i,o,r,a,l,c={},s={};if("undefined"!=typeof window&&null!==window&&void 0!==window&&window.localStorage)try{localStorage.removeItem(Si.END_POINT_STORAGE_KEY),(l=localStorage.getItem(Si.REMOTE_CONFIG_STORAGE_KEY))?Ji=Si.CONFIG_SOURCE.CACHED:l=JSON.stringify(s)}catch(e){l=JSON.stringify(s),ho=!0;var u={className:"fetchRemoteConfig - localstorage",error:e,configAppliedSrc:Ji,configAppliedTime:Xi};setTimeout((function(){we(Ui,null==ao?void 0:ao.getSamplingMode,u)}),0),tt.warn("Issue while fetching data from local storage")}else l=JSON.stringify(s);try{c=JSON.parse(l)}catch(e){ho=!0;var d={className:"fetchRemoteConfig - parsing cached data",error:e,configAppliedSrc:Ji,configAppliedTime:Xi};setTimeout((function(){we(Ui,null==ao?void 0:ao.getSamplingMode,d)}),0),tt.warn("Issue while parsing storedConvivaRemoteConfig")}s=(new fo).setBase64(null==c?void 0:c.base64).setCacheRefreshInterval(null==c?void 0:c.cacheRefreshInterval).setLifecycleAutotracking(null==c?void 0:c.lifecycleAutotracking).setExceptionAutotracking(null==c?void 0:c.exceptionAutotracking).setEnablePeriodicHeartbeat(null==c?void 0:c.enablePeriodicHeartbeat).setPeriodicHeartbeatInterval(null==c?void 0:c.periodicHeartbeatInterval).setEnc(null==c?void 0:c.enc,null===(o=null===(i=null==n?void 0:n.configs)||void 0===i?void 0:i.network)||void 0===o?void 0:o.encoding).setMaxLocalStorageQueueSize(null==c?void 0:c.maxLocalStorageQueueSize).setMaxGetBytes(null==c?void 0:c.maxGetBytes).setBufferSize(null==c?void 0:c.bufferSize).setCustomEventTrackingConfiguration(null==c?void 0:c.customEventTrackingConfiguration).setEndPoint(null==c?void 0:c.endpoint,n.gatewayUrl,n.proxyGatewayUrl).setNetworkRequestTrackingConfiguration(null==c?void 0:c.networkRequestTrackingConfiguration,!1).setMetaTagsTrackingConfiguration(null==c?void 0:c.metaTagsTrackingConfiguration).setTraceparentconfig(null==c?void 0:c.traceparentconfig).setMend(null==c?void 0:c.mend,null===(a=null===(r=null==n?void 0:n.configs)||void 0===r?void 0:r.network)||void 0===a?void 0:a.mergeEndpoint).setPerformanceContextConfig(null==c?void 0:c.performanceContextConfig).setConfigurationVersion(null==c?void 0:c.configurationVersion).setCatRcLastUpdatedTs(null==c?void 0:c.catRcLastUpdatedTs).setEmitterConfiguration(null==c?void 0:c.emitterConfiguration).setcontrolIngestConfig(null==c?void 0:c.controlIngestConfig).setApplicationContext(null==c?void 0:c.applicationContext).setDi(null==c?void 0:c.di).setClickcc(null==c?void 0:c.clickcc).setCollectionRateLimit(null==c?void 0:c.collectionRateLimit).setPageUrlTrackingConfig(null==c?void 0:c.pageUrlTrackingConfig).setEvtStreamTrackingConfiguration(null==c?void 0:c.evtStreamTrackingConfiguration).build(),i="Cached Config Applied",Ji===Si.CONFIG_SOURCE.DEFAULT&&(i="Default Config Applied"),Xi=(new Date).getTime();var f={message:i,className:"browserTrackerCore",configAppliedSrc:Ji,configAppliedTime:Xi};setTimeout((function(){we(Ui,null==ao?void 0:ao.getSamplingMode,f)}),0),e=e.split("js-")[1].split(" ")[0];var v=(n.proxyGatewayUrl?n.proxyGatewayUrl+"/js/":Si.REMOTE_CONFIG_URL_PREFIX)+n.convivaCustomerKey+"/"+e+Si.REMOTE_CONFIG_FILE_NAME;return window.XMLHttpRequest&&((ro=new XMLHttpRequest).onreadystatechange=function(){var e;try{if(4==ro.readyState)if(vo=!1,200==ro.status){var i={message:"Remote config request is successful - ".concat("number"==typeof ro.status?ro.status:""),className:"configtimerCallback - onreadystatechange",configAppliedSrc:Ji,configAppliedTime:Xi};we(Ui,null==ao?void 0:ao.getSamplingMode,i),po=0;var o=JSON.parse(ro.response);if(i=Ui,(null==o?void 0:o.configurationBundle[0].namespace)!==t)we(Ui,null==ao?void 0:ao.getSamplingMode,{message:"Remote Config not Applied due to a missing namespace",className:"updateRemoteConfig",configAppliedSrc:Ji,configAppliedTime:Xi});else{if(!o.hasOwnProperty("configurationVersion")||(null===(e=i.getConfig())||void 0===e?void 0:e.configurationVersion)===(null==o?void 0:o.configurationVersion)){var r=localStorage.getItem(Si.REMOTE_CONFIG_STORAGE_KEY);if(r)return(r=JSON.parse(r)).catRcLastUpdatedTs=(new Date).getTime(),window.localStorage&&(localStorage.removeItem(Si.REMOTE_CONFIG_STORAGE_KEY),localStorage.setItem(Si.REMOTE_CONFIG_STORAGE_KEY,JSON.stringify(r))),void we(Ui,null==ao?void 0:ao.getSamplingMode,{message:"Remote Config not Applied as same version is fetched",className:"updateRemoteConfig",configAppliedSrc:Ji,configAppliedTime:Xi})}s.catRcLastUpdatedTs=(new Date).getTime();var a=o.cri||o.cacheRefreshInterval||Di.cacheRefreshInterval;if(a=1>a?Di.cacheRefreshInterval:q(a)?a:Di.cacheRefreshInterval,s.cacheRefreshInterval!=a&&(s.cacheRefreshInterval=a,_o(s.cacheRefreshInterval,s.catRcLastUpdatedTs,n,v,Si.RC_FETCH_MODE.DO_NOT_FETCH_UPDATE_TIMER)),yo(o,s.catRcLastUpdatedTs,n)){var l=new Event("RemoteConfigUpdateApplied");null!==window&&void 0!==window&&window.dispatchEvent&&window.dispatchEvent(l)}}}else try{2>po&&window.setTimeout((function(){null!=n&&n.trackerConfigUrl?wo(null==n?void 0:n.trackerConfigUrl,!0):wo(v,!0)}),5e3*(po+1));var c={message:"Remote config request is not successful - ".concat("number"==typeof ro.status?ro.status:""),className:"configtimerCallback - onreadystatechange",configAppliedSrc:Ji,configAppliedTime:Xi};we(Ui,null==ao?void 0:ao.getSamplingMode,c),2<=po&&we(Ui,null==ao?void 0:ao.getSamplingMode,{message:"Remote config is not applied since failed to download remote config after 3 tries",className:"configtimerCallback - onreadystatechange",configAppliedSrc:Ji,configAppliedTime:Xi})}catch(e){}}catch(e){vo=!1,console.warn("Conviva App Tracker:: Error in fetching remote-config ".concat(e)),we(Ui,null==ao?void 0:ao.getSamplingMode,{className:"configtimerCallback - onreadystatechange",error:e,configAppliedSrc:Ji,configAppliedTime:Xi})}},_o(s.cacheRefreshInterval,s.catRcLastUpdatedTs,n,v,void 0!==ho&&!0===ho?Si.RC_FETCH_MODE.IMMEDIATE_FETCH:Si.RC_FETCH_MODE.UPDATE_TIMER_WITH_DIFF)),{convivaRemoteTrackerConfig:s}},_o=function(e,t,n,i,o){var r=n.trackerConfigUrl?n.trackerConfigUrl:i;if("number"==typeof go){window.clearInterval(go);var a={message:"Cancelling remote config timer",className:"updateRemoteConfig",extraData:{mode:o},configAppliedSrc:Ji,configAppliedTime:Xi};setTimeout((function(){we(Ui,null==ao?void 0:ao.getSamplingMode,a)}),0)}var l=function(){var t={message:"Starting remote config timer with delay of ".concat(60*e," seconds"),className:"updateRemoteConfig",configAppliedSrc:Ji,configAppliedTime:Xi};setTimeout((function(){we(Ui,null==ao?void 0:ao.getSamplingMode,t)}),0),go=window.setInterval(wo,6e4*e,r)};try{var c=t?((new Date).getTime()-t)/6e4:e;if(n=e-c,i=3*e/100,"string"==typeof o&&o===Si.RC_FETCH_MODE.DO_NOT_FETCH_UPDATE_TIMER)l();else if("string"==typeof o&&o===Si.RC_FETCH_MODE.UPDATE_TIMER_WITH_DIFF&&0<t&&n>i){window.setTimeout((function(){wo(r),l()}),6e4*n);var s={message:"Starting remote config timer with delay of ".concat(60*n," seconds"),className:"updateRemoteConfig",extraData:{mode:o},configAppliedSrc:Ji,configAppliedTime:Xi};setTimeout((function(){we(Ui,null==ao?void 0:ao.getSamplingMode,s)}),0)}else wo(r),l()}catch(e){console.warn("Conviva App Tracker:: Error in setting cacheRefreshIntervalTimer",e),wo(r),l();var u={className:"cacheRefreshIntervalTimer",error:e,configAppliedSrc:Ji,configAppliedTime:Xi};setTimeout((function(){we(Ui,null==ao?void 0:ao.getSamplingMode,u)}),0)}},wo=function(e,t){try{if("boolean"==typeof vo&&!1===vo){t?po++:po=0,ro.timeout=3e4,ro.open("GET",e,!0),vo=!0;var n={message:"Remote config fetch attempt",className:"updateRemoteConfig",configAppliedSrc:Ji,configAppliedTime:Xi};setTimeout((function(){we(Ui,null==ao?void 0:ao.getSamplingMode,n)}),0),ro.send()}}catch(e){vo=!1,tt.warn("Conviva App Tracker:: Error in configtimerCallback ".concat(e));var i={className:"configtimerCallback",error:e,configAppliedSrc:Ji,configAppliedTime:Xi};setTimeout((function(){we(Ui,null==ao?void 0:ao.getSamplingMode,i)}),0)}},yo=function(e,t,n){var i,o,r,a,l,c,s,u,d,f,v,g,p,h,m,_,w,y,b,k,C,E,T,S,A,R,I,N,x,O,L,M,D,P=Ui;try{var U=(new fo).setBase64(e.configurationBundle[0].trackerConfiguration.base64Encoding).setCacheRefreshInterval(e.cri||e.cacheRefreshInterval).setLifecycleAutotracking(null===(o=null===(i=e.configurationBundle[0])||void 0===i?void 0:i.trackerConfiguration)||void 0===o?void 0:o.lifecycleAutotracking).setExceptionAutotracking(null===(a=null===(r=e.configurationBundle[0])||void 0===r?void 0:r.trackerConfiguration)||void 0===a?void 0:a.exceptionAutotracking).setEnablePeriodicHeartbeat(null===(c=null===(l=e.configurationBundle[0])||void 0===l?void 0:l.trackerConfiguration)||void 0===c?void 0:c.enablePeriodicHeartbeat).setPeriodicHeartbeatInterval(null===(u=null===(s=e.configurationBundle[0])||void 0===s?void 0:s.trackerConfiguration)||void 0===u?void 0:u.periodicHeartbeatInterval).setEnc(null===(f=null===(d=e.configurationBundle[0])||void 0===d?void 0:d.networkConfiguration)||void 0===f?void 0:f.enc,null===(g=null===(v=null==n?void 0:n.configs)||void 0===v?void 0:v.network)||void 0===g?void 0:g.encoding).setMaxLocalStorageQueueSize(null===(h=null===(p=e.configurationBundle[0])||void 0===p?void 0:p.networkConfiguration)||void 0===h?void 0:h.maxLocalStorageQueueSize).setMaxGetBytes(null===(_=null===(m=e.configurationBundle[0])||void 0===m?void 0:m.networkConfiguration)||void 0===_?void 0:_.maxGetBytes).setBufferSize(null===(y=null===(w=e.configurationBundle[0])||void 0===w?void 0:w.networkConfiguration)||void 0===y?void 0:y.bufferSize).setCustomEventTrackingConfiguration(null===(b=e.configurationBundle[0])||void 0===b?void 0:b.customEventTrackingConfiguration).setEndPoint(null===(C=null===(k=e.configurationBundle[0])||void 0===k?void 0:k.networkConfiguration)||void 0===C?void 0:C.endpoint,n.gatewayUrl,n.proxyGatewayUrl).setNetworkRequestTrackingConfiguration(null===(E=e.configurationBundle[0])||void 0===E?void 0:E.networkRequestTrackingConfiguration,!0,null===(S=null===(T=e.configurationBundle[0])||void 0===T?void 0:T.networkConfiguration)||void 0===S?void 0:S.endpoint).setMetaTagsTrackingConfiguration(null===(A=e.configurationBundle[0])||void 0===A?void 0:A.metaTagsTrackingConfiguration).setTraceparentconfig(null===(R=e.configurationBundle[0])||void 0===R?void 0:R.traceparentconfig).setMend(null===(N=null===(I=e.configurationBundle[0])||void 0===I?void 0:I.networkConfiguration)||void 0===N?void 0:N.mend,null===(O=null===(x=null==n?void 0:n.configs)||void 0===x?void 0:x.network)||void 0===O?void 0:O.mergeEndpoint).setPerformanceContextConfig(null===(M=null===(L=e.configurationBundle[0])||void 0===L?void 0:L.trackerConfiguration)||void 0===M?void 0:M.perfCx).setConfigurationVersion(e.configurationVersion).setCatRcLastUpdatedTs(t).setEmitterConfiguration(e.configurationBundle[0].emitterConfiguration).setcontrolIngestConfig(e["ctrl-ingst"]).setApplicationContext(e.configurationBundle[0].trackerConfiguration.applicationContext).setDi(e.configurationBundle[0].di).setClickcc(e.configurationBundle[0].clickcc).setCollectionRateLimit(e.configurationBundle[0].collectionRateLimit).setPageUrlTrackingConfig(e.configurationBundle[0].pageUrlTrackingConfig).setEvtStreamTrackingConfiguration(e.configurationBundle[0].evtStreamTrackingConfiguration).build();Ji=Si.CONFIG_SOURCE.REMOTE,Xi=(new Date).getTime(),null==P||P.setConfig(U),e={message:"Remote Config Applied",className:"updateRemoteConfig - tracker",configAppliedSrc:Ji,configAppliedTime:Xi},we(Ui,null==ao?void 0:ao.getSamplingMode,e),null==ao||ao.setCollectorUrl(null===(D=null==P?void 0:P.getConfig())||void 0===D?void 0:D.endpoint,n.convivaCustomerKey);try{window.localStorage&&(localStorage.removeItem(Si.REMOTE_CONFIG_STORAGE_KEY),localStorage.setItem(Si.REMOTE_CONFIG_STORAGE_KEY,JSON.stringify(U)))}catch(e){we(Ui,null==ao?void 0:ao.getSamplingMode,{className:"updateRemoteConfig - localstorage",error:e,configAppliedSrc:Ji,configAppliedTime:Xi}),console.warn("Conviva: Error while saving remote-config to localstorage",e)}}catch(t){return e={className:"updateRemoteConfig - tracker",error:t,configAppliedSrc:Ji,configAppliedTime:Xi},we(Ui,null==ao?void 0:ao.getSamplingMode,e),console.warn("Conviva: Error while updating remote-config",t),!1}return!0},bo={idleMs:3e4,maxEvents:1e4,bufferMaxBytes:1e6},ko=function(){function t(e,t,n){var i;this.originalFetch=null===(i=null===window||void 0===window?void 0:window.fetch)||void 0===i?void 0:i.bind(window),this.sseCountStates=new Map,this.core=Ui,this.trackerMethods=e,this.trackerConfiguration=t,this.getSamplingMode=n,this.handleResponse=this.handleResponse.bind(this),this.addTraceparentHeader=this.addTraceparentHeader.bind(this)}return t.prototype.cleanupNetworkRequestHandler=function(){t.instance=null},t.getInstance=function(e,n,i){return t.instance||(t.instance=new t(e,n,i)),t.instance},t.prototype.initiateNetworkRequestTracking=function(){try{this.decorateXMLHttpRequest(),this.decorateFetch(),this.decorateWebSocket()}catch(e){console.warn("Conviva App Tracker:: Unable to track network request ".concat(e))}},t.prototype.decorateXMLHttpRequest=function(){var e=this,t=XMLHttpRequest.prototype.open,n=XMLHttpRequest.prototype.send,i=XMLHttpRequest.prototype.setRequestHeader;XMLHttpRequest.prototype.open=function(){for(var n=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return setTimeout((function(){try{n._conviva={method:i[0],url:e.normalizeUrl(i[1]),headers:{}}}catch(e){console.warn("Conviva App Tracker:: Unable to normalizeUrl while open ".concat(e))}}),0),t.apply(this,i)},XMLHttpRequest.prototype.setRequestHeader=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return setTimeout((function(){try{e._conviva&&(e._conviva.headers[t[0]]=t[1])}catch(e){console.warn("Conviva App Tracker:: while setRequestHeader ".concat(e))}}),0),i.apply(this,t)},XMLHttpRequest.prototype.send=function(){for(var t=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return setTimeout((function(){try{var n=t._conviva;if(n){var o=e.addTraceparentHeader(t,n.url,n.headers),r=e.createRequestDetails(n.method,n.url,n.headers,i[0],o);n=Ni,t.addEventListener("load",(function(){return e.handleResponse(t,r,"load")}),{signal:n}),t.addEventListener("error",(function(){return e.handleResponse(t,r,"error")}),{signal:n}),t.addEventListener("abort",(function(){return e.handleResponse(t,r,"abort")}),{signal:n}),t.addEventListener("timeout",(function(){return e.handleResponse(t,r,"timeout")}),{signal:n})}}catch(e){console.warn("Conviva App Tracker:: Unable to track network request while send ".concat(e))}}),0),n.apply(this,i)}},t.prototype.decorateFetch=function(){window.fetch=this.interceptFetch.bind(this)},t.prototype.interceptFetch=function(e,t){var o,r,a,l,c=this,s=null;if(e instanceof Request){var u=null==e?void 0:e.clone();try{var d=!1;null===(o=null==u?void 0:u.headers)||void 0===o||o.forEach((function(e,t){Si.TRACEPARENT_HEADER_KEY===t&&(d=!0)})),d||null!==(s=this.generateTraceparentHeader(u.url))&&""!==s&&u.headers.set(Si.TRACEPARENT_HEADER_KEY,s)}catch(e){console.warn("ConvivaAppTracker: Issue while adding traceparent header",e)}o=this.originalFetch(u)}else{try{if(t&&t.headers){var f=new Headers(t.headers),v=!1;f.forEach((function(e,t){Si.TRACEPARENT_HEADER_KEY===t&&(v=!0)})),v||null!==(s=this.generateTraceparentHeader(e))&&""!==s&&f.set(Si.TRACEPARENT_HEADER_KEY,s)}else f=new Headers,null!==(s=this.generateTraceparentHeader(e))&&""!==s&&f.set(Si.TRACEPARENT_HEADER_KEY,s),t||(t={});t.headers=f}catch(e){console.warn("ConvivaAppTracker: Issue while adding traceparent header",e)}o=this.originalFetch(e,t),u=new Request(e,t).clone()}try{e=void 0;try{e=Bi(u.headers)}catch(e){}f=void 0;try{f=null==t?void 0:t.body}catch(e){}var g={method:u.method,url:decodeURIComponent(u.url),headers:e,body:f,requestTimestamp:null===Date||void 0===Date?void 0:Date.now(),requestTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())};if(this.getSamplingMode()!==Si.SAMPLING_MODES.NONE){var p=this.core.getConfig().networkRequestTrackingConfiguration,h=this.core.getConfig().evtStreamTrackingConfiguration,m=p.blocklist,_=null===(l=null===(a=null===(r=this.trackerConfiguration)||void 0===r?void 0:r.configs)||void 0===a?void 0:a.networkRequestTracking)||void 0===l?void 0:l.safelist,w=p.collect,y=p.block;null!==s&&""!==s&&(g[Si.TRACEPARENT_HEADER_KEY]=s),o.then((function(e){try{var t=e.headers.get("content-type");if(h&&h.enabled&&t&&t.includes("text/event-stream")){var o=e.clone().body;o?function(e,t,o,r,a){var l,c,s;return void 0===r&&(r={}),n(this,void 0,void 0,(function(){var n,u,d,f,v,g,p,h,m,_,w,y,b,k,C;return i(this,(function(i){switch(i.label){case 0:n=null!==(l=r.idleMs)&&void 0!==l?l:3e4,u=null!==(c=r.maxEvents)&&void 0!==c?c:1e4,d=null!==(s=r.bufferMaxBytes)&&void 0!==s?s:1e6,f=e.getReader(),v=new TextDecoder("utf-8"),g="",p=0,h=void 0,(m=function(){void 0!==h&&(clearTimeout(h),h=void 0),h=setTimeout((function(){console.warn("Conviva App Tracker:: stream idle >",n,"ms  cancelling",t),f.cancel()}),n)})(),i.label=1;case 1:i.trys.push([1,5,6,7]),i.label=2;case 2:return[4,f.read()];case 3:if(_=i.sent(),w=_.value,_.done)return[3,4];if(m(),g+=v.decode(w,{stream:!0}),(new TextEncoder).encode(g).length>d)return console.warn("Conviva App Tracker:: SSE buffer exceeded",d,"bytes, cancelling stream",t),f.cancel(),[3,4];for(y=void 0;-1!==(y=g.search(/\r?\n\r?\n/));)if(b=g.slice(0,y).replace(/\s+$/,""),g=g.slice(y+2),(k=Te(b))&&(o(k),++p>=u)){console.warn("Conviva App Tracker:: event budget reached  cancelling",t),f.cancel();break}return[3,2];case 4:return[3,7];case 5:if(!((C=i.sent())instanceof DOMException&&"AbortError"===C.name))throw C;return[3,7];case 6:return clearTimeout(h),f.releaseLock(),a&&a(),[7];case 7:return[2]}}))}))}(o,u.url,(function(e){c.processSSEEvent(e,u.url)}),{idleMs:h.idleMs,maxEvents:h.maxEvents,bufferMaxBytes:h.bufferMaxBytes},(function(){c.cleanupSSECountState(u.url)})).catch((function(){})):console.warn("Conviva App Tracker:: Response body is null, cannot read as stream")}else if(p&&p.enabled){var r=fe(w,y,m,_,e,g);if(r){t=void 0;try{t=Bi(e.headers)}catch(e){}var a={status:null==e?void 0:e.status,statusText:""!==(null==e?void 0:e.statusText)?null==e?void 0:e.statusText:void 0,headers:t,size:0,responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())};e.clone().json().then((function(e){a.body=e,c.trackerMethods.trackNetworkRequest({requestDetails:g,responseDetails:a})})).catch((function(){c.trackerMethods.trackNetworkRequest({requestDetails:g,responseDetails:a})}))}}}catch(t){r=fe(w,y,m,_,e,g),p&&p.enabled&&r&&(e={statusText:t.toString(),responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())},c.trackerMethods.trackNetworkRequest({requestDetails:g,responseDetails:e}))}})).catch((function(e){var t=fe(w,y,m,_,null,g);p&&p.enabled&&t&&(e={statusText:e.toString(),responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())},c.trackerMethods.trackNetworkRequest({requestDetails:g,responseDetails:e}))}))}}catch(e){console.warn("Conviva App Tracker:: Unable to track network request while fetch interceptRequest ".concat(e))}return o},t.prototype.handleResponse=function(e,t,n){var i,o,r,a;try{if(this.getSamplingMode()!==Si.SAMPLING_MODES.NONE){var l=null===(i=this.core)||void 0===i?void 0:i.getConfig().networkRequestTrackingConfiguration,c=l.blocklist,s=null===(a=null===(r=null===(o=this.trackerConfiguration)||void 0===o?void 0:o.configs)||void 0===r?void 0:r.networkRequestTracking)||void 0===a?void 0:a.safelist,u=fe(l.collect,l.block,c,s,e,t);if(l&&l.enabled&&u){var d={status:e.status,statusText:e.statusText||("load"!==n?n:void 0),responseTimestamp:Date.now(),responseTime:performance.now()||Date.now(),headers:Gi(e.getAllResponseHeaders()),body:e.response};this.trackerMethods.trackNetworkRequest({requestDetails:t,responseDetails:d})}}}catch(e){tt.warn("Conviva App Tracker:: Unable to track network request error while handleResponse ".concat(e))}},t.prototype.decorateWebSocket=function(){function e(e){n?n.has(e)||(n.add(e),t.addWebSocketEventListeners(e)):e.__convivaWsTag__||(e.__convivaWsTag__=!0,t.addWebSocketEventListeners(e))}var t=this,n="undefined"!=typeof WeakSet?new WeakSet:null,i=WebSocket.prototype.send;WebSocket.prototype.send=function(n){try{"string"==typeof n&&t.handleWebSocketSend(n,this),e(this)}catch(e){tt.warn("Conviva WS tracking error:",e)}return i.apply(this,arguments)};var o=WebSocket;window.WebSocket=function(t,n){return e(t=new o(t,n)),t},window.WebSocket.prototype=o.prototype,Object.assign(window.WebSocket,o)},t.prototype.addWebSocketEventListeners=function(e){var t=this,n=Ni;e.addEventListener("message",(function(e){return t.handleWebSocketMessage(e)}),{signal:n}),e.addEventListener("open",(function(e){return t.handleWebSocketOpen(e)}),{signal:n}),e.addEventListener("close",(function(e){return t.handleWebSocketClose(e)}),{signal:n}),e.addEventListener("error",(function(e){return t.handleWebSocketError(e)}),{signal:n})},t.prototype.handleWebSocketOpen=function(e){try{var t={url:this.getWebSocketUrl(e.target),type:e.type,timestamp:Date.now()}}catch(n){t={data:e.data,url:e.target?this.getWebSocketUrl(e.target):void 0}}this.sendWebSocketEvent("open",t)},t.prototype.handleWebSocketClose=function(e){try{var t={url:this.getWebSocketUrl(e.target),type:e.type,code:e.code,reason:e.reason,wasClean:e.wasClean,timestamp:Date.now()}}catch(n){t={data:e.data,url:e.target?this.getWebSocketUrl(e.target):void 0}}this.sendWebSocketEvent("close",t)},t.prototype.handleWebSocketMessage=function(e){try{var t="string"==typeof e.data?JSON.parse(e.data):e.data;t.url=this.getWebSocketUrl(e.target)}catch(n){t={data:e.data,url:e.target?this.getWebSocketUrl(e.target):void 0}}this.sendWebSocketEvent("server",t)},t.prototype.handleWebSocketSend=function(e,t){try{var n="string"==typeof e?JSON.parse(e):e,i=this.getWebSocketUrl(t),o={url:i,type:n.type}}catch(r){o={url:i=this.getWebSocketUrl(t)},n={data:e}}this.sendWebSocketEvent("send",o,n)},t.prototype.handleWebSocketError=function(e){var t,n,i,o,r,a,l;try{var c={url:this.getWebSocketUrl(e.target),type:e.type,timestamp:Date.now(),readyState:this.getWebSocketReadyState(e.target),errorMessage:e.message||"WebSocket error occurred",errorType:(null===(t=e.error)||void 0===t?void 0:t.name)||"WebSocketError",errorCode:null===(n=e.error)||void 0===n?void 0:n.code,errorDetails:null===(i=e.error)||void 0===i?void 0:i.message,networkType:(null===(o=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===o?void 0:o.type)||"unknown",networkEffectiveType:(null===(r=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===r?void 0:r.effectiveType)||"unknown",networkDownlink:null===(a=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===a?void 0:a.downlink,networkRtt:null===(l=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===l?void 0:l.rtt,userAgent:null===navigator||void 0===navigator?void 0:navigator.userAgent}}catch(t){c={url:this.getWebSocketUrl(e.target),type:"error",timestamp:Date.now(),error:"Failed to process WebSocket error event: ".concat(t instanceof Error?t.message:String(t)),originalEvent:e}}this.sendWebSocketEvent("error",c)},t.prototype.sendWebSocketEvent=function(e,t,n){var i;void 0===n&&(n={});try{var o=null===(i=this.core.getConfig())||void 0===i?void 0:i.evtStreamTrackingConfiguration;if(null!=o&&o.enabled){var r=this.getSSECountState(t.url),a=De("send"===e?De(De({},t),n):De({},t),{event:e}),l=ve(o.collect,o.block,a,t.url);if(null!=l&&l.result){var c=null==l?void 0:l.matchedConfig;if(!0===(null==c?void 0:c.count)&&(r.tokenCount++,null==l||!l.shouldSend))return;var s={url:t.url,id:t.id,type:t.type,event:e};if(!0===(null==c?void 0:c.countReset)&&(0<r.tokenCount&&(s.tokenCount=r.tokenCount),this.resetSSECountState(t.url)),e="send"===e?n:t,o.conditionalCollectAttr&&0<o.conditionalCollectAttr.length){var u=ae(e,o.conditionalCollectAttr,t.url,ve);0<Object.keys(u).length&&(s=De(De({},s),u))}this.trackerMethods.trackSSEEvent({name:"conviva_ws_message",data:JSON.stringify(s)})}}}catch(e){}},t.prototype.getWebSocketUrl=function(t){try{if(t&&"object"===e(t)&&"url"in t)return t.url}catch(e){}},t.prototype.getWebSocketReadyState=function(t){try{if(t&&"object"===e(t)&&"readyState"in t)return t.readyState}catch(e){}},t.prototype.addTraceparentHeader=function(e,t,n){var i=null;return Si.TRACEPARENT_HEADER_KEY in n||(i=this.generateTraceparentHeader(t))&&e.setRequestHeader(Si.TRACEPARENT_HEADER_KEY,i),i},t.prototype.createRequestDetails=function(e,t,n,i,o){return e={method:e,url:t,headers:n,body:i,requestTimestamp:Date.now(),requestTime:performance.now()||Date.now()},o&&(e[Si.TRACEPARENT_HEADER_KEY]=o),e},t.prototype.normalizeUrl=function(e){if(e instanceof URL)return e.href;try{if("undefined"!=typeof document){var t=URL;if(document.baseURI)var n=document.baseURI;else{var i=document.querySelector("base");n=i&&i.href?i.href:document.location.href}return new t(e,n).href}}catch(e){}return e},t.prototype.generateTraceparentHeader=function(e){var t,n,i,r,a,l,c,s,u,d,f,v,g,p,h,m,_,w,y,b,k,C,E;try{if(this.core&&e){var T=this.core.getConfig(),S=Si.CONFIG_PREFERENCES.MERGE,A=[];switch(null!==(i=null===(n=null===(t=this.trackerConfiguration)||void 0===t?void 0:t.configs)||void 0===n?void 0:n.traceparentGeneration)&&void 0!==i&&i.force?S=Si.CONFIG_PREFERENCES.APP:null!==(r=null==T?void 0:T.traceparentconfig)&&void 0!==r&&r.pref&&(S=T.traceparentconfig.pref),S){case Si.CONFIG_PREFERENCES.APP:if(!1===(null===(c=null===(l=null===(a=this.trackerConfiguration)||void 0===a?void 0:a.configs)||void 0===l?void 0:l.traceparentGeneration)||void 0===c?void 0:c.enabled))return"";A=(null===(d=null===(u=null===(s=this.trackerConfiguration)||void 0===s?void 0:s.configs)||void 0===u?void 0:u.traceparentGeneration)||void 0===d?void 0:d.targetUrl)||[];break;case Si.CONFIG_PREFERENCES.REMOTE:if(!1===(null===(f=null==T?void 0:T.traceparentconfig)||void 0===f?void 0:f.enabled))return"";A=(null===(v=null==T?void 0:T.traceparentconfig)||void 0===v?void 0:v.targetUrl)||[];break;default:if((null==T||!T.traceparentconfig)&&!1===(null===(h=null===(p=null===(g=this.trackerConfiguration)||void 0===g?void 0:g.configs)||void 0===p?void 0:p.traceparentGeneration)||void 0===h?void 0:h.enabled)||(null===(_=null===(m=this.trackerConfiguration)||void 0===m?void 0:m.configs)||void 0===_||!_.traceparentGeneration)&&!1===(null===(w=null==T?void 0:T.traceparentconfig)||void 0===w?void 0:w.enabled))return"";var R=(null===(k=null===(b=null===(y=this.trackerConfiguration)||void 0===y?void 0:y.configs)||void 0===b?void 0:b.traceparentGeneration)||void 0===k?void 0:k.targetUrl)||[],I=(null===(C=null==T?void 0:T.traceparentconfig)||void 0===C?void 0:C.targetUrl)||[],N=new Set(o(o([],I,!0),R,!0));A=Array.from(N)}if(0<A.length&&(A.includes("*")||A.some((function(t){return 0<(null==t?void 0:t.length)&&e.toLowerCase().includes(t.toLowerCase())})))&&null!==(E=null==T?void 0:T.networkRequestTrackingConfiguration)&&void 0!==E&&E.enabled){var x=Array.from({length:32},(function(){return Math.floor(16*Math.random()).toString(16)})).join(""),O=Array.from({length:16},(function(){return Math.floor(16*Math.random()).toString(16)})).join("");return"00-".concat(x,"-").concat(O,"-00")}}}catch(e){console.warn("Conviva App Tracker:: Unable to generate traceparent header ".concat(e))}return""},t.prototype.updateSSETrackingConfig=function(e){bo=De(De({},bo),e)},t.prototype.getSSETrackingConfig=function(){return De({},bo)},t.prototype.processSSEEvent=function(e,t){var n,i;try{if("ping"!==e.event){var o=e.data;try{o=JSON.parse(e.data)}catch(e){}var r={url:t,id:e.id,event:null!==(n=e.event)&&void 0!==n?n:"message",data:o},a=null===(i=this.core.getConfig())||void 0===i?void 0:i.evtStreamTrackingConfiguration;if(null!=a&&a.enabled){var l=this.getSSECountState(t),c=ve(a.collect,a.block,r,t);if(null!=c&&c.result){var s=null==c?void 0:c.matchedConfig;if(!0===(null==s?void 0:s.count)&&(l.tokenCount++,null==c||!c.shouldSend))return;var u={url:r.url,id:r.id,event:r.event};if(!0===(null==s?void 0:s.countReset)&&(0<l.tokenCount&&(u.tokenCount=l.tokenCount),this.resetSSECountState(t)),a.conditionalCollectAttr&&0<a.conditionalCollectAttr.length){var d=ae(r,a.conditionalCollectAttr,t,ve);0<Object.keys(d).length&&(u=De(De({},u),d))}this.trackerMethods.trackSSEEvent({name:"conviva_sse_message",data:JSON.stringify(u)})}}}}catch(e){}},t.prototype.getSSECountState=function(e){return this.sseCountStates.has(e)||this.sseCountStates.set(e,{tokenCount:0}),this.sseCountStates.get(e)},t.prototype.resetSSECountState=function(e){this.sseCountStates.set(e,{tokenCount:0})},t.prototype.cleanupSSECountState=function(e){this.sseCountStates.delete(e)},t}(),Co=function(e,t,n,i,o,r,a,l){var c,s,u,d,f,v,g=Ui,p=function(){var e=g.getConfig();return!e.emitterConfiguration||!e.emitterConfiguration.batching||e.emitterConfiguration.batching.enabled};return Se(e,t,"localStorage"==n||"cookieAndLocalStorage"==n,i.eventMethod,o,(v=g.getConfig(),null!==(f=v.bufferSize?v.bufferSize:i.bufferSize)&&void 0!==f?f:20),(function(){var e,t=g.getConfig();return null!==(e=t.maxGetBytes?t.maxGetBytes:i.maxGetBytes)&&void 0!==e?e:0}),null===(c=i.useStm)||void 0===c||c,(function(){var e,t=g.getConfig();return null!==(e=t.maxLocalStorageQueueSize?t.maxLocalStorageQueueSize:i.maxLocalStorageQueueSize)&&void 0!==e?e:10}),null!==(s=i.connectionTimeout)&&void 0!==s?s:3e4,r,null!==(u=i.customHeaders)&&void 0!==u?u:{},null!==(d=i.withCredentials)&&void 0!==d&&d,a,(function(){var e,t,n,o=g.getConfig();return null!==(n=null!=o&&o.enc?o.enc:null===(t=null===(e=null==i?void 0:i.configs)||void 0===e?void 0:e.network)||void 0===t?void 0:t.encoding)&&void 0!==n?n:Mi.GZIP}),p,(function(){var e,t,n=g.getConfig();return p()?"number"==typeof(null===(t=null===(e=n.emitterConfiguration)||void 0===e?void 0:e.batching)||void 0===t?void 0:t.byteLimitPostInKB)?1e3*n.emitterConfiguration.batching.byteLimitPostInKB:25e4:4e4}),(function(){var e,t,n=null===(t=null===(e=g.getConfig().emitterConfiguration)||void 0===e?void 0:e.batching)||void 0===t?void 0:t.batchingIntervalInSec;return 1e3*("number"==typeof n?n:5)}),l)},Eo=function(){function e(e,t,n,i,o){void 0===e&&(e=20),void 0===t&&(t=2e3),void 0===n&&(n=1e3),this.eventMaxLimit=e,this.cooldown=t,this.windowStart=Date.now(),this.circuitBreakerUntil=this.eventCount=0,this.breakerPreviouslyOpen=!1,this.droppedCount=0,this.trackerCore=i,this.timeWindow=n,this.getSamplingMode=o}return e.prototype.isAllowedToSendEvent=function(){var e=Date.now();return e<this.circuitBreakerUntil?(this.droppedCount++,!1):(this.breakerPreviouslyOpen&&(this.breakerPreviouslyOpen=!1,we(this.trackerCore,this.getSamplingMode,{message:"Application Error",className:"errorRateLimiter - isAllowedToSendEvent",extraData:{droppedCount:this.droppedCount},configAppliedSrc:Ji,configAppliedTime:Xi}),this.droppedCount=0),e-this.windowStart<this.timeWindow?this.eventCount++:(this.windowStart=e,this.eventCount=1),!(this.eventCount>this.eventMaxLimit)||(this.circuitBreakerUntil=e+this.cooldown,this.breakerPreviouslyOpen=!0,this.droppedCount++,!1))},e.prototype.updateErrortRateLimitConfig=function(e,t,n){this.eventMaxLimit=e,this.cooldown=t,this.timeWindow=n},e}(),To=function(e,t){return e.length>t?"".concat(e.slice(0,t-3),"..."):e};!function(e){e[e.APP=0]="APP",e[e.REMOTE=1]="REMOTE",e[e.MERGE=2]="MERGE"}(so||(so={}));var So={},Ao=function(){this.outQueues=[],this.bufferFlushers=[],this.hasLoaded=!1,this.registeredOnLoadHandlers=[]},Ro=Object.freeze({__proto__:null,cleanup:function(e){xe(e,(function(e){e.clearTimers()})),function(e){if(e)for(var t=0;t<e.length;t++){var n=e[t];So.hasOwnProperty(n)?delete So[n]:tt.warn(n+" not configured")}}(e)},convivaAppTracker:function(e){void 0===e&&(e={});try{var t="undefined"!=typeof window?Me():void 0;if(t)return Oe("CAT","CAT",e.trackerVersionSuffix?"js-".concat("1.3.2"," ").concat(e.trackerVersionSuffix):"js-".concat("1.3.2"),t,e)}catch(e){return void console.warn("Conviva App Tracker:: Initialisation failed! "+e)}},getClientId:function(){if("undefined"!=typeof window&&null!==window&&void 0!==window&&window.localStorage){var e=window.localStorage.getItem("Conviva.sdkConfig");return"{}"===(e=JSON.parse(e||"{}"))||void 0===e?"":e.clId}return""},setClientId:function(e){if(e&&"string"==typeof e)try{var t=e.split(".");if(4!==t.length)return void console.warn('Conviva App Tracker:: Invalid clientId format! It should be in the format of "x.x.x.x"');if(!1===t.every((function(e){return/^\d+$/.test(e)})))return void console.warn("Conviva App Tracker:: Invalid clientId format! Every part of clientId should be numeric");if("undefined"!=typeof window&&null!==window&&void 0!==window&&window.localStorage){var n=window.localStorage,i=n.getItem("Conviva.sdkConfig"),o=JSON.parse(i||"{}");"{}"===o||void 0===o?o={clId:e}:o.clId=e;var r=JSON.stringify(o);n.setItem("Conviva.sdkConfig",r)}else console.warn("Conviva App Tracker:: window or local storage is not available")}catch(e){console.warn(e)}else console.warn("Conviva App Tracker:: Unable to set clinetId string!")},setCustomTags:function(e,t){xe(t,(function(t){try{t.setCustomTags(e)}catch(e){console.warn("Conviva App Tracker:: Unable to set custom tags data!")}}))},setCustomUrl:function(e,t){xe(t,(function(t){t.setCustomUrl(e)}))},setDocumentTitle:function(e,t){xe(t,(function(t){t.setDocumentTitle(e)}))},setReferrerUrl:function(e,t){xe(t,(function(t){t.setReferrerUrl(e)}))},setUserId:function(e,t){xe(t,(function(t){t.setUserId(e)}))},trackButtonClick:function(e,t){xe(t,(function(t){try{t.trackButtonClick(e)}catch(e){console.warn("Conviva App Tracker:: Unable to track button click event! "+e)}}))},trackCustomEvent:function(e,t){xe(t,(function(t){try{t.trackCustomEvent(e)}catch(e){console.warn("Conviva App Tracker:: Unable to track custom event! "+e)}}))},trackError:function(e,t){xe(t,(function(t){try{t.trackErrorEvent(e)}catch(e){console.warn("Conviva App Tracker:: Unable to track error!")}}))},trackLinkClick:function(e,t){xe(t,(function(t){try{t.trackLinkClick(e)}catch(e){console.warn("Conviva App Tracker:: Unable to track link click event! "+e)}}))},trackPageView:function(e,t){xe(t,(function(t){t.trackPageView(e)}))},unsetCustomTags:function(e,t){xe(t,(function(t){try{t.unsetCustomTags(e)}catch(e){console.warn("Conviva App Tracker:: Unable to set custom tags data!")}}))},version:"1.3.2"}),Io=window.GlobalConvivaNamespace.shift(),No=window[Io];No.q=function(e,n){function i(e){var t=e.split(":");return[e=t[0],t=1<t.length?t[1].split(";"):void 0]}function o(e,t){if(m[e])try{return m[e].apply(null,t)}catch(t){tt.error(e+" failed",t)}else tt.warn(e+" is not an available function")}function r(e){m=De(De({},m),e)}function a(e){try{if("object"==typeof e[0]&&null!==e[0]){var t=e[0],n=function(e){return null==e||e.contexts,[]}(t),i=Oe("CAT","CAT",t.trackerVersionSuffix?"js-".concat(h," ").concat(t.trackerVersionSuffix):"js-".concat(h),d,De(De({},t),{plugins:n.map((function(e){return e[0]}))}));i?(f.includes(i.id)||f.push(i.id),n.forEach((function(e){r(e[1])}))):tt.warn("CAT already exists")}else tt.error("convivaAppTracker failed",Error("Invalid parameters"))}catch(e){console.warn("convivaAppTracker failed "+e)}}function l(e,n){function i(e){Object.prototype.hasOwnProperty.call(v,e)&&(s.clearTimeout(v[e].timeout),delete v[e],0===Object.keys(v).length&&p.forEach((function(e){var t=e[1];void 0!==m[e[0]]&&m[e[0]].length>t.length&&Array.isArray(t[0])&&(t=[{},t[0]]),o(e[0],t)})))}var a;if("string"==typeof e[0]&&g(e[1])&&(void 0===e[2]||Array.isArray(e[2]))){var l=e[0],c=e[1],d=e[2];if(null===(a=e[3])||void 0===a||a){var f=s.setTimeout((function(){i(l)}),5e3);v[l]={timeout:f}}(f=u.createElement("script")).setAttribute("src",l),f.setAttribute("async","1"),Z(f,"error",(function(){i(l),tt.warn("Failed to load plugin ".concat(c[0]," from ").concat(l))}),!0),Z(f,"load",(function(){var e=c[1],o=s[c[0]];if(o&&"object"==typeof o){var a=o[e];e=t(o,["symbol"==typeof e?e:e+""]),m.addPlugin.apply(null,[{plugin:a.apply(null,d)},n]),r(e)}i(l)}),!0),u.head.appendChild(f)}else{if("object"==typeof e[0]&&"string"==typeof e[1]&&(void 0===e[2]||Array.isArray(e[2]))){var h=e[0],_=e[1];if(a=e[2],h)return e=h[_],h=t(h,["symbol"==typeof _?_:_+""]),null===(f=m.addPlugin)||void 0===f||f.apply(null,[{plugin:e.apply(null,a)},n]),void r(h)}tt.warn("Failed to add Plugin: ".concat(e[1]))}}function c(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(n=0;n<t.length;n+=1){var r=t[n],c=Array.prototype.shift.call(r),s=!(!c||"function"!=typeof c);if(s)try{s={};for(var u=0,d=Le(f,So);u<d.length;u++){var g=d[u];s[g.id.replace("".concat(e,"_"),"")]=g}c.apply(s,r)}catch(e){tt.error("Tracker callback failed",e)}finally{continue}if(c=(s=i(c))[0],s=s[1],"convivaAppTracker"===c)a(r);else if(s=s?s.map((function(t){return"".concat(e,"_").concat(t)})):f,"addPlugin"===c)l(r,s);else if(u=void 0,u=0<r.length?[r[0],s]:void 0!==m[c]&&2===m[c].length?[{},s]:[s],0<Object.keys(v).length)p.push([c,u]);else if(r=o(c,u),"getClientId"===c)return r}}for(var s=window,u=document,d=Me(),f=[],v={},p=[],h="1.3.2",m=t(Ro,["version"]),_=0;_<n.length;_++)c(n[_]);return{push:c}}(Io,No.q)}();
//# sourceMappingURL=conviva-eco-js-script-sensor.js.map
