/*!
 * Web analytics for Conviva v1.0.3 (http://bit.ly/sp-js)
 * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
 * Licensed under BSD-3-Clause
 */

"use strict";!function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){var n,i={};for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)0>t.indexOf(n[r])&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}function n(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((i=i.apply(e,t||[])).next())}))}function i(e,t){function n(n){return function(a){return function(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,r&&(o=2&n[0]?r.return:n[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,n[1])).done)return o;switch(r=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,r=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=0<o.length&&o[o.length-1])||6!==n[0]&&2!==n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3]))s.label=n[1];else if(6===n[0]&&s.label<o[1])s.label=o[1],o=n;else{if(!(o&&s.label<o[2])){o[2]&&s.ops.pop(),s.trys.pop();continue}s.label=o[2],s.ops.push(n)}}n=t.call(e,s)}catch(e){n=[6,e],r=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}var i,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}function r(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function o(){var e,t={},n=[],i=[],r=[],o=function(e,n){null!=n&&""!==n&&(t[e]=n)};return{add:o,addDict:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o(t,e[t])},addJson:function(e,t,r){r&&s(r)&&(e={keyIfEncoded:e,keyIfNotEncoded:t,json:r},i.push(e),n.push(e))},addContextEntity:function(e){r.push(e)},getPayload:function(){return t},getJson:function(){return n},withJsonProcessor:function(t){e=t},build:function(){return null==e||e(this,i,r),t}}}function a(e){return function(t,n,i){for(var o=function(n,i,r){if(n=JSON.stringify(n),e){if(r=t.add,n){var o=0,a=0,s=[];if(n){n=unescape(encodeURIComponent(n));do{var c=n.charCodeAt(o++),l=n.charCodeAt(o++),u=n.charCodeAt(o++),d=c<<16|l<<8|u;c=d>>18&63,l=d>>12&63,u=d>>6&63,d&=63,s[a++]=Ke.charAt(c)+Ke.charAt(l)+Ke.charAt(u)+Ke.charAt(d)}while(o<n.length);o=s.join(""),n=((n=n.length%3)?o.slice(0,n-3):o)+"===".slice(n||3)}n=n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}r.call(t,i,n)}else t.add(r,n)},a=function(n,i){if(!n){var r=t.getPayload();if(e?r.cx:r.co){var o=(n=JSON).parse;if(e){if(r=r.cx){switch(4-r.length%4){case 2:r+="==";break;case 3:r+="="}r=function(e){var t,n=0,i=0,r="",o=[];if(!e)return e;e+="";do{var a=Ke.indexOf(e.charAt(n++)),s=Ke.indexOf(e.charAt(n++));r=Ke.indexOf(e.charAt(n++));var c=Ke.indexOf(e.charAt(n++)),l=a<<18|s<<12|r<<6|c;a=l>>16&255,s=l>>8&255,l&=255,o[i++]=64===r?String.fromCharCode(a):64===c?String.fromCharCode(a,s):String.fromCharCode(a,s,l)}while(n<e.length);return r=o.join(""),t=r.replace(/\0+$/,""),decodeURIComponent(t.split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}(r=r.replace(/-/g,"+").replace(/_/g,"/"))}}else r=r.co;n=o.call(n,r)}else n=void 0}return n?n.dt=n.dt.concat(i.dt):n=i,n},s=void 0,c=0;c<n.length;c++){var l=n[c];"cx"===l.keyIfEncoded?s=a(s,l.json):o(l.json,l.keyIfEncoded,l.keyIfNotEncoded)}n.length=0,i.length&&(s=a(s,n={sc:"sp/ctx/1-0-0",dt:r([],i,!0)}),i.length=0),s&&o(s,"cx","co")}}function s(e){if(!c(e))return!1;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}function c(e){return null!=e&&(e.constructor==={}.constructor||e.constructor===[].constructor)}function l(){var t=[],n=[];return{getGlobalPrimitives:function(){return t},getConditionalProviders:function(){return n},addGlobalContexts:function(e){for(var i=[],r=[],o=0;o<e.length;o++){var a=e[o];k(a)?i.push(a):_(a)&&r.push(a)}t=t.concat(r),n=n.concat(i)},clearGlobalContexts:function(){n=[],t=[]},removeGlobalContexts:function(e){for(var i=function(e){k(e)?n=n.filter((function(t){return JSON.stringify(t)!==JSON.stringify(e)})):_(e)&&(t=t.filter((function(t){return JSON.stringify(t)!==JSON.stringify(e)})))},r=0;r<e.length;r++)i(e[r])},getApplicableContexts:function(i){e:{for(var r=0,o=i.getJson();r<o.length;r++){var a=o[r];if("ue_px"===a.keyIfEncoded&&"object"===e(a.json.data)&&"string"==typeof(a=a.json.data.schema)){r=a;break e}}r=""}a="string"==typeof(o=i.getPayload().e)?o:"",o=[];var s=E(t,i,a,r);return o.push.apply(o,s),i=function(e,t,n,i){var r;return e=T(e).map((function(e){e:{if(w(e)){var r=e[0],o=!1;try{o=r({event:t.getPayload(),eventType:n,eventSchema:i})}catch(e){o=!1}if(!0===o){e=E(e[1],t,n,i);break e}}else if(b(e)&&function(e,t){var n=0,i=0,r=e.accept;return Array.isArray(r)?e.accept.some((function(e){return y(e,t)}))&&i++:"string"==typeof r&&y(r,t)&&i++,r=e.reject,Array.isArray(r)?e.reject.some((function(e){return y(e,t)}))&&n++:"string"==typeof r&&y(r,t)&&n++,0<i&&0===n}(e[0],i)){e=E(e[1],t,n,i);break e}e=[]}if(e&&0!==e.length)return e})),(r=[]).concat.apply(r,e.filter((function(e){return null!=e&&e.filter(Boolean)})))}(n,i,a,r),o.push.apply(o,i),o}}}function u(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return null!==(t=null==e?void 0:e.map((function(e){if("function"!=typeof e)return e;try{return e.apply(void 0,n)}catch(e){}})).filter(Boolean))&&void 0!==t?t:[]}function d(e){return!!((e=e.split("."))&&1<e.length)&&function(e){if("*"===e[0]||"*"===e[1])return!1;if(0<e.slice(2).length){var t=!1,n=0;for(e=e.slice(2);n<e.length;n++)if("*"===e[n])t=!0;else if(t)return!1;return!0}return 2==e.length}(e)}function f(e){if(null!==(e=/^iglu:((?:(?:[a-zA-Z0-9-_]+|\*).)+(?:[a-zA-Z0-9-_]+|\*))\/([a-zA-Z0-9-_.]+|\*)\/jsonschema\/([1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)$/.exec(e))&&d(e[1]))return e.slice(1,6)}function v(e){if(e=f(e)){var t=e[0];return 5===e.length&&d(t)}return!1}function g(e){return Array.isArray(e)&&e.every((function(e){return"string"==typeof e}))}function h(e){return g(e)?e.every((function(e){return v(e)})):"string"==typeof e&&v(e)}function p(t){return!!(s(t)&&"sc"in t&&"dt"in t)&&("string"==typeof t.sc&&"object"===e(t.dt))}function m(e){return"function"==typeof e&&1>=e.length}function _(e){return m(e)||p(e)}function w(e){return!(!Array.isArray(e)||2!==e.length)&&(Array.isArray(e[1])?m(e[0])&&e[1].every(_):m(e[0])&&_(e[1]))}function b(t){return!(!Array.isArray(t)||2!==t.length)&&(!!function(t){var n=0;if(null!=t&&"object"===e(t)&&!Array.isArray(t)){if(Object.prototype.hasOwnProperty.call(t,"accept")){if(!h(t.accept))return!1;n+=1}if(Object.prototype.hasOwnProperty.call(t,"reject")){if(!h(t.reject))return!1;n+=1}return 0<n&&2>=n}return!1}(t[0])&&(Array.isArray(t[1])?t[1].every(_):_(t[1])))}function k(e){return w(e)||b(e)}function y(e,t){if(!v(e))return!1;if(e=f(e),t=null!==(t=/^iglu:([a-zA-Z0-9-_.]+)\/([a-zA-Z0-9-_]+)\/jsonschema\/([1-9][0-9]*)-(0|[1-9][0-9]*)-(0|[1-9][0-9]*)$/.exec(t))?t.slice(1,6):void 0,e&&t){if(!function(e,t){if(t=t.split("."),e=e.split("."),t&&e){if(t.length!==e.length)return!1;for(var n=0;n<e.length;n++)if(!C(t[n],e[n]))return!1;return!0}return!1}(e[0],t[0]))return!1;for(var n=1;5>n;n++)if(!C(e[n],t[n]))return!1;return!0}return!1}function C(e,t){return e&&t&&"*"===e||e===t}function T(e){return Array.isArray(e)?e:[e]}function E(e,t,n,i){var r;return e=T(e).map((function(e){e:if(p(e))e=[e];else{if(m(e)){t:{var r=void 0;try{if(r=e({event:t.getPayload(),eventType:n,eventSchema:i}),Array.isArray(r)&&r.every(p)||p(r)){var o=r;break t}o=void 0;break t}catch(e){}o=void 0}if(p(o)){e=[o];break e}if(Array.isArray(o)){e=o;break e}}e=void 0}if(e&&0!==e.length)return e})),(r=[]).concat.apply(r,e.filter((function(e){return null!=e&&e.filter(Boolean)})))}function A(e){void 0===e&&(e={});var t,n,i,o,s,u,d,f=e.base64,v=e.corePlugins,g=null!=v?v:[];t=null==f||f,n=g,i=e.callback,o=function(e){return{addPluginContexts:function(t){var n=t?r([],t,!0):[];return e.forEach((function(e){try{e.contexts&&n.push.apply(n,e.contexts())}catch(e){Je.error("Error adding plugin contexts",e)}})),n}}}(n),s=l(),u=t,d={};var h=Ie(Ie({},f={track:function(e,t,r){e.withJsonProcessor(a(u)),e.add("eid",Ze.v4()),e.addDict(d),r=function(e){return null==e?{type:"dtm",value:(new Date).getTime()}:"number"==typeof e?{type:"dtm",value:e}:"ttm"===e.type?{type:"ttm",value:e.value}:{type:"dtm",value:e.value||(new Date).getTime()}}(r),e.add(r.type,r.value.toString()),t=function(e,t){e=s.getApplicableContexts(e);var n=[];return t&&t.length&&n.push.apply(n,t),e&&e.length&&n.push.apply(n,e),n}(e,o.addPluginContexts(t)),void 0!==(t=t&&t.length?{sc:"sp/ctx/1-0-0",dt:t}:void 0)&&e.addJson("cx","co",t),n.forEach((function(t){try{t.beforeTrack&&t.beforeTrack(e)}catch(e){Je.error("Plugin beforeTrack",e)}})),"function"==typeof i&&i(e);var c=e.build();return n.forEach((function(e){try{e.afterTrack&&e.afterTrack(c)}catch(e){Je.error("Plugin afterTrack",e)}})),c},addPayloadPair:function(e,t){d[e]=t},configuration:e,getConfig:function(){return e},setConfig:function(t){t&&(void 0!==t.base64&&(u=e.base64=t.base64),void 0!==t.linkClickTracking&&(e.linkClickTracking=t.linkClickTracking),void 0!==t.lifecycleAutotracking&&(e.lifecycleAutotracking=t.lifecycleAutotracking),void 0!==t.cacheRefreshInterval&&(e.cacheRefreshInterval=t.cacheRefreshInterval),void 0!==t.buttonClickTracking&&(e.buttonClickTracking=t.buttonClickTracking),void 0!==t.exceptionAutotracking&&(e.exceptionAutotracking=t.exceptionAutotracking),void 0!==t.enablePeriodicHeartbeat&&(e.enablePeriodicHeartbeat=t.enablePeriodicHeartbeat),void 0!==t.periodicHeartbeatInterval&&(e.periodicHeartbeatInterval=t.periodicHeartbeatInterval),void 0!==t.enc&&(e.enc=t.enc),void 0!==t.mend&&(e.mend=t.mend),void 0!==t.maxLocalStorageQueueSize&&(e.maxLocalStorageQueueSize=t.maxLocalStorageQueueSize),void 0!==t.maxGetBytes&&(e.maxGetBytes=t.maxGetBytes),void 0!==t.bufferSize&&(e.bufferSize=t.bufferSize),void 0!==t.customEventTrackingConfiguration&&(e.customEventTrackingConfiguration=t.customEventTrackingConfiguration),void 0!==t.networkRequestTrackingConfiguration&&(e.networkRequestTrackingConfiguration=t.networkRequestTrackingConfiguration),void 0!==t.traceparentconfig&&(e.traceparentconfig=t.traceparentconfig),void 0!==t.metaTagsTrackingConfiguration&&(e.metaTagsTrackingConfiguration=t.metaTagsTrackingConfiguration),void 0!==t.performanceContextConfig&&(e.performanceContextConfig=t.performanceContextConfig),void 0!==t.configurationVersion&&(e.configurationVersion=t.configurationVersion),void 0!==t.catRcLastUpdatedTs&&(e.catRcLastUpdatedTs=t.catRcLastUpdatedTs),void 0!==t.endpoint&&(e.endpoint=t.endpoint),void 0!==t.controlIngestConfig&&(e.controlIngestConfig=t.controlIngestConfig),void 0!==t.applicationContext&&(e.applicationContext=t.applicationContext),void 0!==t.emitterConfiguration&&(e.emitterConfiguration=t.emitterConfiguration),void 0!==t.di&&(e.di=t.di))},getBase64Encoding:function(){return u},setBase64Encoding:function(e){u=e},addPayloadDict:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(d[t]=e[t])},resetPayloadPairs:function(e){d=c(e)?e:{}},setTrackerVersion:function(e){d.tv=e},setTrackerNamespace:function(e){d.tna=e},setAppId:function(e){d.aid=e},setPlatform:function(e){d.p=e},setUserId:function(e){d.uid=e},setScreenResolution:function(e,t){d.res=e+"x"+t},setViewport:function(e,t){d.vp=e+"x"+t},setColorDepth:function(e){d.cd=e},setTimezone:function(e){d.tz=e},setLang:function(e){d.lang=e},setIpAddress:function(e){d.ip=e},setUseragent:function(e){d.ua=e},addGlobalContexts:function(e){s.addGlobalContexts(e)},clearGlobalContexts:function(){s.clearGlobalContexts()},removeGlobalContexts:function(e){s.removeGlobalContexts(e)}}),{addPlugin:function(e){var t,n;e=e.plugin,g.push(e),null===(t=e.logger)||void 0===t||t.call(e,Je),null===(n=e.activateCorePlugin)||void 0===n||n.call(e,h)}});return null==g||g.forEach((function(e){var t,n;null===(t=e.logger)||void 0===t||t.call(e,Je),null===(n=e.activateCorePlugin)||void 0===n||n.call(e,h)})),h}function S(e){var t=e.event;return e={sc:"sp/ue/1-0-0",dt:{sc:e=t.sc,dt:t.dt}},(t=o()).add("e","ue"),t.addJson("ue_px","ue_pr",e),t}function R(t){return t&&Array.isArray(t)?t.map(R):t&&"object"===e(t)?(t=Object.entries(t).reduce((function(e,t){var n=t[0];return t=t[1],""!==n.trim()&&(e[n]=R(t)),e}),{}),0<Object.keys(t).length?t:void 0):t}function I(e,t){void 0===t&&(t={});var n,i={};for(n in e)(t[n]||null!==e[n]&&void 0!==e[n])&&(i[n]=e[n]);return i}function x(e){for(var t=e.length;0<=--t;)e[t]=0}function N(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function O(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function L(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}function D(){this.strm=null,this.status=0,this.pending_buf=null,this.wrap=this.pending=this.pending_out=this.pending_buf_size=0,this.gzhead=null,this.gzindex=0,this.method=Wt,this.last_flush=-1,this.w_mask=this.w_bits=this.w_size=0,this.window=null,this.window_size=0,this.head=this.prev=null,this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),en(this.dyn_ltree),en(this.dyn_dtree),en(this.bl_tree),this.bl_desc=this.d_desc=this.l_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),en(this.heap),this.heap_max=this.heap_len=0,this.depth=new Uint16Array(573),en(this.depth),this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.sym_end=this.sym_next=this.lit_bufsize=this.sym_buf=0}function M(e){(e=this.options=wn.assign({level:On,method:Dn,chunkSize:16384,windowBits:15,memLevel:8,strategy:Ln},e||{})).raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&16>e.windowBits&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Tn,this.strm.avail_out=0;var t=_n.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(t!==xn)throw Error(Ot[t]);if(e.header&&_n.deflateSetHeader(this.strm,e.header),e.dictionary){if(e="string"==typeof e.dictionary?Cn.string2buf(e.dictionary):"[object ArrayBuffer]"===En.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(t=_n.deflateSetDictionary(this.strm,e))!==xn)throw Error(Ot[t]);this._dict_set=!0}}function P(e,t){if((t=new M(t)).push(e,!0),t.err)throw t.msg||Ot[t.err];return t.result}function z(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.total=this.check=this.dmax=this.flags=0,this.head=null,this.wnext=this.whave=this.wsize=this.wbits=0,this.window=null,this.extra=this.offset=this.length=this.bits=this.hold=0,this.distcode=this.lencode=null,this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.distdyn=this.lendyn=null,this.was=this.back=this.sane=0}function U(e){var t=this.options=wn.assign({chunkSize:65536,windowBits:15,to:""},e||{});if(t.raw&&0<=t.windowBits&&16>t.windowBits&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&16>t.windowBits)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&48>t.windowBits&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Tn,this.strm.avail_out=0,(e=si.inflateInit2(this.strm,t.windowBits))!==fi)throw Error(Ot[e]);if(this.header=new ci,si.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=Cn.string2buf(t.dictionary):"[object ArrayBuffer]"===li.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=si.inflateSetDictionary(this.strm,t.dictionary))!==fi))throw Error(Ot[e])}function F(e,t){if((t=new U(t)).push(e),t.err)throw t.msg||Ot[t.err];return t.result}function B(e){return Number.isInteger&&Number.isInteger(e)||"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function G(e){if(!e||"string"!=typeof e.valueOf()){e=e.text||"";var t=document.getElementsByTagName("title");t&&null!=t[0]&&(e=t[0].text)}return e}function H(e){var t=/^(?:(?:https?|ftp):)\/*(?:[^@]+@)?([^:/#]+)/.exec(e);return t?t[1]:e}function q(e){var t=e.length;return"."===e.charAt(--t)&&(e=e.slice(0,t)),"*."===e.slice(0,2)&&(e=e.slice(1)),e}function j(e){var t=window,n=Z("referrer",t.location.href)||Z("referer",t.location.href);if(n)return n;if(e)return e;try{if(t.top)return t.top.document.referrer;if(t.parent)return t.parent.document.referrer}catch(e){}return document.referrer}function V(e,t,n,i){return e.addEventListener?(e.addEventListener(t,n,i),!0):e.attachEvent?e.attachEvent("on"+t,n):void(e["on"+t]=n)}function Z(e,t){return(e=new RegExp("^[^#]*[?&]"+e+"=([^&#]*)").exec(t))?decodeURIComponent(e[1].replace(/\+/g," ")):null}function K(e,t,n){void 0===n&&(n=63072e3);try{var i=window.localStorage,r=Date.now()+1e3*n;return i.setItem("".concat(e,".expires"),r.toString()),i.setItem(e,t),!0}catch(e){return!1}}function X(e){try{var t=window.localStorage;return t.removeItem(e),t.removeItem(e+".expires"),!0}catch(e){return!1}}function J(e,t,n,i,r,o,a){return 1<arguments.length?document.cookie=e+"="+encodeURIComponent(null!=t?t:"")+(n?"; Expires="+new Date(+new Date+1e3*n).toUTCString():"")+(i?"; Path="+i:"")+(r?"; Domain="+r:"")+(o?"; SameSite="+o:"")+(a?"; Secure":""):decodeURIComponent((("; "+document.cookie).split("; "+e+"=")[1]||"").split(";")[0])}function Y(t){if(null==t||"object"!==e(t)||Array.isArray(t))return function(){return!0};var n=Object.prototype.hasOwnProperty.call(t,"allowlist"),i=function(e){var t={};if(e=e.allowlist||e.denylist){Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++)t[e[n]]=!0}return t}(t);return function(e,t){return e.hasOwnProperty("filter")&&e.filter?e.filter:t}(t,(function(e){e:{var t=0;for(e=e.className.match(/\S+/g)||[];t<e.length;t++)if(i[e[t]]){t=!0;break e}t=!1}return t===n}))}function Q(e){try{var t=null===window||void 0===window?void 0:window.localStorage;return!!t&&(t.removeItem(e),!0)}catch(e){return!1}}function W(){"undefined"!=typeof window&&void 0!==window.localStorage&&localStorage.removeItem(bi.SAMPLING_STORAGE_RANDOM_NUMBER_KEY)}function $(e,t){return void 0!==e.act&&void 0!==e.act[t]&&void 0!==(e=e.act[t])?e:bi.DEFAULT_SAMPLING_ACTION[t]}function ee(e,t){return e.length<=t?e:e.slice(0,t-3)+"..."}function te(e,t,n){try{if("string"==typeof n&&"string"==typeof e&&"*"===n.trim())return!0;switch(t){case"==":case"equal":return e===n;case"!=":return e!==n;case">":return e>n;case"<":return e<n;case">=":return e>=n;case"<=":return e<=n;case"contains":return""!==n&&"string"==typeof e&&"string"==typeof n&&-1!==e.toLowerCase().indexOf(n.toLowerCase());default:return!1}}catch(e){return console.warn("Conviva App Tracker: Error in Compare values nwreq ".concat(e)),!1}}function ne(e,t,n){var i={};try{for(var r=0;r<t.length;r++){var o=t[r],a=e,s=i;n&&(o=o.toLowerCase(),a=a&&Object.entries(a).reduce((function(e,t){var n=t[1];return e[t[0].toLowerCase()]=n,e}),{}));for(var c=o.split("."),l=0;l<c.length;l++){var u=c[l];null!=a&&a.hasOwnProperty(u)&&(l===c.length-1?s[u]=a[u]:(s[u]=s[u]||{},a=a[u],s=s[u]))}}}catch(e){console.warn("Conviva App Tracker: Error in filtering schema object nwreq ".concat(e))}return i}function ie(e,t,n){return"translate.googleusercontent.com"===e?(""===n&&(n=t),e=H(t=null!=(e=(e=/^(?:https?|ftp)(?::\/*(?:[^?]+))([?][^#]+)/.exec(t))&&1<(null==e?void 0:e.length)?Z("u",e[1]):null)?e:"")):"cc.bingj.com"!==e&&"webcache.googleusercontent.com"!==e||(e=H(t=document.links[0].href)),[e,t,n]}function re(e,t){return void 0===t&&(t=1),"0"===e[0]?(e[7]=e[6],e[5]=e[4],e[3]++):e[3]=t,t=Ze.v4(),e[6]=t,e[8]="",e[9]=void 0,t}function oe(e){e[4]=Math.round((new Date).getTime()/1e3)}function ae(e){return{activateLCPObserver:function(){try{PerformanceObserver&&new PerformanceObserver((function(e){try{e.getEntries().forEach((function(e){var t;if("largest-contentful-paint"===e.entryType){var n=null===performance||void 0===performance?void 0:performance.getEntriesByType("navigation"),i=void 0;n&&0<(null==n?void 0:n.length)&&(i=null===(t=n[0])||void 0===t?void 0:t.activationStart),Ti=Ie(Ie({},e.toJSON()),{performanceNavigationActivationStart:null!=i?i:0})}}))}catch(e){console.warn("convivaAppTracker error in conviva lcp observer "+e)}})).observe({type:"largest-contentful-paint",buffered:!0})}catch(e){console.warn("convivaAppTracker conviva_lcp failed "+e)}},contexts:function(){try{switch(e){case bi.PERFORMANCE_CONTEXT.DISABLED:return[];case bi.PERFORMANCE_CONTEXT.PERFORMANCE_NAVIGATION_TIMING:return function(){var e,t,n;try{var i=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance||{};if(i.getEntriesByType){var r=i.getEntriesByType("navigation")[0],o=null!==(e=null==i?void 0:i.timeOrigin)&&void 0!==e?e:0;if(!r)return[];var a={st:Math.floor(o+r.startTime),dls:Math.floor(o+r.domainLookupStart),dle:Math.floor(o+r.domainLookupEnd),rss:Math.floor(o+r.responseStart),rse:Math.floor(o+r.responseEnd),le:Math.floor(o+r.loadEventEnd),dur:Math.floor(o+r.duration),as:Math.floor(o+r.activationStart)};return null!=Ti&&Ti.startTime&&(a.lcp={rt:Math.floor(o+Ti.startTime),url:128<(null===(t=null==Ti?void 0:Ti.url)||void 0===t?void 0:t.length)?null===(n=null==Ti?void 0:Ti.url)||void 0===n?void 0:n.substring(0,128):Ti.url,sz:Ti.size}),[{sc:"cv/pc/1-0-1",dt:a}]}return[]}catch(e){return console.warn("ConvivaAppTracker: issue will getting performance Navigation timing context"),[]}}();default:var t=window,n=t.performance||t.mozPerformance||t.msPerformance||t.webkitPerformance,i=n.timing;return r(r([],n?[{sc:"w3/pt/1-0-0",dt:{navigationStart:i.navigationStart,domainLookupStart:i.domainLookupStart,domainLookupEnd:i.domainLookupEnd,responseStart:i.responseStart,responseEnd:i.responseEnd,loadEventEnd:i.loadEventEnd}}]:[],!0),function(){var e,t,n;try{if(void 0!==(null==Ti?void 0:Ti.startTime)&&"number"==typeof(null==Ti?void 0:Ti.startTime))return[{sc:"cv/lcp/1-0-0",dt:{lcp:Math.round(Ti.startTime)-(null!==(e=Ti.performanceNavigationActivationStart)&&void 0!==e?e:0),url:128<(null===(t=null==Ti?void 0:Ti.url)||void 0===t?void 0:t.length)?null===(n=null==Ti?void 0:Ti.url)||void 0===n?void 0:n.substring(0,128):Ti.url}}]}catch(e){}return[]}(),!0)}}catch(e){return console.warn("convivaAppTracker problem in perfromance context "+e),[]}}}}function se(t,n,i){var r,o;try{if(t&&n){var a,s=null==t?void 0:t.getConfig();e:{var c,l,u,d={message:""};try{var f=i.message,v=i.error,g=i.className,h=i.extraData;if(f)d.message=f;else if("string"==typeof v){if(!(0<v.trim().length)){Je.warn("Conviva Eco Sensor:: Mandatory field message is missing");var p=null;break e}d.message=v}else"object"===e(v)&&("string"==typeof v.message&&0<v.message.trim().length&&(d.message=ee(v.message,bi.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_MESSAGE_LENGTH)),"string"==typeof v.name&&0<v.name.trim().length&&(d.exceptionName=ee(v.name,bi.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_EXCEPTION_NAME_LENGTH)),"string"==typeof v.stack&&0<v.stack.trim().length&&(d.stackTrace=ee(v.stack,bi.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_STACK_LENGTH)));if(0===d.message.trim().length){Je.warn("Conviva Eco Sensor:: Mandatory field message is missing"),p=null;break e}"string"==typeof g&&0<g.trim().length&&(d.className=ee(g,bi.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_CLASSNAME_LENGTH)),null!=h&&(d.extraData=h);var m=null==t?void 0:t.getConfig();if(null!=m&&m.configurationVersion&&(d.remoteConfigVersion=m.configurationVersion),null!=i&&i.configAppliedTime&&(d.configAppliedTime=null==i?void 0:i.configAppliedTime),null!=m&&m.cacheRefreshInterval&&(d.cacheRefreshInterval=m.cacheRefreshInterval),null!=i&&i.configAppliedSrc&&(d.configAppliedSrc=null==i?void 0:i.configAppliedSrc),localStorage){var _=localStorage.getItem(bi.SAMPLING_STORAGE_RANDOM_NUMBER_KEY);null!=_&&(d.samplingRandomNumber=parseFloat(_))}"number"==typeof(null===(l=null===(c=null==m?void 0:m.controlIngestConfig)||void 0===c?void 0:c.sel)||void 0===l?void 0:l.pct)?(d.samplingPercentage=m.controlIngestConfig.sel.pct,d.samplingDecision=bi.SAMPLING_STATUS.DERIVED,null!=e(null===(u=null==m?void 0:m.controlIngestConfig)||void 0===u?void 0:u.act)&&(d.extraData=Ie(Ie({},d.extraData),{samplingActionConfig:m.controlIngestConfig.act}))):d.samplingDecision=bi.SAMPLING_STATUS.DEFAULT,"function"==typeof(null==n?void 0:n.getSamplingMode)&&"string"==typeof(null==n?void 0:n.getSamplingMode())&&(d.samplingStatus=(null==n?void 0:n.getSamplingMode())==bi.SAMPLING_MODES.RCFG)}catch(e){Je.warn("Error occurred while generating diagnostic object",e),p=null;break e}p=d}if(!(a=!p)){var w;try{var b=null==t?void 0:t.getConfig(),k=(null===(w=null==b?void 0:b.di)||void 0===w?void 0:w.lim)||10,y=Date.now();6e4<=y-Bi&&(Fi=0,Bi=y);var C=!(++Fi>k)}catch(e){Je.warn("Conviva Eco Sensor:: Error occured while checking diagnostic event is allowed",e),C=!1}a=!C}if(!a&&"boolean"==typeof(null===(r=null==s?void 0:s.di)||void 0===r?void 0:r.en)&&!0===(null===(o=null==s?void 0:s.di)||void 0===o?void 0:o.en))if(null==t);else{var T=t.track,E=S({event:{sc:"iglu:com.conviva/di/jsonschema/1-0-4",dt:I({msg:p.message,cn:p.className,st:p.stackTrace,en:p.exceptionName,ed:p.extraData,rcv:p.remoteConfigVersion,cat:p.configAppliedTime,cri:p.cacheRefreshInterval,csrc:p.configAppliedSrc,srn:p.samplingRandomNumber,spr:p.samplingPercentage,ss:p.samplingStatus,sd:p.samplingDecision})}});T.call(t,E)}}}catch(e){Je.warn("Conviva Eco Sensor:: Error occurred while sending reportDiagnosticError",e)}}function ce(t,n,i,r,o,a,s,c,l,u,d,f,v,g,h,p,m,_,w){function b(e){var t=Object.keys(e).map((function(t){return[t,e[t]]})).reduce((function(e,t){return e[t[0]]=t[1].toString(),e}),{});return{evt:t,bytes:k(JSON.stringify(t))}}function k(e){for(var t=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);127>=i?t+=1:2047>=i?t+=2:55296<=i&&57343>=i?(t+=4,n++):t=65535>i?t+3:t+4}return t}function y(e,t){t=T(t,!0,!1),e=E(A([e.evt]));try{h().toLowerCase()!==Ei.NONE&&(e=wi.gzip(e,{level:6}),t.setRequestHeader("Content-Encoding",Ei.GZIP))}catch(e){}w()!==bi.SAMPLING_MODES.NONE&&t.send(e)}function C(t){for(void 0===t&&(t=!1);O.length&&"string"!=typeof O[0]&&"object"!==e(O[0]);)O.shift();if(1>O.length)N=!1;else{if(!R||"string"!=typeof R.valueOf())throw"No collector configured";if(N=!0,window.clearTimeout(L),L=-1,P){var n=function(e){for(var t=0,n=0;t<e.length&&!((n+=e[t].bytes)>=m());)t+=1;return t},r=void 0,o=void 0;if("object"===e(O[0])){var a=T(r=R,!0,t);o=n(O)}else r=S(O[0]),a=T(r,!1,t),o=1;var s=setTimeout((function(){a.abort(),N=!1}),u);if(a.onreadystatechange=function(){4===a.readyState&&(clearTimeout(s),200<=a.status&&300>a.status?C():(Je.error("Status ".concat(a.status,", will not retry.")),N=!1))},"object"!==e(O[0]))a.send();else if(0<(n=O.slice(0,o)).length){if(t=!1,n=n.map((function(e){return e.evt})),M){var c=new Blob([E(A(n))],{type:"application/json"});try{t=navigator.sendBeacon(r,c)}catch(e){t=!1}}if(!0===t)C();else{r=E(A(n));try{h().toLowerCase()!==Ei.NONE&&(r=wi.gzip(r,{level:6}),a.setRequestHeader("Content-Encoding",Ei.GZIP))}catch(e){}try{w()!==bi.SAMPLING_MODES.NONE&&a.send(r)}catch(e){}}}!function(e){for(var t=0;t<e;t++)O.shift();i&&K(F,JSON.stringify(O.slice(-1*l())))}(o)}else if(d||"object"===e(O[0]))N=!1;else{o=new Image(1,1);var f=!0;o.onload=function(){f&&(f=!1,O.shift(),i&&K(F,JSON.stringify(O.slice(-1*l()))),C())},o.onerror=function(){f&&(N=f=!1)},o.src=S(O[0]),setTimeout((function(){f&&N&&(f=!1,C())}),u)}}}function T(e,t,n){var i=new XMLHttpRequest;for(var r in t?(i.open("POST",e,!n),i.setRequestHeader("Content-Type","application/json; charset=UTF-8")):i.open("GET",e,!n),i.withCredentials=v,d&&i.setRequestHeader("SP-Anonymous","*"),f)Object.prototype.hasOwnProperty.call(f,r)&&i.setRequestHeader(r,f[r]);return i}function E(e){return JSON.stringify({sc:"sp/pd/1-0-4",dt:e})}function A(e){for(var t=(new Date).getTime().toString(),n=0;n<e.length;n++)e[n].stm=t;return e}function S(e){return c?R+e.replace("?","?stm="+(new Date).getTime()+"&"):R+e}null!==window&&void 0!==window&&window.addEventListener&&window.addEventListener("ConvivaExecuteQueue",(function(){C()}),{signal:Ri});var R,I,x,N=!1,O=[],L=-1,D=!0===(r="string"==typeof r?r.toLowerCase():r)||"beacon"===r||"true"===r,M=!(!(D&&window.navigator&&window.navigator.sendBeacon)||(I=window.navigator.userAgent,(x=(x=I).match(/\(iP.+; CPU .*OS (\d+)[_\d]*.*\) AppleWebKit\//))&&x.length&&parseInt(x[0])<=13||function(e,t,n){return!(!(n=n.match("(Macintosh;.*Mac OS X (\\d+)_(\\d+)[_\\d]*.*) AppleWebKit/"))||!n.length)&&(parseInt(n[2])<=e||parseInt(n[2])===e&&parseInt(n[3])<=t)}(10,15,I)&&function(e){var t;return(t=/^(?!.*Chrome)(?!.*Chromium)(?!.*Edg)(?!.*OPR)(?=.*Safari)/.test(e))&&(t=!/(Chrome|Chromium|Edg|OPR)/.test(e)),t}(I)))&&D,P=!(!window.XMLHttpRequest||!("withCredentials"in new XMLHttpRequest)),z="get"!==r&&P&&("post"===r||D),U=z?o:"/i";r="convivaOutQueue_".concat(t,"_").concat(z?"post2":"get");var F="convivaOutQueue_".concat(t,"_").concat(z?"post2":"get");if(Q(r),Q("".concat(r,".expires")),D&&(f={}),a=i&&function(){try{var e=!!window.localStorage}catch(t){e=!0}if(!e)return!1;try{var t=window.localStorage;return t.setItem("modernizr","modernizr"),t.removeItem("modernizr"),!0}catch(e){return!1}}()&&z&&a||1,i)try{var B=window.localStorage.getItem(F);O=B?JSON.parse(B):[]}catch(I){}return Array.isArray(O)||(O=[]),n.outQueues.push(O),P&&1<a&&n.bufferFlushers.push((function(e){N||C(e)})),{enqueueRequest:function(e,t,n){if(w()!=bi.SAMPLING_MODES.NONE){if(R=t+U,z){if(e=b(e),t=m(),e.bytes>=t)return N||C(),Je.warn("Event ("+e.bytes+"B) too big, max is "+t),void y(e,R);O.push(e)}else{var r,c="?",u={co:!0,cx:!0},d=!0;for(r in e)e.hasOwnProperty(r)&&!u.hasOwnProperty(r)&&(d?d=!1:c+="&",c+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));for(var f in u)e.hasOwnProperty(f)&&u.hasOwnProperty(f)&&(c+="&"+f+"="+encodeURIComponent(e[f]));if(0<(u=s())&&(d=k(d=S(c)))>=u)return Je.warn("Event ("+d+"B) too big, max is "+u),void(P&&(e=b(e),y(e,t+o)));O.push(c)}t=!1,i&&(t=K(F,JSON.stringify(O.slice(-1*l())))),!N&&-1===L&&t&&(L=window.setTimeout(C,_()+Math.floor(Math.random()*g))),!N&&(!t||!p()||z&&(z?O.reduce((function(e,t){return e+t.bytes}),0):O.reduce((function(e,t){return e+t.length}),0))>m()||O.length>a||n)&&C()}},executeQueue:function(){N||C()},setUseLocalStorage:function(e){i=e},setAnonymousTracking:function(e){d=e},setCollectorUrl:function(e){R=e+U},setBufferSize:function(e){a=e},setCustomHeaders:function(e){f=e}}}function le(e){try{de({message:e.message,filename:e.filename,lineno:e.lineno,colno:e.colno,error:e.error})}catch(e){console.warn("Conviva App Tracker caused Exception in captureError method of error tracking module",e)}}function ue(e){try{de({message:e.reason})}catch(e){console.warn("Conviva App Tracker caused Exception in captureRejection method of error tracking module",e)}}function de(e){var t,n=e.message,i=e.filename,r=e.lineno,o=e.colno,a=e.error,s=e.context;e=e.timestamp,a=a&&a.stack?a.stack:null,void 0===n||null===n&&void 0===a||null===a&&void 0===r||null===r&&void 0===o||null===o&&void 0===i||null===i||(null===(t=Li.core)||void 0===t?void 0:t.getConfig()).exceptionAutotracking&&Li.core.track(S({event:{sc:"sp/ae/1-0-1",dt:{programmingLanguage:"JAVASCRIPT",message:n?tr(n,2048):"JS Exception.",stackTrace:a?tr(a,8192):"",lineNumber:r,lineColumn:o,fileName:i}}}),s,e)}function fe(e,t){try{rr++;for(var n=0;n<e.length;n++)"childList"===e[n].type&&(pe(Di.id),me(Di.id));20<rr&&(t.disconnect(),setTimeout((function(){rr=0,t.observe(document.body,or)}),2e3))}catch(e){console.warn("Conviva App Tracker caused Exception in mutation callback of click tracking Plugin",e)}}function ve(){clearInterval(Mi),Mi=setInterval((function(){rr=0}),1e3)}function ge(e,t){var n=void 0===e?{}:e;e=n.options;var i=n.pseudoClicks,r=n.trackContent;n=n.context;try{nr[t]={linkTrackingContent:r,linkTrackingContext:n,linkTrackingPseudoClicks:i,linkTrackingFilter:Y(e)}}catch(e){}}function he(e,t){var n=void 0===e?{}:e;e=n.options;var i=n.trackContent;n=n.context;try{ir[t]={buttonTrackingContent:i,buttonTrackingContext:n,buttonTrackingFilter:Y(e)}}catch(e){}}function pe(e){var t,n,i,r=document.links;try{for(i=0;i<r.length;i++)if(null!==(n=null===(t=nr[e])||void 0===t?void 0:t.linkTrackingFilter)&&void 0!==n&&n.call(t,r[i])&&!r[i][e]){try{V(r[i],"click",_e(e,nr[e].linkTrackingContext),{signal:Ri})}catch(e){}r[i][e]=!0}}catch(e){}}function me(e){var t,n,i,r=document.querySelectorAll("button");for(i=0;i<r.length;i++)if(null!==(n=null===(t=ir[e])||void 0===t?void 0:t.buttonTrackingFilter)&&void 0!==n&&n.call(t,r[i])&&!r[i][e]){try{V(r[i],"click",we(e,ir[e].buttonTrackingContext),{signal:Ri})}catch(e){}r[i][e]=!0}}function _e(e,t){return function(n){try{var i=(n=n||window.event).which||n.button,r=n.target||n.srcElement;"click"===n.type?r&&be(r,t):"mousedown"===n.type?1!==i&&2!==i||!r?nr[e].lastButton=nr[e].lastTarget=null:(nr[e].lastButton=i,nr[e].lastTarget=r):"mouseup"===n.type&&(i===nr[e].lastButton&&r===nr[e].lastTarget&&be(r,t),nr[e].lastButton=nr[e].lastTarget=null)}catch(e){}}}function we(e,t){return function(n){var i=(n=n||window.event).which||n.button,r=n.target||n.srcElement;"click"===n.type?r&&ke(r,t):"mousedown"===n.type?1!==i&&2!==i||!r?ir[e].lastButton=ir[e].lastTarget=null:(ir[e].lastButton=i,ir[e].lastTarget=r):"mouseup"===n.type&&(i===ir[e].lastButton&&r===ir[e].lastTarget&&ke(r,t),ir[e].lastButton=ir[e].lastTarget=null)}}function be(e,t){try{for(var n=void 0,i=void 0,r=void 0,o=void 0,a=void 0,s=void 0;null!==(n=e.parentElement)&&null!=n&&"A"!==(i=e.tagName.toUpperCase())&&"AREA"!==i;)e=n;if(null!=(n=e).href){var c=n.hostname||H(n.href),l=c.toLowerCase(),u=n.href.replace(c,l);/^(javascript|vbscript|jscript|mocha|livescript|ecmascript|mailto):/i.test(u)||(r=n.id,o=n.className.match(/\S+/g)||[],a=n.target,s=nr[Di.id].linkTrackingContent?n.innerHTML:void 0,ye({targetUrl:u=unescape(u),elementId:r,elementClasses:o,elementTarget:a,elementContent:s},t,e))}}catch(e){}}function ke(e,t){for(var n;null!==(n=e.parentElement)&&null!=n&&"BUTTON"!==e.tagName.toUpperCase();)e=n;var i={elementType:""},r=(n=e).className||"";i.elementType=n.type,n.name&&""!==n.name&&(i.elementName=n.name),n.id&&""!==n.id&&(i.elementId=n.id),n.value&&""!==n.value&&(i.elementValue=n.value),n.innerText&&""!==n.innerText&&(i.elementText=n.innerText),r&&""!==r&&(i.elementClasses=r),Ce(i,t,e)}function ye(e,t,n){try{if(Di.core.getConfig().linkClickTracking){var i=Di.core,r=i.track,o=S({event:{sc:"sp/lc/1-0-1",dt:I({targetUrl:e.targetUrl,elementId:e.elementId,elementClasses:e.elementClasses,elementTarget:e.elementTarget,elementContent:e.elementContent})}});r.call(i,o,u(t,n))}}catch(e){}}function Ce(e,t,n){if(Di.core.getConfig().buttonClickTracking){var i=Di.core,r=i.track;e=S({event:e={sc:"cv/bc/1-0-0",dt:I({elementType:e.elementType,elementId:e.elementId,elementClasses:e.elementClasses,elementName:e.elementName,elementText:e.elementText,elementValue:e.elementValue})}}),r.call(i,e,u(t,n))}}function Te(n,i,a,s,c,l){void 0===l&&(l={});var u=[];n=function(n,i,a,s,c,l){function f(){(rt=ie(window.location.hostname,window.location.href,j()))[1]!==at&&(st=j(at)),ot=q(rt[0]),at=rt[1]}function v(e){try{var t=(new Date).getTime(),n=e.currentTarget;if(null!=n&&n.href){e="_cnv="+Qe+"."+t;var i=n.href.split("#"),r=i[0].split("?"),o=r.shift(),a=r.join("?");if(a){r=!0;var s=a.split("&");for(t=0;t<s.length;t++)if("_cnv="===s[t].substr(0,5)){r=!1,s[t]=e,a=s.join("&");break}r&&(a=e+"&"+a)}else a=e;i[0]=o+"?"+a;var c=i.join("#");n.href=c}}catch(e){console.warn("Conviva App Tracker:: Error in linkDecorationHandler of decorateLinks ".concat(e))}}function g(e){if("undefined"!=typeof document&&document.links&&0<document.links.length)for(var t=0;t<document.links.length;t++){var n=document.links[t];!n.spDecorationEnabled&&e(n)&&(V(n,"click",v,!0),V(n,"mousedown",v,!0),n.spDecorationEnabled=!0)}}function h(e){if(Ue){var t=/#.*/;e=e.replace(t,"")}return Fe&&(t=/[{}]/g,e=e.replace(t,"")),e}function p(e){return(e=/^([a-z]+):/.exec(e))?e[1]:null}function m(e){if(e=_t+e+"."+Ye,"localStorage"==xt){try{var t=window.localStorage,n=t.getItem(e+".expires");if(null===n||+n>Date.now())var i=t.getItem(e);else t.removeItem(e),t.removeItem(e+".expires"),i=void 0}catch(e){i=void 0}return i}if("cookie"==xt||"cookieAndLocalStorage"==xt)return J(e)}function _(){f(),Ye=et((wt||ot)+(bt||"/")).slice(0,4)}function w(){qe=(new Date).getTime()}function b(){var e=k(),t=e[0];t<je?je=t:t>Ve&&(Ve=t),(e=e[1])<Ke?Ke=e:e>Xe&&(Xe=e),w()}function k(){var e="undefined"!=typeof document?null===document||void 0===document?void 0:document.documentElement:void 0;return e?[e.scrollLeft||window.pageXOffset,e.scrollTop||window.pageYOffset]:[0,0]}function y(){var e=k(),t=e[0];Ve=je=t,Xe=Ke=e=e[1]}function C(){E(_t+"ses."+Ye,"*",At)}function T(e){var t=_t+"id."+Ye;e.shift(),E(t,e=e.join("."),Et)}function E(e,t,n){It&&!St||("localStorage"==xt?K(e,t,n):("cookie"==xt||"cookieAndLocalStorage"==xt)&&J(e,t,n,bt,wt,kt,yt))}function x(e){var t=_t+"id."+Ye,n=_t+"ses."+Ye;X(t),X(n),J(t,"",-1,"/",wt,kt,yt),J(n,"",-1,"/",wt,kt,yt),null!=e&&e.preserveSession||(We=Ze.v4(),Lt=1),null!=e&&e.preserveUser||(Qe=Ze.v4(),$e=null)}function N(e){e&&e.stateStorageStrategy&&(l.stateStorageStrategy=e.stateStorageStrategy,xt=Oe(l)),It=!!l.anonymousTracking,St=Le(l),Rt=De(l),Dt.setUseLocalStorage("localStorage"==xt||"cookieAndLocalStorage"==xt),Dt.setAnonymousTracking(Rt)}function O(){try{var e=window.localStorage.getItem("Conviva.sdkConfig"),t=JSON.parse(e||"{}");"{}"===t||void 0===t?Ge=z():(Ge=t.clId||z(),2147483648<=Nt?Nt=-1:Nt++);try{He=Math.floor(2147483647*Math.random())}catch(e){console.warn(e),He=-1}e:try{var n=window.localStorage;e={clId:Ge,iid:He},t=null;try{t=JSON.stringify(e)}catch(e){break e}n.setItem("Conviva.sdkConfig",t)}catch(e){}}catch(e){Je.warn("getEventIndexByClid",e)}It&&!St||(n="none"!=xt&&!!m("ses"),(e=L())[1]?t=e[1]:(t=It?"":Ze.v4(),e[1]=t),Qe=t,We=n?e[6]:re(e),Lt=e[3],"none"!=xt&&(C(),oe(e),T(e)))}function L(){return"none"==xt?["1","",0,0,0,void 0,"","","",void 0]:function(e,t,n,i){var r=Math.round((new Date).getTime()/1e3);e?(e=e.split(".")).unshift("0"):e=["1",t,r,i,r,"",n],e[6]&&"undefined"!==e[6]||(e[6]=Ze.v4()),e[7]&&"undefined"!==e[7]||(e[7]=""),e[8]&&"undefined"!==e[8]||(e[8]=""),e[9]&&"undefined"!==e[9]||(e[9]=""),e[10]&&"undefined"!==e[10]||(e[10]=-1);var o=function(e,t){return e=parseInt(e),isNaN(e)?t:e};return t=function(e){return e?o(e,void 0):void 0},[e[0],e[1],o(e[2],r),o(e[3],i),o(e[4],r),t(e[5]),e[6],e[7],e[8],t(e[9])]}(m("id")||void 0,Qe,We,Lt)}function D(e,t){var n,i,r,o,a=!0,s=it.getConfig();return void 0!==s.mend?a=s.mend:void 0!==(null===(i=null===(n=null==l?void 0:l.configs)||void 0===n?void 0:n.network)||void 0===i?void 0:i.mergeEndpoint)&&(a=null===(o=null===(r=null==l?void 0:l.configs)||void 0===r?void 0:r.network)||void 0===o?void 0:o.mergeEndpoint),0===e.indexOf("http")?(t&&a&&(e=e.replace(/^(https?:\/\/)(.*)$/,"$1"+t+".$2")),e):t&&a?("https:"===document.location.protocol?"https":"http")+"://"+t+"."+e:("https:"===document.location.protocol?"https":"http")+"://"+e}function M(){Mt&&null!=c.pageViewId||(c.pageViewId=Ze.v4())}function P(){return null==c.pageViewId&&(c.pageViewId=Ze.v4()),c.pageViewId}function z(){try{return F({"First Launch":"Yes"}),Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()}catch(e){console.warn(e)}}function U(t){try{return"object"===e(JSON.parse(t))}catch(e){return!1}}function F(t){try{var n=Object.keys(t);U(JSON.stringify(t))?n.forEach((function(n){if(""!==n.trim()){var i=t[n];i&&""!==i&&(i="object"===e(i)?JSON.stringify(i):""+i,Object.defineProperty(gt,n,{value:i,writable:!0,enumerable:!0,configurable:!0}))}})):console.warn("Conviva AppTracker:: Invalid JSON Format")}catch(e){console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",e)}}function Y(e){var t=e.title,n=e.context,i=e.timestamp;if(e=e.contextCallback,f(),Pt&&M(),Pt=!0,pt=document.title,t=G((ze=t)||pt),nt()!==bi.SAMPLING_MODES.NONE&&it.track(function(e){var t=e.pageUrl,n=e.pageTitle;e=e.referrer;var i=o();return i.add("e","pv"),i.add("url",t),i.add("page",n),i.add("refr",e),i}({pageUrl:h(Pe||at),pageTitle:t,referrer:h(Me||st)}),(n||[]).concat(e?e():[]),i),i=new Date,t=!1,zt.enabled&&!zt.installed){t=zt.installed=!0;var r={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0},set:function(){}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),r.hasSupport=e}}};r.update();var a="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";Object.prototype.hasOwnProperty.call(r,"hasSupport")?V(document,a,w,{passive:!0}):V(document,a,w),y(),a=function(e,t){return void 0===t&&(t=w),function(e){return V(document,e,t)}},"click mouseup mousedown mousemove keypress keydown keyup".split(" ").forEach(a(document)),["resize","focus","blur"].forEach(a(window)),a(window,b)("scroll")}if(zt.enabled&&(mt||t))for(i in qe=i.getTime(),i=void 0,zt.configurations)(t=zt.configurations[i])&&(window.clearInterval(t.activityInterval),ee(t,n,e))}function Q(){var e,t,n,i,o,a,s,c,u,f,v,g,h,p,m,_,w,b,k,y,C,T,E,A,S,R,I,x,N,O,L;try{var D=d.core.getConfig(),M=void 0;ht={};var P=Pi.MERGE;switch(void 0!==(null===(t=null===(e=null==l?void 0:l.configs)||void 0===e?void 0:e.metaTagsTracking)||void 0===t?void 0:t.preference)?P=null===(i=null===(n=null==l?void 0:l.configs)||void 0===n?void 0:n.metaTagsTracking)||void 0===i?void 0:i.preference:!0===(null===(a=null===(o=null==l?void 0:l.configs)||void 0===o?void 0:o.metaTagsTracking)||void 0===a?void 0:a.force)?P=Pi.APP:void 0!==(null===(s=null==D?void 0:D.metaTagsTrackingConfiguration)||void 0===s?void 0:s.pref)&&(P=null===(c=null==D?void 0:D.metaTagsTrackingConfiguration)||void 0===c?void 0:c.pref),P){case Pi.APP:if(!1===(null===(f=null===(u=null==l?void 0:l.configs)||void 0===u?void 0:u.metaTagsTracking)||void 0===f?void 0:f.enabled))return;0<(null===(h=null===(g=null===(v=null==l?void 0:l.configs)||void 0===v?void 0:v.metaTagsTracking)||void 0===g?void 0:g.tags)||void 0===h?void 0:h.length)&&(M=r([],null===(m=null===(p=null==l?void 0:l.configs)||void 0===p?void 0:p.metaTagsTracking)||void 0===m?void 0:m.tags,!0));break;case Pi.REMOTE:if(!1===(null===(_=null==D?void 0:D.metaTagsTrackingConfiguration)||void 0===_?void 0:_.enabled))return;void 0!==(null==D?void 0:D.metaTagsTrackingConfiguration)&&0<(null===(b=null===(w=null==D?void 0:D.metaTagsTrackingConfiguration)||void 0===w?void 0:w.tags)||void 0===b?void 0:b.length)&&(M=r([],null===(k=null==D?void 0:D.metaTagsTrackingConfiguration)||void 0===k?void 0:k.tags,!0));break;default:if(void 0===(null==D?void 0:D.metaTagsTrackingConfiguration)&&!1===(null===(C=null===(y=null==l?void 0:l.configs)||void 0===y?void 0:y.metaTagsTracking)||void 0===C?void 0:C.enabled)||void 0===(null===(T=null==l?void 0:l.configs)||void 0===T?void 0:T.metaTagsTracking)&&!1===(null===(E=null==D?void 0:D.metaTagsTrackingConfiguration)||void 0===E?void 0:E.enabled))return;var z=null===(S=null===(A=null==l?void 0:l.configs)||void 0===A?void 0:A.metaTagsTracking)||void 0===S?void 0:S.tags,U=null===(R=null==D?void 0:D.metaTagsTrackingConfiguration)||void 0===R?void 0:R.tags;!1===(null===(x=null===(I=null==l?void 0:l.configs)||void 0===I?void 0:I.metaTagsTracking)||void 0===x?void 0:x.enabled)&&(z=[]),!1===(null===(N=null==D?void 0:D.metaTagsTrackingConfiguration)||void 0===N?void 0:N.enabled)&&(U=[]),M=r([],function(e,t){return r(r([],e,!0),t,!0).reduce((function(e,t){var n=e.find((function(e){return e.key===t.key}));return n?t.condition&&(n.condition=r(r([],n.condition||[],!0),t.condition,!0)):e.push(Ie({},t)),e}),[])}(z||[],U||[]),!0)}if(void 0!==M&&0<(null==M?void 0:M.length)){e={};var F=null===document||void 0===document?void 0:document.head,B=null==F?void 0:F.getElementsByTagName("meta");if(void 0!==B&&0<(null==B?void 0:B.length))for(F=0;F<B.length;F++){var G=B[F];for(t=0;t<M.length;t++){var H=G.getAttribute(M[t].key),q=G.getAttribute(M[t].value);n=void 0,null!==(O=M[t])&&void 0!==O&&O.condition&&(n=null===(L=M[t])||void 0===L?void 0:L.condition),H&&(n&&n.includes(H)?e[H]=q:n&&0!==n.length||(e[H]=q))}}d.setMetaCustomTags(e)}}catch(e){console.warn("Conviva App Tracker:: setPageMetaTagsAsCustomTags",e)}}function ee(e,t,n){var i=function(t,n){var i;f();var o=null===(i=null==d?void 0:d.core)||void 0===i?void 0:i.getConfig();o.enablePeriodicHeartbeat?(null!=o.periodicHeartbeatInterval&&((i=1e3*o.periodicHeartbeatInterval)!=e.configHeartBeatTimer&&(e.configHeartBeatTimer=i,window.clearInterval(e.activityInterval),e.activityInterval=window.setInterval(r,i))),t({context:n,pageViewId:P(),minXOffset:je,minYOffset:Ke,maxXOffset:Ve,maxYOffset:Xe})):window.clearInterval(e.activityInterval),y()};window.setTimeout((function(){i(e.callback,(t||[]).concat(n?n():[]))}),2e3);var r=function(){var r=new Date;(!1===(null===document||void 0===document?void 0:document.hidden)||"visible"==(null===document||void 0===document?void 0:document.visibilityState)||null!==document&&void 0!==document&&document.pictureInPictureElement||qe+e.configHeartBeatTimer>r.getTime()||!0===Ut)&&i(e.callback,(t||[]).concat(n?n():[]))};e.activityInterval=window.setInterval(r,e.configHeartBeatTimer)}function se(e){var t=e.minimumVisitLength,n=e.heartbeatDelay;if(e=e.callback,B(t)&&B(n))return{configMinimumVisitLength:1e3*t,configHeartBeatTimer:1e3*n,callback:e};Je.error("Activity tracking minimumVisitLength & heartbeatDelay must be integers")}function ce(e){var t=e.context,n=e.minXOffset,i=e.minYOffset,r=e.maxXOffset,a=e.maxYOffset;if((e=document.title)!==pt&&(pt=e,ze=void 0),nt()!==bi.SAMPLING_MODES.NONE){var s=(e=it).track,c=h(Pe||at),l=G(ze||pt),u=h(Me||st);n=Math.round(n),r=Math.round(r),i=Math.round(i),a=Math.round(a);var d=o();d.add("e","pp"),d.add("url",c),d.add("page",l),d.add("refr",u),n&&!isNaN(Number(n))&&d.add("pp_mix",n.toString()),r&&!isNaN(Number(r))&&d.add("pp_max",r.toString()),i&&!isNaN(Number(i))&&d.add("pp_miy",i.toString()),a&&!isNaN(Number(a))&&d.add("pp_may",a.toString()),s.call(e,d,t)}}var de,fe,ve,ge,he,pe,me,_e,we,be,ke,Te,Ee,Ae,Se;i||(i="CAT");var Re=Ki(a,i,l),xe=Re.parsedConfig,Ne=Re.convivaRemoteTrackerConfig;s=null!=xe&&xe.endpoint?null==xe?void 0:xe.endpoint:l.gatewayUrl?l.gatewayUrl:bi.DEFAULT_END_POINT,null===(de=ae(Ne.performanceContextConfig))||void 0===de||de.activateLCPObserver(),function(){try{var e=0,t=0;null===window||void 0===window||window.addEventListener("load",(function(){var e;try{var t=null===(e=null==d?void 0:d.core)||void 0===e?void 0:e.getConfig();null==d||d.trackCustomEvent({name:"conviva_window_loaded",data:"{}",context:ae(null==t?void 0:t.performanceContextConfig).contexts()})}catch(e){console.warn("ConvivaAppTracker : issue while registering window loaded event",e)}})),null===document||void 0===document||document.addEventListener("visibilitychange",(function(){var n;try{if(nt()!==bi.SAMPLING_MODES.NONE)if("hidden"===document.visibilityState)setTimeout((function(){var e;try{var n=null===(e=null==d?void 0:d.core)||void 0===e?void 0:e.getConfig();if(t++,null!=n&&n.lifecycleAutotracking){var i=d.core,r=i.track,o=S({event:{sc:"sp/abg/1-0-0",dt:I({backgroundIndex:t})}});r.call(i,o)}"hidden"!==document.visibilityState||Pt||null==d||d.trackCustomEvent({name:"conviva_app_backgrnd_before_page_view",data:"{}"})}catch(e){console.warn("ConvivaAppTracker : issue while tracking visibility change",e)}}),0);else{var i=null===(n=null==d?void 0:d.core)||void 0===n?void 0:n.getConfig();e++,null!=i&&i.lifecycleAutotracking&&d.core.track(S({event:{sc:"sp/afg/1-0-0",dt:I({foregroundIndex:e})}}))}}catch(e){console.warn("convivaAppTracker visibilitychange failed "+e)}}),{signal:Ri}),"undefined"!=typeof document&&document&&document.addEventListener&&document.addEventListener("convivaVideoEvent",(function(e){e&&d&&nt()!==bi.SAMPLING_MODES.NONE&&(null==d||d.trackVideoEvent(e))}),{signal:Ri})}catch(e){console.warn("convivaAppTracker error in page load metrics"+e)}}(),l.eventMethod=null!==(fe=l.eventMethod)&&void 0!==fe?fe:"post";var Oe=function(e){var t;return null!==(t=e.stateStorageStrategy)&&void 0!==t?t:"cookieAndLocalStorage"},Le=function(e){var t,n;return"boolean"!=typeof e.anonymousTracking&&(null!==(n=!0===(null===(t=e.anonymousTracking)||void 0===t?void 0:t.withSessionTracking))&&void 0!==n&&n)},De=function(e){var t,n;return"boolean"!=typeof e.anonymousTracking&&(null!==(n=!0===(null===(t=e.anonymousTracking)||void 0===t?void 0:t.withServerAnonymisation))&&void 0!==n&&n)};u.push({beforeTrack:function(e){var t=m("ses"),n=L();tt=!!Be&&!!J(Be),Tt||tt?x():("0"===n[0]?(We=t||"none"==xt?n[6]:re(n),Lt=n[3]):(new Date).getTime()-Ot>1e3*At&&(Lt++,We=re(n,Lt)),oe(n),e.add("uid",It?null:$e),f(),e.add("refr",h(Me||st)),document&&(pt=document.title,t=G(ze||pt),e.add("page",t)),e.add("url",h(Pe||at)),"none"!=xt&&(T(n),C()),Ot=(new Date).getTime())}}),u.push({contexts:function(){return[{sc:"cv/clid/1-0-2",dt:{clid:Ge,iid:He.toString(),ck:ft,eventIndex:Nt++}}]}}),u.push({contexts:function(){return[{sc:"cv/ct/1-0-0",dt:{data:Ie(Ie({},gt),ht)}}]}}),u.push({contexts:function(){var e,t=null===(e=null==d?void 0:d.core)||void 0===e?void 0:e.getConfig();return!0===(null==t?void 0:t.applicationContext)?[{sc:"spm/app/1-0-0",dt:{build:vt,version:vt}}]:[]}}),u.push({contexts:function(){var e={sch:"sdk.js.eco.1"};e.cat=yi.DeviceCategory.WEB;try{var t=null==l?void 0:l.deviceMetadata;if(t){var n=t.DeviceBrand,i=t.DeviceCategory,r=t.DeviceManufacturer,o=t.DeviceModel,a=t.DeviceType,s=t.DeviceVersion,c=t.OperatingSystemName,u=t.OperatingSystemVersion,d=t.FrameworkName,f=t.FrameworkVersion;"string"==typeof i&&Object.values(yi.DeviceCategory).includes(i)?e.cat=i:e.cat="INVALID"+(i?": ".concat(i):""),"string"==typeof n&&""!=n&&(e.dvb=n),"string"==typeof r&&""!=r&&(e.dvma=r),"string"==typeof o&&""!=o&&(e.dvm=o),a&&Object.values(yi.DeviceType).includes(a)&&(e.dvt=a),"string"==typeof s&&""!=s&&(e.dvv=s),"string"==typeof c&&""!=c&&(e.os=c),"string"==typeof u&&""!=u&&(e.osv=u),"string"==typeof d&&""!=d&&(e.fw=d),"string"==typeof f&&""!=f&&(e.fwv=f)}}catch(e){Je.warn("error in setting platform metadata context",e)}return null!=e&&0<Object.keys(e).length?[{sc:"iglu:com.conviva/pm/jsonschema/1-0-2",dt:e}]:[]}});try{(null!==(ve=null==l?void 0:l.plugins)&&void 0!==ve?ve:[]).forEach((function(e){e.contexts||u.push(e)}))}catch(e){console.warn("ConvivaAppTracker : issue while processing customer passed pligins",e)}var Me,Pe,ze,Ue,Fe,Be,Ge,He,qe,je,Ve,Ke,Xe,Ye,Qe,We,$e,tt,nt=function(){try{var e=d.core.getConfig();return e?void 0===e.catRcLastUpdatedTs||0===e.catRcLastUpdatedTs?bi.SAMPLING_MODES.NONE:e.controlIngestConfig?function(e){try{if(void 0===e.sel)return W(),bi.SAMPLING_MODES.RCFG;var t=e.sel.pct;if("number"==typeof t&&100>t&&0<t&&0==t%1){if("undefined"!=typeof window&&void 0!==window.localStorage){var n=localStorage.getItem(bi.SAMPLING_STORAGE_RANDOM_NUMBER_KEY);if(null!=n)return parseFloat(n)<=t?$(e,bi.SAMPLING_ACTION.SAMPLED):$(e,bi.SAMPLING_ACTION.NON_SAMPLED);var i=100*Math.random();return localStorage.setItem(bi.SAMPLING_STORAGE_RANDOM_NUMBER_KEY,i.toString()),$(e,i<t?bi.SAMPLING_ACTION.SAMPLED:bi.SAMPLING_ACTION.NON_SAMPLED)}return bi.SAMPLING_MODES.NONE}return"number"==typeof t&&0===t?(W(),bi.SAMPLING_MODES.NONE):(W(),bi.SAMPLING_MODES.RCFG)}catch(e){}return bi.SAMPLING_MODES.RCFG}(null==e?void 0:e.controlIngestConfig):bi.SAMPLING_MODES.RCFG:bi.SAMPLING_MODES.NONE}catch(e){return Je.error("Error while getting sampling mode"),bi.SAMPLING_MODES.NONE}},it=xi=A({base64:null==Ne?void 0:Ne.base64,corePlugins:u,callback:function(t){Tt||tt||Dt.enqueueRequest(t.build(),lt,function(t){var n,i,r,o=null!==(r=null===(i=null===(n=it.getConfig().emitterConfiguration)||void 0===n?void 0:n.batching)||void 0===i?void 0:i.urgentEvents)&&void 0!==r?r:[],a=n="",s="",c="";return"string"==typeof(i=t.getPayload()).e&&(c=i.e),("ue"===c||"pv"===c||"pp"===c)&&(void 0!==(t=t.getJson().find((function(e){return"ue_pr"===e.keyIfNotEncoded||"ue_px"===e.keyIfEncoded})))&&("object"===e((t=t.json).dt)&&null!==t.dt&&("string"==typeof(t=t.dt).sc&&(n=t.sc),"object"===e(t.dt)&&"string"==typeof t.dt.name&&(a=t.dt.name)),s=n.split("/")[1]||""),o.some((function(e){return""!==(e=e.toLowerCase())&&(e===c.toLowerCase()||e===s.toLowerCase()||e===a.toLowerCase())})))}(t))},linkClickTracking:Ne.linkClickTracking,buttonClickTracking:Ne.buttonClickTracking,exceptionAutotracking:Ne.exceptionAutotracking,enablePeriodicHeartbeat:Ne.enablePeriodicHeartbeat,periodicHeartbeatInterval:Ne.periodicHeartbeatInterval,enc:Ne.enc,mend:Ne.mend,maxLocalStorageQueueSize:Ne.maxLocalStorageQueueSize,maxGetBytes:Ne.maxGetBytes,bufferSize:Ne.bufferSize,customEventTrackingConfiguration:Ne.customEventTrackingConfiguration,networkRequestTrackingConfiguration:Ne.networkRequestTrackingConfiguration,metaTagsTrackingConfiguration:Ne.metaTagsTrackingConfiguration,performanceContextConfig:Ne.performanceContextConfig,lifecycleAutotracking:Ne.lifecycleAutotracking,configurationVersion:Ne.configurationVersion,catRcLastUpdatedTs:Ne.catRcLastUpdatedTs,cacheRefreshInterval:Ne.cacheRefreshInterval,endpoint:Ne.endpoint,controlIngestConfig:Ne.controlIngestConfig,applicationContext:Ne.applicationContext,emitterConfiguration:Ne.emitterConfiguration,di:Ne.di}),rt=ie(window.location.hostname,window.location.href,j()),ot=q(rt[0]),at=rt[1],st=rt[2],ct=null!==(ge=l.platform)&&void 0!==ge?ge:"web",lt=D(s,l.convivaCustomerKey),ut=null!==(he=l.postPath)&&void 0!==he?he:"/ctp",dt=null!==(pe=l.appId)&&void 0!==pe?pe:"",ft=null!==(me=l.convivaCustomerKey)&&void 0!==me?me:"",vt=null!==(_e=l.appVersion)&&void 0!==_e?_e:"",gt={},ht={},pt="undefined"!=typeof document?document.title:void 0,mt=null===(we=l.resetActivityTrackingOnPageView)||void 0===we||we,_t=null!==(be=l.cookieName)&&void 0!==be?be:"_cnv_",wt=null!==(ke=l.cookieDomain)&&void 0!==ke?ke:void 0,bt="/",kt=null!==(Te=l.cookieSameSite)&&void 0!==Te?Te:"None",yt=null===(Ee=l.cookieSecure)||void 0===Ee||Ee,Ct=navigator.doNotTrack||navigator.msDoNotTrack||window.doNotTrack,Tt=void 0!==l.respectDoNotTrack&&(l.respectDoNotTrack&&("yes"===Ct||"1"===Ct)),Et=null!==(Ae=l.cookieLifetime)&&void 0!==Ae?Ae:63072e3,At=null!==(Se=l.sessionCookieTimeout)&&void 0!==Se?Se:1800,St=Le(l),Rt=De(l),It=!!l.anonymousTracking,xt=Oe(l),Nt=-1,Ot=(new Date).getTime(),Lt=1,Dt=er(n,c,xt,l,ut,Rt,5e3,nt),Mt=!1,Pt=!1,zt={enabled:!0,installed:!1,configurations:{pagePing:{configMinimumVisitLength:5e3,configHeartBeatTimer:1e3*Ne.periodicHeartbeatInterval,callback:ce}}},Ut=!1;l.hasOwnProperty("discoverRootDomain")&&l.discoverRootDomain&&(wt=function(e,t){for(var n=window.location.hostname,i="_cnv_root_domain_test_"+(new Date).getTime(),r="_test_value_"+(new Date).getTime(),o=n.split("."),a=o.length-1;0<=a;){var s=o.slice(a,o.length).join(".");if(J(i,r,0,"/",s,e,t),J(i)===r){for(J(i,"",-1,"/",s,e,t),n=document.cookie.split("; "),i=[],r=0;r<n.length;r++)"_cnv_root_domain_test_"===n[r].substring(0,22)&&i.push(n[r]);for(n=i,i=0;i<n.length;i++)J(n[i],"",-1,"/",s,e,t);return s}--a}return n}(kt,yt)),it.setTrackerVersion(a),it.setAppId(dt),it.setPlatform(ct),_(),O(),Dt.setCustomHeaders({"x-client-id":""+Ge}),l.crossDomainLinker&&g(l.crossDomainLinker);var Ft={getDomainSessionIndex:function(){return Lt},getPageViewId:function(){return P()},newSession:function(){var e=L();"0"===e[0]?(We="none"!=xt?re(e):e[6],Lt=e[3],C()):(Lt++,We=re(e,Lt)),oe(e),"none"!=xt&&(T(e),C()),Ot=(new Date).getTime()},getCookieName:function(e){return _t+e+"."+Ye},getUserId:function(){return $e},getDomainUserId:function(){var e=L();return e&&1<e.length?e[1]:null},getDomainUserInfo:function(){return L()},setReferrerUrl:function(e){Me=e},setCustomUrl:function(e){f();var t,n=at;p(e)?Pe=e:"/"===e.slice(0,1)?Pe=p(n)+"://"+H(n)+e:(0<=(t=(n=h(n)).indexOf("?"))&&(n=n.slice(0,t)),(t=n.lastIndexOf("/"))!==n.length-1&&(n=n.slice(0,t+1)),Pe=n+e)},setDocumentTitle:function(e){pt=document.title,ze=e},discardHashTag:function(e){Ue=e},discardBrace:function(e){Fe=e},setCookiePath:function(e){bt=e,_()},setVisitorCookieTimeout:function(e){Et=e},crossDomainLinker:function(e){g(e)},enableActivityTracking:function(e){zt.configurations.pagePing||(zt.enabled=!0,zt.configurations.pagePing=se(Ie(Ie({},e),{callback:ce})))},enableActivityTrackingCallback:function(e){zt.configurations.callback||(zt.enabled=!0,zt.configurations.callback=se(e))},updatePageActivity:function(){w()},setOptOutCookie:function(e){Be=e},setUserId:function(e){$e=e},setUserIdFromLocation:function(e){f(),$e=Z(e,at)},setUserIdFromReferrer:function(e){f(),$e=Z(e,st)},setUserIdFromCookie:function(e){$e=J(e)},setCollectorUrl:function(e,t){lt=D(e,t),Dt.setCollectorUrl(lt)},setBufferSize:function(e){Dt.setBufferSize(e)},flushBuffer:function(e){void 0===e&&(e={}),Dt.executeQueue(),e.newBufferSize&&Dt.setBufferSize(e.newBufferSize)},trackPageView:function(e){void 0===e&&(e={}),Q();var t=d.core.getConfig();try{e=Ie(Ie({},e),{context:ae(null==t?void 0:t.performanceContextConfig).contexts()})}catch(e){console.warn("Conviva App Tracker:: error adding performacetiming context to page view",e)}Y(e)},trackVideoEvent:function(e){var t,n,i;void 0===e&&(e={});try{var r=d.core.getConfig();if(null!==(n=null===(t=null==r?void 0:r.customEventTrackingConfiguration)||void 0===t?void 0:t.enabled)&&void 0!==n?n:Ai.customEventTrackingConfiguration.enabled){""!=e.name&&null!=e.name||console.warn("Conviva App Tracker:: Video event could not be tracked due to missing name property!!");var o=null===(i=null==r?void 0:r.customEventTrackingConfiguration)||void 0===i?void 0:i.blocklist;null!=o&&o.includes("*")||null!=o&&o.some((function(t){return 0<(null==t?void 0:t.length)&&e.name.toLowerCase().includes(t.toLowerCase())}))||d.core.track(function(e){return S({event:{sc:"cv/ve/1-0-5",dt:I({name:e.name,sid:e.sid,iid:e.iid,clid:e.clid,st:e.st,sst:e.sst,an:e.an,cl:e.cl,lv:e.lv,pn:e.pn,vid:e.vid,fw:e.fw,fwv:e.fwv,mn:e.mn,mv:e.mv,url:e.url,tags:e.tags,cen:e.cen,ced:e.ced,oldsc:e.oldsc,newsc:e.newsc,err:e.err,br:e.br,ft:e.ft,avgbr:e.avgbr})}})}({name:e.name,sid:e.sid,iid:e.iid,clid:e.clid,st:e.st,sst:e.sst,an:e.an,cl:e.cl,lv:e.lv,pn:e.pn,vid:e.vid,fw:e.fw,fwv:e.fwv,mn:e.mn,mv:e.mv,url:e.url,tags:e.tags,cen:e.cen,ced:e.ced,oldsc:e.old,newsc:e.new,err:e.err,br:e.br,ft:e.ft,avgbr:e.avgbr}),e.context,e.timestamp)}}catch(e){console.warn("Conviva App Tracker:: Video event could not be tracked due to an exception!!",e)}},trackCustomEvent:function(e){var t,n,i;void 0===e&&(e={});try{if(nt()!==bi.SAMPLING_MODES.NONE){var r=d.core.getConfig();if(null!==(n=null===(t=null==r?void 0:r.customEventTrackingConfiguration)||void 0===t?void 0:t.enabled)&&void 0!==n?n:Ai.customEventTrackingConfiguration.enabled)if(!e.name||"string"==typeof e.name&&""==e.name.trim())console.warn("Conviva App Tracker:: custom event name is mandatory for trackCustomEvent API!!");else{var o=e.data;try{"string"!=typeof e.data&&(o=JSON.stringify(e.data))}catch(e){}var a=null===(i=null==r?void 0:r.customEventTrackingConfiguration)||void 0===i?void 0:i.blocklist;null!=a&&a.includes("*")||null!=a&&a.some((function(t){return 0<(null==t?void 0:t.length)&&e.name.toLowerCase().includes(t.toLowerCase())}))||d.core.track(function(e){var t=e.name;return e=R(e=JSON.parse(e.data)),S({event:{sc:"cv/re/1-0-1",dt:I({name:t,eventData:e=JSON.stringify(e)})}})}({name:e.name,data:o}),e.context,e.timestamp)}}}catch(e){console.warn("Conviva App Tracker:: Unable to track custom event! "+e)}},trackNetworkRequest:function(n){var i,r,o,a,s,c,l,u,f,v,g,h,p,m,_,w,b,k,y,C,T,E;void 0===n&&(n={});try{var A=d.core.getConfig().networkRequestTrackingConfiguration,R=n.responseDetails.responseTime-n.requestDetails.requestTime;try{R=parseFloat(R.toFixed(3))}catch(e){console.warn("Conviva App Tracker:: exception while converting duration to 3 decimal",e)}var x=function(e){try{var t=void 0;return null!=e&&(t=e["content-type"]||e["Content-Type"]||e["Content-type"]),t}catch(e){}},N=function(e){try{var t=void 0;return null!=e&&(t=e["content-length"]||e["Content-Length"]||e["Content-length"]),null==t||isNaN(t)?t:Number(t)}catch(e){}}(null===(o=null==n?void 0:n.responseDetails)||void 0===o?void 0:o.headers),O=x(null===(a=null==n?void 0:n.requestDetails)||void 0===a?void 0:a.headers),L=x(null===(s=null==n?void 0:n.responseDetails)||void 0===s?void 0:s.headers);try{var D=((i={targetUrl:null===(c=null==n?void 0:n.requestDetails)||void 0===c?void 0:c.url,method:null===(l=null==n?void 0:n.requestDetails)||void 0===l?void 0:l.method,responseStatusCode:null!==(u=null==n?void 0:n.responseDetails)&&void 0!==u&&u.status?n.responseDetails.status:0,responseStatusText:null!==(f=null==n?void 0:n.responseDetails)&&void 0!==f&&f.statusText?n.responseDetails.statusText:"ok"})[ki.request_headers]=null===(v=null==n?void 0:n.requestDetails)||void 0===v?void 0:v.headers,i[ki.response_headers]=null===(g=null==n?void 0:n.responseDetails)||void 0===g?void 0:g.headers,i.duration=R,i);if(void 0!==O&&(O.toLowerCase().includes("text/plain")||O.toLowerCase().includes("json")||O.toLowerCase().includes("text/javascript")||O.toLowerCase().includes("application/javascript"))||void 0===O)if("string"==typeof(null===(h=null==n?void 0:n.requestDetails)||void 0===h?void 0:h.body))try{1e4>=(null===(p=null==n?void 0:n.requestDetails)||void 0===p?void 0:p.body.length)&&(D[ki.request_body]=JSON.parse(null===(m=null==n?void 0:n.requestDetails)||void 0===m?void 0:m.body))}catch(e){}else"object"===e(null===(_=null==n?void 0:n.requestDetails)||void 0===_?void 0:_.body)&&(D[ki.request_body]=null===(w=null==n?void 0:n.requestDetails)||void 0===w?void 0:w.body);if(void 0!==L&&(L.toLowerCase().includes("text/plain")||L.toLowerCase().includes("json")||L.toLowerCase().includes("text/javascript")||L.toLowerCase().includes("application/javascript"))&&void 0!==N&&1e4>=N)if("string"==typeof(null===(b=null==n?void 0:n.responseDetails)||void 0===b?void 0:b.body))try{D[ki.response_body]=JSON.parse(null===(k=null==n?void 0:n.responseDetails)||void 0===k?void 0:k.body)}catch(e){}else"object"===e(null===(y=null==n?void 0:n.responseDetails)||void 0===y?void 0:y.body)&&(D[ki.response_body]=null===(C=null==n?void 0:n.responseDetails)||void 0===C?void 0:C.body);var M=function(n,i){var r=[ki.request_body,ki.response_body,ki.request_headers,ki.response_headers],o={};if(i&&0<i.length)for(var a=0;a<i.length;a++){var s=i[a],c=s.conditions;s=t(s,["conditions"]);try{e:{var l=n;try{for(var u=0;u<c.length;u++){var d=c[u],f=!1;if(0<Object.keys(d).length)for(var v=0,g=Object.entries(d);v<g.length;v++){var h=g[v],p=h[1],m=l[h[0]];if(0<p.length){for(var _=0,w=0,b=p;w<b.length;w++){var k=b[w],y="contains",C=k;if("object"===e(k)&&k.length?(y=k[1],C=k[0]):"boolean"!=typeof k&&null!==k||(y="equal",C=k),te(m,y,C)){f=!0;break}if(f=!1,_+1===p.length)break;_++}if(!1===f)break}}if(f){var T=!0;break e}}}catch(e){console.warn("Conviva App Tracker: Error in Applying nwreqConfig ".concat(e))}T=!1}if(T){l=0;for(var E=Object.entries(n);l<E.length;l++){var A=E[l],S=A[0],R=A[1];if(r.includes(S))try{if(s[S]&&0<s[S].length){u=!1,S!==ki.response_headers&&S!==ki.request_headers||(u=!0);var I=ne(n[S],s[S],u);0!==Object.keys(I).length&&(o[S]=I)}}catch(e){o[S]=void 0}else o[S]=R}return o}}catch(e){console.warn("Conviva App Tracker: Error in collecting attributes nwreqConfig ".concat(e))}}for(o=Ie({},n),n=0;n<r.length;n++)i=r[n],null!=o&&o.hasOwnProperty(i)&&delete o[i];return o}(D,A.collectattr);if(null!==(T=null==n?void 0:n.requestDetails)&&void 0!==T&&T[bi.TRACEPARENT_HEADER_KEY]){var P=((r={})[bi.TRACEPARENT_HEADER_KEY]=null===(E=null==n?void 0:n.requestDetails)||void 0===E?void 0:E[bi.TRACEPARENT_HEADER_KEY],r);M[ki.request_headers]=M[ki.request_headers]?Ie(Ie({},M[ki.request_headers]),P):P}d.core.track(S({event:{sc:"cv/nr/1-0-4",dt:I({targetUrl:M.targetUrl,method:M.method,queryParameters:M.queryParameters,responseStatusCode:M.responseStatusCode,responseStatusText:M.responseStatusText,rqh:M.rqh,rsh:M.rsh,rqb:M.rqb,rsb:M.rsb,requestSize:M.requestSize,responseSize:M.responseSize,duration:M.duration,contentType:M.contentType,requestTimestamp:M.requestTimestamp,responseTimestamp:M.responseTimestamp})}}),n.context,n.timestamp)}catch(e){console.warn("Conviva App Tracker:: Network request could not be tracked due to an exception!!",e)}}catch(e){console.warn("Conviva App Tracker:: Network request could not be tracked due to an exception!!",e)}},trackButtonClick:function(e){Ce(e)},trackLinkClick:function(e){ye(e)},setCustomTags:function(e){void 0===e&&(e={}),F(e)},setMetaCustomTags:function(e){void 0===e&&(e={}),function(e){try{var t=Object.keys(e);U(JSON.stringify(e))?t.forEach((function(t){""!==t&&Object.defineProperty(ht,t,{value:""+e[t],writable:!0,enumerable:!0,configurable:!0})})):console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=")}catch(e){console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",e)}}(e)},unsetCustomTags:function(e){void 0===e&&(e={}),function(e){try{e.forEach((function(e){delete gt[e]}))}catch(e){console.warn("Conviva AppTracker:: Failed to unset Custom tag(s). Check format of keys set.")}}(e)},preservePageViewId:function(){Mt=!0},disableAnonymousTracking:function(e){l.anonymousTracking=!1,N(e),O(),Dt.executeQueue()},enableAnonymousTracking:function(e){var t;l.anonymousTracking=null===(t=e&&(null==e?void 0:e.options))||void 0===t||t,N(e),St||M()},clearUserData:x,setKeepAliveInBG:function(e){void 0===e&&(e=!1),Ut=e},clearTimers:function(){xi=null,Bt.cleanupNetworkRequestHandler();try{Li=d,removeEventListener("error",le,!0),removeEventListener("unhandledrejection",ue,!0)}catch(e){console.warn("Conviva App Tracker caused Exception in disableErrorTracking method of error tracking module",e)}if(Si.abort(),ji&&window.clearInterval(ji),zt.enabled){var e=void 0;for(e in zt.configurations){var t=zt.configurations[e];t&&window.clearInterval(t.activityInterval)}}this.tracker=d.core=null},getSamplingMode:nt};Oi=Ft;var Bt=$i.getInstance(Ft,l,nt);return Bt.initiateNetworkRequestTracking(),Ie(Ie({},Ft),{id:n,namespace:i,core:it,sharedState:c})}(n,i,a,s,c,l);var d=Ie(Ie({},n),{addPlugin:function(e){var t,n;d.core.addPlugin(e),null===(n=(t=e.plugin).activateBrowserPlugin)||void 0===n||n.call(t,d)}});u.forEach((function(e){var t;null===(t=e.activateBrowserPlugin)||void 0===t||t.call(e,d)}));try{Li=d,V(window,"error",le,!0),V(window,"unhandledrejection",ue,!0)}catch(e){console.warn("Conviva App Tracker caused Exception in enableErrorTracking method of error tracking module",e)}return function(e){var t;try{var n={};null!==(t=(Di=e).sharedState)&&void 0!==t&&t.hasLoaded?(ge(n,Di.id),pe(Di.id)):Di.sharedState.registeredOnLoadHandlers.push((function(){ge(n,Di.id),pe(Di.id)}));var i=document.body;new MutationObserver(fe).observe(i,or),ve()}catch(e){console.warn("Conviva App Tracker caused Exception in enableLinkClickTracking method in click tracking Plugin",e)}}(d),function(e){var t;try{var n={};null!==(t=(Di=e).sharedState)&&void 0!==t&&t.hasLoaded?(he(n,Di.id),me(Di.id)):Di.sharedState.registeredOnLoadHandlers.push((function(){he(n,Di.id),me(Di.id)}));var i=document.body;new MutationObserver(fe).observe(i,or),ve()}catch(e){console.warn("Conviva App Tracker caused Exception in enableButtonClickTracking method in click tracking Plugin",e)}}(d),d}function Ee(e,t){try{Se(null!=e?e:Object.keys(ar),ar).forEach(t)}catch(e){Je.error("Function failed",e)}}function Ae(e,t,n,i,r,o){return ar.hasOwnProperty(e)?null:(ar[e]=Te(e,t,n,i,r,o),ar[e])}function Se(e,t){for(var n=[],i=0;i<e.length;i++){var r=e[i];t.hasOwnProperty(r)?n.push(t[r]):Je.warn(r+" not configured")}return n}function Re(){function e(){var e;if(!t.hasLoaded)for(t.hasLoaded=!0,e=0;e<t.registeredOnLoadHandlers.length;e++)t.registeredOnLoadHandlers[e]();return!0}var t=new sr,n=document,i=window;return V(i,"beforeunload",(function(){try{t.bufferFlushers.forEach((function(e){e(!1)}))}catch(e){console.warn("Conviva App Tracker:: Error in flushBuffers of constructor ".concat(e))}}),!1),"loading"===document.readyState?(n.addEventListener?n.addEventListener("DOMContentLoaded",(function t(){n.removeEventListener("DOMContentLoaded",t,!1),e()})):n.attachEvent&&n.attachEvent("onreadystatechange",(function t(){"complete"===n.readyState&&(n.detachEvent("onreadystatechange",t),e())})),V(i,"load",e,!1)):e(),t}var Ie=function(){return Ie=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Ie.apply(this,arguments)},xe={},Ne="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(Ne){var Oe=new Uint8Array(16);xe=function(){return Ne(Oe),Oe}}else{var Le=Array(16);xe=function(){for(var e,t=0;16>t;t++)0==(3&t)&&(e=4294967296*Math.random()),Le[t]=e>>>((3&t)<<3)&255;return Le}}for(var De=[],Me=0;256>Me;++Me)De[Me]=(Me+256).toString(16).substr(1);var Pe,ze,Ue=function(e,t){return t=t||0,[De[e[t++]],De[e[t++]],De[e[t++]],De[e[t++]],"-",De[e[t++]],De[e[t++]],"-",De[e[t++]],De[e[t++]],"-",De[e[t++]],De[e[t++]],"-",De[e[t++]],De[e[t++]],De[e[t++]],De[e[t++]],De[e[t++]],De[e[t++]]].join("")},Fe=xe,Be=0,Ge=0,He=xe,qe=function(e,t,n){if(n=t&&n||0,"string"==typeof e&&(t="binary"===e?Array(16):null,e=null),(e=(e=e||{}).random||(e.rng||He)())[6]=15&e[6]|64,e[8]=63&e[8]|128,t)for(var i=0;16>i;++i)t[n+i]=e[i];return t||Ue(e)};qe.v1=function(e,t,n){n=t&&n||0;var i=t||[],r=(e=e||{}).node||Pe,o=void 0!==e.clockseq?e.clockseq:ze;if(null==r||null==o){var a=Fe();null==r&&(r=Pe=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==o&&(o=ze=16383&(a[6]<<8|a[7]))}a=void 0!==e.msecs?e.msecs:(new Date).getTime();var s=void 0!==e.nsecs?e.nsecs:Ge+1,c=a-Be+(s-Ge)/1e4;if(0>c&&void 0===e.clockseq&&(o=o+1&16383),(0>c||a>Be)&&void 0===e.nsecs&&(s=0),1e4<=s)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");for(Be=a,Ge=s,ze=o,e=(1e4*(268435455&(a+=122192928e5))+s)%4294967296,i[n++]=e>>>24&255,i[n++]=e>>>16&255,i[n++]=e>>>8&255,i[n++]=255&e,e=a/4294967296*1e4&268435455,i[n++]=e>>>8&255,i[n++]=255&e,i[n++]=e>>>24&15|16,i[n++]=e>>>16&255,i[n++]=o>>>8|128,i[n++]=255&o,o=0;6>o;++o)i[n+o]=r[o];return t||Ue(i)};var je,Ve,Ze=qe.v4=qe,Ke="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";(Ve=je||(je={}))[Ve.none=0]="none",Ve[Ve.error=1]="error",Ve[Ve.warn=2]="warn",Ve[Ve.debug=3]="debug",Ve[Ve.info=4]="info";var Xe,Je=function(e){return void 0===e&&(e=je.warn),{setLogLevel:function(t){e=je[t]?t:je.warn},warn:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];e>=je.warn&&"undefined"!=typeof console&&(o="Conviva: "+t,n?console.warn.apply(console,r([o+"\n",n],i,!1)):console.warn.apply(console,r([o],i,!1)))},error:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];e>=je.error&&"undefined"!=typeof console&&(o="Conviva: "+t+"\n",n?console.error.apply(console,r([o+"\n",n],i,!1)):console.error.apply(console,r([o],i,!1)))},debug:function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];e>=je.debug&&"undefined"!=typeof console&&console.debug.apply(console,r(["Conviva: "+t],n,!1))},info:function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];e>=je.info&&"undefined"!=typeof console&&console.info.apply(console,r(["Conviva: "+t],n,!1))}}}();!function(e){e.response_body="rsb",e.request_body="rqb",e.response_headers="rsh",e.request_headers="rqh"}(Xe||(Xe={}));var Ye={},Qe={};!function(){var e={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(t){if(t.constructor==Number)return 16711935&e.rotl(t,8)|4278255360&e.rotl(t,24);for(var n=0;n<t.length;n++)t[n]=e.endian(t[n]);return t},randomBytes:function(e){for(var t=[];0<e;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,i=0;n<e.length;n++,i+=8)t[i>>>5]|=e[n]<<24-i%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var t=[],n=0;n<e.length;n+=3)for(var i=e[n]<<16|e[n+1]<<8|e[n+2],r=0;4>r;r++)8*n+6*r<=8*e.length?t.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i>>>6*(3-r)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],n=0,i=0;n<e.length;i=++n%4)0!=i&&t.push(("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(n-1))&Math.pow(2,-2*i+8)-1)<<2*i|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(n))>>>6-2*i);return t}};Qe=e}();var We={utf8:{stringToBytes:function(e){return We.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(We.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}},$e=We;!function(){var e=Qe,t=$e.utf8,n=$e.bin,i=function(i,r){var o=e.wordsToBytes,a=i;a.constructor==String?a=t.stringToBytes(a):"undefined"!=typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(a)?a=Array.prototype.slice.call(a,0):Array.isArray(a)||(a=a.toString()),i=e.bytesToWords(a);var s=8*a.length;a=[];var c=1732584193,l=-271733879,u=-1732584194,d=271733878,f=-1009589776;for(i[s>>5]|=128<<24-s%32,i[15+(s+64>>>9<<4)]=s,s=0;s<i.length;s+=16){for(var v=c,g=l,h=u,p=d,m=f,_=0;80>_;_++){if(16>_)a[_]=i[s+_];else{var w=a[_-3]^a[_-8]^a[_-14]^a[_-16];a[_]=w<<1|w>>>31}w=(c<<5|c>>>27)+f+(a[_]>>>0)+(20>_?1518500249+(l&u|~l&d):40>_?1859775393+(l^u^d):60>_?(l&u|l&d|u&d)-1894007588:(l^u^d)-899497514),f=d,d=u,u=l<<30|l>>>2,l=c,c=w}c+=v,l+=g,u+=h,d+=p,f+=m}return o=o.call(e,[c,l,u,d,f]),r&&r.asBytes?o:r&&r.asString?n.bytesToString(o):e.bytesToHex(o)};i._blocksize=16,i._digestsize=20,Ye=i}();var et=Ye,tt=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),nt=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),it=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),rt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ot=Array(576);x(ot);var at=Array(60);x(at);var st=Array(512);x(st);var ct=Array(256);x(ct);var lt=Array(29);x(lt);var ut=Array(30);x(ut);var dt,ft,vt,gt=function(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},ht=function(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,gt(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},pt=function(e,t,n){ht(e,n[2*t],n[2*t+1])},mt=function(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(0<--t);return n>>>1},_t=function(e,t,n){var i,r=Array(16),o=0;for(i=1;15>=i;i++)o=o+n[i-1]<<1,r[i]=o;for(n=0;n<=t;n++)0!==(o=e[2*n+1])&&(e[2*n]=mt(r[o]++,o))},wt=function(e){var t;for(t=0;286>t;t++)e.dyn_ltree[2*t]=0;for(t=0;30>t;t++)e.dyn_dtree[2*t]=0;for(t=0;19>t;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},bt=function(e){8<e.bi_valid?gt(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},kt=function(e,t,n,i){var r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]},yt=function(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&kt(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!kt(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i},Ct=function(e,t,n){var i=0;if(0!==e.sym_next)do{var r=255&e.pending_buf[e.sym_buf+i++];r+=(255&e.pending_buf[e.sym_buf+i++])<<8;var o=e.pending_buf[e.sym_buf+i++];if(0===r)pt(e,o,t);else{var a=ct[o];pt(e,a+256+1,t);var s=tt[a];0!==s&&(o-=lt[a],ht(e,o,s)),a=256>--r?st[r]:st[256+(r>>>7)],pt(e,a,n),0!==(s=nt[a])&&(r-=ut[a],ht(e,r,s))}}while(i<e.sym_next);pt(e,256,t)},Tt=function(e,t){var n,i=t.dyn_tree,r=t.stat_desc.static_tree,o=t.stat_desc.has_stree,a=t.stat_desc.elems,s=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<a;n++)0!==i[2*n]?(e.heap[++e.heap_len]=s=n,e.depth[n]=0):i[2*n+1]=0;for(;2>e.heap_len;){var c=e.heap[++e.heap_len]=2>s?++s:0;i[2*c]=1,e.depth[c]=0,e.opt_len--,o&&(e.static_len-=r[2*c+1])}for(t.max_code=s,n=e.heap_len>>1;1<=n;n--)yt(e,i,n);c=a;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],yt(e,i,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,i[2*c]=i[2*n]+i[2*r],e.depth[c]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,i[2*n+1]=i[2*r+1]=c,e.heap[1]=c++,yt(e,i,1)}while(2<=e.heap_len);e.heap[--e.heap_max]=e.heap[1],n=t.dyn_tree,c=t.max_code,r=t.stat_desc.static_tree,o=t.stat_desc.has_stree,a=t.stat_desc.extra_bits;var l,u=t.stat_desc.extra_base,d=t.stat_desc.max_length,f=0;for(l=0;15>=l;l++)e.bl_count[l]=0;for(n[2*e.heap[e.heap_max]+1]=0,t=e.heap_max+1;573>t;t++){var v=e.heap[t];if((l=n[2*n[2*v+1]+1]+1)>d&&(l=d,f++),n[2*v+1]=l,!(v>c)){e.bl_count[l]++;var g=0;v>=u&&(g=a[v-u]);var h=n[2*v];e.opt_len+=h*(l+g),o&&(e.static_len+=h*(r[2*v+1]+g))}}if(0!==f){do{for(l=d-1;0===e.bl_count[l];)l--;e.bl_count[l]--,e.bl_count[l+1]+=2,e.bl_count[d]--,f-=2}while(0<f);for(l=d;0!==l;l--)for(v=e.bl_count[l];0!==v;)(r=e.heap[--t])>c||(n[2*r+1]!==l&&(e.opt_len+=(l-n[2*r+1])*n[2*r],n[2*r+1]=l),v--)}_t(i,s,e.bl_count)},Et=function(e,t,n){var i,r=-1,o=t[1],a=0,s=7,c=4;for(0===o&&(s=138,c=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++){var l=o;o=t[2*(i+1)+1],++a<s&&l===o||(a<c?e.bl_tree[2*l]+=a:0!==l?(l!==r&&e.bl_tree[2*l]++,e.bl_tree[32]++):10>=a?e.bl_tree[34]++:e.bl_tree[36]++,a=0,r=l,0===o?(s=138,c=3):l===o?(s=6,c=3):(s=7,c=4))}},At=function(e,t,n){var i,r=-1,o=t[1],a=0,s=7,c=4;for(0===o&&(s=138,c=3),i=0;i<=n;i++){var l=o;if(o=t[2*(i+1)+1],!(++a<s&&l===o)){if(a<c)do{pt(e,l,e.bl_tree)}while(0!=--a);else 0!==l?(l!==r&&(pt(e,l,e.bl_tree),a--),pt(e,16,e.bl_tree),ht(e,a-3,2)):10>=a?(pt(e,17,e.bl_tree),ht(e,a-3,3)):(pt(e,18,e.bl_tree),ht(e,a-11,7));a=0,r=l,0===o?(s=138,c=3):l===o?(s=6,c=3):(s=7,c=4)}}},St=!1,Rt=function(e,t,n,i){ht(e,i?1:0,3),bt(e),gt(e,n),gt(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},It=function(e,t,n,i){var r,o=65535&e|0;for(e=e>>>16&65535|0;0!==n;){n-=r=2e3<n?2e3:n;do{e=e+(o=o+t[i++]|0)|0}while(--r);o%=65521,e%=65521}return o|e<<16|0},xt=new Uint32Array(function(){for(var e,t=[],n=0;256>n;n++){e=n;for(var i=0;8>i;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}()),Nt=function(e,t,n,i){for(n=i+n,e^=-1;i<n;i++)e=e>>>8^xt[255&(e^t[i])];return-1^e},Ot={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Lt={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},Dt=function(e,t,n){return e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(ct[n]+256+1)]++,e.dyn_dtree[2*(256>t?st[t]:st[256+(t>>>7)])]++),e.sym_next===e.sym_end},Mt=Lt.Z_NO_FLUSH,Pt=Lt.Z_PARTIAL_FLUSH,zt=Lt.Z_FULL_FLUSH,Ut=Lt.Z_FINISH,Ft=Lt.Z_BLOCK,Bt=Lt.Z_OK,Gt=Lt.Z_STREAM_END,Ht=Lt.Z_STREAM_ERROR,qt=Lt.Z_DATA_ERROR,jt=Lt.Z_BUF_ERROR,Vt=Lt.Z_DEFAULT_COMPRESSION,Zt=Lt.Z_FILTERED,Kt=Lt.Z_HUFFMAN_ONLY,Xt=Lt.Z_RLE,Jt=Lt.Z_FIXED,Yt=Lt.Z_DEFAULT_STRATEGY,Qt=Lt.Z_UNKNOWN,Wt=Lt.Z_DEFLATED,$t=function(e,t){return e.msg=Ot[t],t},en=function(e){for(var t=e.length;0<=--t;)e[t]=0},tn=function(e,t,n){return(t<<e.hash_shift^n)&e.hash_mask},nn=function(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},rn=function(e,t){var n=0<=e.block_start?e.block_start:-1,i=e.strstart-e.block_start,r=0;if(0<e.level){for(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;31>=t;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;256>t;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),Tt(e,e.l_desc),Tt(e,e.d_desc),Et(e,e.dyn_ltree,e.l_desc.max_code),Et(e,e.dyn_dtree,e.d_desc.max_code),Tt(e,e.bl_desc),r=18;3<=r&&0===e.bl_tree[2*rt[r]+1];r--);e.opt_len+=3*(r+1)+14;var o=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3;a<=o&&(o=a)}else o=a=i+5;if(i+4<=o&&-1!==n)Rt(e,n,i,t);else if(4===e.strategy||a===o)ht(e,2+(t?1:0),3),Ct(e,ot,at);else{for(ht(e,4+(t?1:0),3),n=e.l_desc.max_code+1,i=e.d_desc.max_code+1,r+=1,ht(e,n-257,5),ht(e,i-1,5),ht(e,r-4,4),o=0;o<r;o++)ht(e,e.bl_tree[2*rt[o]+1],3);At(e,e.dyn_ltree,n-1),At(e,e.dyn_dtree,i-1),Ct(e,e.dyn_ltree,e.dyn_dtree)}wt(e),t&&bt(e),e.block_start=e.strstart,nn(e.strm)},on=function(e,t){e.pending_buf[e.pending++]=t},an=function(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},sn=function(e,t,n,i){var r=e.avail_in;return r>i&&(r=i),0===r?0:(e.avail_in-=r,t.set(e.input.subarray(e.next_in,e.next_in+r),n),1===e.state.wrap?e.adler=It(e.adler,t,r,n):2===e.state.wrap&&(e.adler=Nt(e.adler,t,r,n)),e.next_in+=r,e.total_in+=r,r)},cn=function(e,t){var n=e.max_chain_length,i=e.strstart,r=e.prev_length,o=e.nice_match,a=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,s=e.window,c=e.w_mask,l=e.prev,u=e.strstart+258,d=s[i+r-1],f=s[i+r];e.prev_length>=e.good_match&&(n>>=2),o>e.lookahead&&(o=e.lookahead);do{var v=t;if(s[v+r]===f&&s[v+r-1]===d&&s[v]===s[i]&&s[++v]===s[i+1]){for(i+=2,v++;s[++i]===s[++v]&&s[++i]===s[++v]&&s[++i]===s[++v]&&s[++i]===s[++v]&&s[++i]===s[++v]&&s[++i]===s[++v]&&s[++i]===s[++v]&&s[++i]===s[++v]&&i<u;);if(v=258-(u-i),i=u-258,v>r){if(e.match_start=t,r=v,v>=o)break;d=s[i+r-1],f=s[i+r]}}}while((t=l[t&c])>a&&0!=--n);return r<=e.lookahead?r:e.lookahead},ln=function(e){var t=e.w_size;do{var n=e.window_size-e.lookahead-e.strstart;if(e.strstart>=t+(t-262)){e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart);var i,r=e,o=r.w_size,a=i=r.hash_size;do{var s=r.head[--a];r.head[a]=s>=o?s-o:0}while(--i);a=i=o;do{s=r.prev[--a],r.prev[a]=s>=o?s-o:0}while(--i);n+=t}if(0===e.strm.avail_in)break;if(n=sn(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=n,3<=e.lookahead+e.insert)for(n=e.strstart-e.insert,e.ins_h=e.window[n],e.ins_h=tn(e,e.ins_h,e.window[n+1]);e.insert&&(e.ins_h=tn(e,e.ins_h,e.window[n+3-1]),e.prev[n&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=n,n++,e.insert--,!(3>e.lookahead+e.insert)););}while(262>e.lookahead&&0!==e.strm.avail_in)},un=function(e,t){var n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,i=0,r=e.strm.avail_in;do{var o=65535,a=e.bi_valid+42>>3;if(e.strm.avail_out<a)break;a=e.strm.avail_out-a;var s=e.strstart-e.block_start;if(o>s+e.strm.avail_in&&(o=s+e.strm.avail_in),o>a&&(o=a),o<n&&(0===o&&t!==Ut||t===Mt||o!==s+e.strm.avail_in))break;i=t===Ut&&o===s+e.strm.avail_in?1:0,Rt(e,0,0,i),e.pending_buf[e.pending-4]=o,e.pending_buf[e.pending-3]=o>>8,e.pending_buf[e.pending-2]=~o,e.pending_buf[e.pending-1]=~o>>8,nn(e.strm),s&&(s>o&&(s=o),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+s),e.strm.next_out),e.strm.next_out+=s,e.strm.avail_out-=s,e.strm.total_out+=s,e.block_start+=s,o-=s),o&&(sn(e.strm,e.strm.output,e.strm.next_out,o),e.strm.next_out+=o,e.strm.avail_out-=o,e.strm.total_out+=o)}while(0===i);return(r-=e.strm.avail_in)&&(r>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=r&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),2>e.matches&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-r,e.strm.next_in),e.strstart),e.strstart+=r,e.insert+=r>e.w_size-e.insert?e.w_size-e.insert:r),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),i?4:t!==Mt&&t!==Ut&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),2>e.matches&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(sn(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,n=(a=65535<e.pending_buf_size-a?65535:e.pending_buf_size-a)>e.w_size?e.w_size:a,((s=e.strstart-e.block_start)>=n||(s||t===Ut)&&t!==Mt&&0===e.strm.avail_in&&s<=a)&&(o=s>a?a:s,i=t===Ut&&0===e.strm.avail_in&&o===s?1:0,Rt(e,e.block_start,o,i),e.block_start+=o,nn(e.strm)),i?3:1)},dn=function(e,t){for(var n;;){if(262>e.lookahead){if(ln(e),262>e.lookahead&&t===Mt)return 1;if(0===e.lookahead)break}if(n=0,3<=e.lookahead&&(e.ins_h=tn(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-262&&(e.match_length=cn(e,n)),3<=e.match_length)if(n=Dt(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&3<=e.lookahead){e.match_length--;do{e.strstart++,e.ins_h=tn(e,e.ins_h,e.window[e.strstart+3-1]),e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=tn(e,e.ins_h,e.window[e.strstart+1]);else n=Dt(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(rn(e,!1),0===e.strm.avail_out))return 1}return e.insert=2>e.strstart?e.strstart:2,t===Ut?(rn(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(rn(e,!1),0===e.strm.avail_out)?1:2},fn=function(e,t){for(var n,i;;){if(262>e.lookahead){if(ln(e),262>e.lookahead&&t===Mt)return 1;if(0===e.lookahead)break}if(n=0,3<=e.lookahead&&(e.ins_h=tn(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-262&&(e.match_length=cn(e,n),5>=e.match_length&&(e.strategy===Zt||3===e.match_length&&4096<e.strstart-e.match_start)&&(e.match_length=2)),3<=e.prev_length&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,n=Dt(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=tn(e,e.ins_h,e.window[e.strstart+3-1]),e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(rn(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=Dt(e,0,e.window[e.strstart-1]))&&rn(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(Dt(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=2>e.strstart?e.strstart:2,t===Ut?(rn(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(rn(e,!1),0===e.strm.avail_out)?1:2},vn=[new L(0,0,0,0,un),new L(4,4,8,4,dn),new L(4,5,16,8,dn),new L(4,6,32,32,dn),new L(4,4,16,16,fn),new L(8,16,32,32,fn),new L(8,16,128,128,fn),new L(8,32,128,256,fn),new L(32,128,258,1024,fn),new L(32,258,258,4096,fn)],gn=function(e){if(!e)return 1;var t=e.state;return!t||t.strm!==e||42!==t.status&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&113!==t.status&&666!==t.status?1:0},hn=function(e){if(gn(e))return $t(e,Ht);e.total_in=e.total_out=0,e.data_type=Qt;var t=e.state;if(t.pending=0,t.pending_out=0,0>t.wrap&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=-2,!St){var n,i,r;for(e=Array(16),r=i=0;28>r;r++)for(lt[r]=i,n=0;n<1<<tt[r];n++)ct[i++]=r;for(ct[i-1]=r,r=i=0;16>r;r++)for(ut[r]=i,n=0;n<1<<nt[r];n++)st[i++]=r;for(i>>=7;30>r;r++)for(ut[r]=i<<7,n=0;n<1<<nt[r]-7;n++)st[256+i++]=r;for(n=0;15>=n;n++)e[n]=0;for(n=0;143>=n;)ot[2*n+1]=8,n++,e[8]++;for(;255>=n;)ot[2*n+1]=9,n++,e[9]++;for(;279>=n;)ot[2*n+1]=7,n++,e[7]++;for(;287>=n;)ot[2*n+1]=8,n++,e[8]++;for(_t(ot,287,e),n=0;30>n;n++)at[2*n+1]=5,at[2*n]=mt(n,5);dt=new N(ot,tt,257,286,15),ft=new N(at,nt,0,30,15),vt=new N([],it,0,19,7),St=!0}return t.l_desc=new O(t.dyn_ltree,dt),t.d_desc=new O(t.dyn_dtree,ft),t.bl_desc=new O(t.bl_tree,vt),t.bi_buf=0,t.bi_valid=0,wt(t),Bt},pn=function(e){var t=hn(e);return t===Bt&&((e=e.state).window_size=2*e.w_size,en(e.head),e.max_lazy_match=vn[e.level].max_lazy,e.good_match=vn[e.level].good_length,e.nice_match=vn[e.level].nice_length,e.max_chain_length=vn[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),t},mn=function(e,t,n,i,r,o){if(!e)return Ht;var a=1;if(t===Vt&&(t=6),0>i?(a=0,i=-i):15<i&&(a=2,i-=16),1>r||9<r||n!==Wt||8>i||15<i||0>t||9<t||0>o||o>Jt||8===i&&1!==a)return $t(e,Ht);8===i&&(i=9);var s=new D;return e.state=s,s.strm=e,s.status=42,s.wrap=a,s.gzhead=null,s.w_bits=i,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=r+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<r+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=3*(s.lit_bufsize-1),s.level=t,s.strategy=o,s.method=n,pn(e)},_n={deflateInit:function(e,t){return mn(e,t,Wt,15,8,Yt)},deflateInit2:mn,deflateReset:pn,deflateResetKeep:hn,deflateSetHeader:function(e,t){return gn(e)||2!==e.state.wrap?Ht:(e.state.gzhead=t,Bt)},deflate:function(e,t){if(gn(e)||t>Ft||0>t)return e?$t(e,Ht):Ht;var n=e.state;if(!e.output||0!==e.avail_in&&!e.input||666===n.status&&t!==Ut)return $t(e,0===e.avail_out?jt:Ht);var i=n.last_flush;if(n.last_flush=t,0!==n.pending){if(nn(e),0===e.avail_out)return n.last_flush=-1,Bt}else if(0===e.avail_in&&2*t-(4<t?9:0)<=2*i-(4<i?9:0)&&t!==Ut)return $t(e,jt);if(666===n.status&&0!==e.avail_in)return $t(e,jt);if(42===n.status&&0===n.wrap&&(n.status=113),42===n.status&&(i=Wt+(n.w_bits-8<<4)<<8,i|=(n.strategy>=Kt||2>n.level?0:6>n.level?1:6===n.level?2:3)<<6,0!==n.strstart&&(i|=32),an(n,i+(31-i%31)),0!==n.strstart&&(an(n,e.adler>>>16),an(n,65535&e.adler)),e.adler=1,n.status=113,nn(e),0!==n.pending))return n.last_flush=-1,Bt;if(57===n.status)if(e.adler=0,on(n,31),on(n,139),on(n,8),n.gzhead)on(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),on(n,255&n.gzhead.time),on(n,n.gzhead.time>>8&255),on(n,n.gzhead.time>>16&255),on(n,n.gzhead.time>>24&255),on(n,9===n.level?2:n.strategy>=Kt||2>n.level?4:0),on(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(on(n,255&n.gzhead.extra.length),on(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Nt(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(on(n,0),on(n,0),on(n,0),on(n,0),on(n,0),on(n,9===n.level?2:n.strategy>=Kt||2>n.level?4:0),on(n,3),n.status=113,nn(e),0!==n.pending)return n.last_flush=-1,Bt;if(69===n.status){if(n.gzhead.extra){i=n.pending;for(var r=(65535&n.gzhead.extra.length)-n.gzindex;n.pending+r>n.pending_buf_size;){var o=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+o),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(e.adler=Nt(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=o,nn(e),0!==n.pending)return n.last_flush=-1,Bt;i=0,r-=o}o=new Uint8Array(n.gzhead.extra),n.pending_buf.set(o.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending+=r,n.gzhead.hcrc&&n.pending>i&&(e.adler=Nt(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=Nt(e.adler,n.pending_buf,n.pending-i,i)),nn(e),0!==n.pending)return n.last_flush=-1,Bt;i=0}r=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,on(n,r)}while(0!==r);n.gzhead.hcrc&&n.pending>i&&(e.adler=Nt(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=Nt(e.adler,n.pending_buf,n.pending-i,i)),nn(e),0!==n.pending)return n.last_flush=-1,Bt;i=0}r=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,on(n,r)}while(0!==r);n.gzhead.hcrc&&n.pending>i&&(e.adler=Nt(e.adler,n.pending_buf,n.pending-i,i))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(nn(e),0!==n.pending))return n.last_flush=-1,Bt;on(n,255&e.adler),on(n,e.adler>>8&255),e.adler=0}if(n.status=113,nn(e),0!==n.pending)return n.last_flush=-1,Bt}if(0!==e.avail_in||0!==n.lookahead||t!==Mt&&666!==n.status){if(i=0===n.level?un(n,t):n.strategy===Kt?function(e,t){for(var n;;){if(0===e.lookahead&&(ln(e),0===e.lookahead)){if(t===Mt)return 1;break}if(e.match_length=0,n=Dt(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(rn(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Ut?(rn(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(rn(e,!1),0===e.strm.avail_out)?1:2}(n,t):n.strategy===Xt?function(e,t){for(var n,i,r,o=e.window;;){if(258>=e.lookahead){if(ln(e),258>=e.lookahead&&t===Mt)return 1;if(0===e.lookahead)break}if(e.match_length=0,3<=e.lookahead&&0<e.strstart&&(n=o[i=e.strstart-1])===o[++i]&&n===o[++i]&&n===o[++i]){for(r=e.strstart+258;n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&i<r;);e.match_length=258-(r-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(3<=e.match_length?(n=Dt(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Dt(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(rn(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Ut?(rn(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(rn(e,!1),0===e.strm.avail_out)?1:2}(n,t):vn[n.level].func(n,t),3!==i&&4!==i||(n.status=666),1===i||3===i)return 0===e.avail_out&&(n.last_flush=-1),Bt;if(2===i&&(t===Pt?(ht(n,2,3),pt(n,256,ot),16===n.bi_valid?(gt(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):8<=n.bi_valid&&(n.pending_buf[n.pending++]=255&n.bi_buf,n.bi_buf>>=8,n.bi_valid-=8)):t!==Ft&&(Rt(n,0,0,!1),t===zt&&(en(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),nn(e),0===e.avail_out))return n.last_flush=-1,Bt}return t!==Ut?Bt:0>=n.wrap?Gt:(2===n.wrap?(on(n,255&e.adler),on(n,e.adler>>8&255),on(n,e.adler>>16&255),on(n,e.adler>>24&255),on(n,255&e.total_in),on(n,e.total_in>>8&255),on(n,e.total_in>>16&255),on(n,e.total_in>>24&255)):(an(n,e.adler>>>16),an(n,65535&e.adler)),nn(e),0<n.wrap&&(n.wrap=-n.wrap),0!==n.pending?Bt:Gt)},deflateEnd:function(e){if(gn(e))return Ht;var t=e.state.status;return e.state=null,113===t?$t(e,qt):Bt},deflateSetDictionary:function(e,t){var n=t.length;if(gn(e))return Ht;var i=e.state,r=i.wrap;if(2===r||1===r&&42!==i.status||i.lookahead)return Ht;if(1===r&&(e.adler=It(e.adler,t,n,0)),i.wrap=0,n>=i.w_size){0===r&&(en(i.head),i.strstart=0,i.block_start=0,i.insert=0);var o=new Uint8Array(i.w_size);o.set(t.subarray(n-i.w_size,n),0),t=o,n=i.w_size}o=e.avail_in;var a=e.next_in,s=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,ln(i);3<=i.lookahead;){t=i.strstart,n=i.lookahead-2;do{i.ins_h=tn(i,i.ins_h,i.window[t+3-1]),i.prev[t&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=t,t++}while(--n);i.strstart=t,i.lookahead=2,ln(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,e.next_in=a,e.input=s,e.avail_in=o,i.wrap=r,Bt},deflateInfo:"pako deflate (from Nodeca project)"},wn={assign:function(t){for(var n=Array.prototype.slice.call(arguments,1);n.length;){var i=n.shift();if(i){if("object"!==e(i))throw new TypeError(i+"must be non-object");for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}}return t},flattenChunks:function(e){for(var t=0,n=0,i=e.length;n<i;n++)t+=e[n].length;t=new Uint8Array(t),i=n=0;for(var r=e.length;n<r;n++){var o=e[n];t.set(o,i),i+=o.length}return t}},bn=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(Ve){bn=!1}for(var kn=new Uint8Array(256),yn=0;256>yn;yn++)kn[yn]=252<=yn?6:248<=yn?5:240<=yn?4:224<=yn?3:192<=yn?2:1;kn[254]=kn[254]=1;var Cn={string2buf:function(e){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,n,i=e.length,r=0;for(t=0;t<i;t++){var o=e.charCodeAt(t);if(55296==(64512&o)&&t+1<i){var a=e.charCodeAt(t+1);56320==(64512&a)&&(o=65536+(o-55296<<10)+(a-56320),t++)}r+=128>o?1:2048>o?2:65536>o?3:4}var s=new Uint8Array(r);for(t=n=0;n<r;t++)55296==(64512&(o=e.charCodeAt(t)))&&t+1<i&&(56320==(64512&(a=e.charCodeAt(t+1)))&&(o=65536+(o-55296<<10)+(a-56320),t++)),128>o?s[n++]=o:(2048>o?s[n++]=192|o>>>6:(65536>o?s[n++]=224|o>>>12:(s[n++]=240|o>>>18,s[n++]=128|o>>>12&63),s[n++]=128|o>>>6&63),s[n++]=128|63&o);return s},buf2string:function(e,t){var n,i,r=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));for(t=Array(2*r),n=i=0;n<r;){var o=e[n++];if(128>o)t[i++]=o;else{var a=kn[o];if(4<a)t[i++]=65533,n+=a-1;else{for(o&=2===a?31:3===a?15:7;1<a&&n<r;)o=o<<6|63&e[n++],a--;1<a?t[i++]=65533:65536>o?t[i++]=o:(o-=65536,t[i++]=55296|o>>10&1023,t[i++]=56320|1023&o)}}}if(65534>(e=i)&&t.subarray&&bn)t=String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));else{for(r="",n=0;n<e;n++)r+=String.fromCharCode(t[n]);t=r}return t},utf8border:function(e,t){(t=t||e.length)>e.length&&(t=e.length);for(var n=t-1;0<=n&&128==(192&e[n]);)n--;return 0>n||0===n?t:n+kn[e[n]]>t?n:t}},Tn=function(){this.input=null,this.total_in=this.avail_in=this.next_in=0,this.output=null,this.total_out=this.avail_out=this.next_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},En=Object.prototype.toString,An=Lt.Z_NO_FLUSH,Sn=Lt.Z_SYNC_FLUSH,Rn=Lt.Z_FULL_FLUSH,In=Lt.Z_FINISH,xn=Lt.Z_OK,Nn=Lt.Z_STREAM_END,On=Lt.Z_DEFAULT_COMPRESSION,Ln=Lt.Z_DEFAULT_STRATEGY,Dn=Lt.Z_DEFLATED;M.prototype.push=function(e,t){var n=this.strm,i=this.options.chunkSize;if(this.ended)return!1;for(t=t===~~t?t:!0===t?In:An,"string"==typeof e?n.input=Cn.string2buf(e):"[object ArrayBuffer]"===En.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),(t===Sn||t===Rn)&&6>=n.avail_out)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if((e=_n.deflate(n,t))===Nn)return 0<n.next_out&&this.onData(n.output.subarray(0,n.next_out)),e=_n.deflateEnd(this.strm),this.onEnd(e),this.ended=!0,e===xn;if(0===n.avail_out)this.onData(n.output);else if(0<t&&0<n.next_out)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}return!0},M.prototype.onData=function(e){this.chunks.push(e)},M.prototype.onEnd=function(e){e===xn&&(this.result=wn.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Mn,Pn,zn=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Un=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Fn=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Bn=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Gn=function(e,t,n,i,r,o,a,s){var c,l,u,d,f,v,g,h=s.bits,p=new Uint16Array(16),m=new Uint16Array(16);for(c=0;15>=c;c++)p[c]=0;for(l=0;l<i;l++)p[t[n+l]]++;var _=h;for(u=15;1<=u&&0===p[u];u--);if(_>u&&(_=u),0===u)return r[o++]=20971520,r[o++]=20971520,s.bits=1,0;for(h=1;h<u&&0===p[h];h++);for(_<h&&(_=h),c=d=1;15>=c;c++)if(d<<=1,0>(d-=p[c]))return-1;if(0<d&&(0===e||1!==u))return-1;for(m[1]=0,c=1;15>c;c++)m[c+1]=m[c]+p[c];for(l=0;l<i;l++)0!==t[n+l]&&(a[m[t[n+l]]++]=l);if(0===e)var w=g=a,b=20;else 1===e?(w=zn,g=Un,b=257):(w=Fn,g=Bn,b=0);l=f=0,c=h;var k=o;i=_,m=0;var y=-1,C=1<<_,T=C-1;if(1===e&&852<C||2===e&&592<C)return 1;for(;;){var E=c-m;if(a[l]+1<b)var A=0,S=a[l];else a[l]>=b?(A=g[a[l]-b],S=w[a[l]-b]):(A=96,S=0);d=1<<c-m,h=v=1<<i;do{r[k+(f>>m)+(v-=d)]=E<<24|A<<16|S|0}while(0!==v);for(d=1<<c-1;f&d;)d>>=1;if(0!==d?(f&=d-1,f+=d):f=0,l++,0==--p[c]){if(c===u)break;c=t[n+a[l]]}if(c>_&&(f&T)!==y){for(0===m&&(m=_),k+=h,d=1<<(i=c-m);i+m<u&&!(0>=(d-=p[i+m]));)i++,d<<=1;if(C+=1<<i,1===e&&852<C||2===e&&592<C)return 1;r[y=f&T]=_<<24|i<<16|k-o|0}}return 0!==f&&(r[k+f]=c-m<<24|4194304),s.bits=_,0},Hn=Lt.Z_FINISH,qn=Lt.Z_BLOCK,jn=Lt.Z_TREES,Vn=Lt.Z_OK,Zn=Lt.Z_STREAM_END,Kn=Lt.Z_NEED_DICT,Xn=Lt.Z_STREAM_ERROR,Jn=Lt.Z_DATA_ERROR,Yn=Lt.Z_MEM_ERROR,Qn=Lt.Z_BUF_ERROR,Wn=Lt.Z_DEFLATED,$n=function(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)},ei=function(e){if(!e)return 1;var t=e.state;return!t||t.strm!==e||16180>t.mode||16211<t.mode?1:0},ti=function(e){if(ei(e))return Xn;var t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=16180,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Vn},ni=function(e){if(ei(e))return Xn;var t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,ti(e)},ii=function(e,t){if(ei(e))return Xn;var n=e.state;if(0>t){var i=0;t=-t}else i=5+(t>>4),48>t&&(t&=15);return t&&(8>t||15<t)?Xn:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=i,n.wbits=t,ni(e))},ri=function(e,t){if(!e)return Xn;var n=new z;return e.state=n,n.strm=e,n.window=null,n.mode=16180,(t=ii(e,t))!==Vn&&(e.state=null),t},oi=!0,ai=function(e,t,n,i){var r=e.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),i>=r.wsize?(r.window.set(t.subarray(n-r.wsize,n),0),r.wnext=0,r.whave=r.wsize):((e=r.wsize-r.wnext)>i&&(e=i),r.window.set(t.subarray(n-i,n-i+e),r.wnext),(i-=e)?(r.window.set(t.subarray(n-i,n),0),r.wnext=i,r.whave=r.wsize):(r.wnext+=e,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=e))),0},si={inflateReset:ni,inflateReset2:ii,inflateResetKeep:ti,inflateInit:function(e){return ri(e,15)},inflateInit2:ri,inflate:function(e,t){var n=new Uint8Array(4),i=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ei(e)||!e.output||!e.input&&0!==e.avail_in)return Xn;var r=e.state;16191===r.mode&&(r.mode=16192);var o=e.next_out,a=e.output,s=e.avail_out,c=e.next_in,l=e.input,u=e.avail_in,d=r.hold,f=r.bits,v=u,g=s,h=Vn;e:for(;;)switch(r.mode){case 16180:if(0===r.wrap){r.mode=16192;break}for(;16>f;){if(0===u)break e;u--,d+=l[c++]<<f,f+=8}if(2&r.wrap&&35615===d){0===r.wbits&&(r.wbits=15),r.check=0,n[0]=255&d,n[1]=d>>>8&255,r.check=Nt(r.check,n,2,0),f=d=0,r.mode=16181;break}if(r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&d)<<8)+(d>>8))%31){e.msg="incorrect header check",r.mode=16209;break}if((15&d)!==Wn){e.msg="unknown compression method",r.mode=16209;break}f-=4;var p=8+(15&(d>>>=4));if(0===r.wbits&&(r.wbits=p),15<p||p>r.wbits){e.msg="invalid window size",r.mode=16209;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=512&d?16189:16191,f=d=0;break;case 16181:for(;16>f;){if(0===u)break e;u--,d+=l[c++]<<f,f+=8}if(r.flags=d,(255&r.flags)!==Wn){e.msg="unknown compression method",r.mode=16209;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=16209;break}r.head&&(r.head.text=d>>8&1),512&r.flags&&4&r.wrap&&(n[0]=255&d,n[1]=d>>>8&255,r.check=Nt(r.check,n,2,0)),f=d=0,r.mode=16182;case 16182:for(;32>f;){if(0===u)break e;u--,d+=l[c++]<<f,f+=8}r.head&&(r.head.time=d),512&r.flags&&4&r.wrap&&(n[0]=255&d,n[1]=d>>>8&255,n[2]=d>>>16&255,n[3]=d>>>24&255,r.check=Nt(r.check,n,4,0)),f=d=0,r.mode=16183;case 16183:for(;16>f;){if(0===u)break e;u--,d+=l[c++]<<f,f+=8}r.head&&(r.head.xflags=255&d,r.head.os=d>>8),512&r.flags&&4&r.wrap&&(n[0]=255&d,n[1]=d>>>8&255,r.check=Nt(r.check,n,2,0)),f=d=0,r.mode=16184;case 16184:if(1024&r.flags){for(;16>f;){if(0===u)break e;u--,d+=l[c++]<<f,f+=8}r.length=d,r.head&&(r.head.extra_len=d),512&r.flags&&4&r.wrap&&(n[0]=255&d,n[1]=d>>>8&255,r.check=Nt(r.check,n,2,0)),f=d=0}else r.head&&(r.head.extra=null);r.mode=16185;case 16185:if(1024&r.flags){var m=r.length;if(m>u&&(m=u),m&&(r.head&&(p=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(l.subarray(c,c+m),p)),512&r.flags&&4&r.wrap&&(r.check=Nt(r.check,l,m,c)),u-=m,c+=m,r.length-=m),r.length)break e}r.length=0,r.mode=16186;case 16186:if(2048&r.flags){if(0===u)break e;m=0;do{p=l[c+m++],r.head&&p&&65536>r.length&&(r.head.name+=String.fromCharCode(p))}while(p&&m<u);if(512&r.flags&&4&r.wrap&&(r.check=Nt(r.check,l,m,c)),u-=m,c+=m,p)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=16187;case 16187:if(4096&r.flags){if(0===u)break e;m=0;do{p=l[c+m++],r.head&&p&&65536>r.length&&(r.head.comment+=String.fromCharCode(p))}while(p&&m<u);if(512&r.flags&&4&r.wrap&&(r.check=Nt(r.check,l,m,c)),u-=m,c+=m,p)break e}else r.head&&(r.head.comment=null);r.mode=16188;case 16188:if(512&r.flags){for(;16>f;){if(0===u)break e;u--,d+=l[c++]<<f,f+=8}if(4&r.wrap&&d!==(65535&r.check)){e.msg="header crc mismatch",r.mode=16209;break}f=d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=16191;break;case 16189:for(;32>f;){if(0===u)break e;u--,d+=l[c++]<<f,f+=8}e.adler=r.check=$n(d),f=d=0,r.mode=16190;case 16190:if(0===r.havedict)return e.next_out=o,e.avail_out=s,e.next_in=c,e.avail_in=u,r.hold=d,r.bits=f,Kn;e.adler=r.check=1,r.mode=16191;case 16191:if(t===qn||t===jn)break e;case 16192:if(r.last){d>>>=7&f,f-=7&f,r.mode=16206;break}for(;3>f;){if(0===u)break e;u--,d+=l[c++]<<f,f+=8}switch(r.last=1&d,--f,3&(d>>>=1)){case 0:r.mode=16193;break;case 1:if(m=r,oi){for(Mn=new Int32Array(512),Pn=new Int32Array(32),p=0;144>p;)m.lens[p++]=8;for(;256>p;)m.lens[p++]=9;for(;280>p;)m.lens[p++]=7;for(;288>p;)m.lens[p++]=8;for(Gn(1,m.lens,0,288,Mn,0,m.work,{bits:9}),p=0;32>p;)m.lens[p++]=5;Gn(2,m.lens,0,32,Pn,0,m.work,{bits:5}),oi=!1}if(m.lencode=Mn,m.lenbits=9,m.distcode=Pn,m.distbits=5,r.mode=16199,t===jn){d>>>=2,f-=2;break e}break;case 2:r.mode=16196;break;case 3:e.msg="invalid block type",r.mode=16209}d>>>=2,f-=2;break;case 16193:for(d>>>=7&f,f-=7&f;32>f;){if(0===u)break e;u--,d+=l[c++]<<f,f+=8}if((65535&d)!=(d>>>16^65535)){e.msg="invalid stored block lengths",r.mode=16209;break}if(r.length=65535&d,f=d=0,r.mode=16194,t===jn)break e;case 16194:r.mode=16195;case 16195:if(m=r.length){if(m>u&&(m=u),m>s&&(m=s),0===m)break e;a.set(l.subarray(c,c+m),o),u-=m,c+=m,s-=m,o+=m,r.length-=m;break}r.mode=16191;break;case 16196:for(;14>f;){if(0===u)break e;u--,d+=l[c++]<<f,f+=8}if(r.nlen=257+(31&d),d>>>=5,f-=5,r.ndist=1+(31&d),d>>>=5,f-=5,r.ncode=4+(15&d),d>>>=4,f-=4,286<r.nlen||30<r.ndist){e.msg="too many length or distance symbols",r.mode=16209;break}r.have=0,r.mode=16197;case 16197:for(;r.have<r.ncode;){for(;3>f;){if(0===u)break e;u--,d+=l[c++]<<f,f+=8}r.lens[i[r.have++]]=7&d,d>>>=3,f-=3}for(;19>r.have;)r.lens[i[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,m={bits:r.lenbits},h=Gn(0,r.lens,0,19,r.lencode,0,r.work,m),r.lenbits=m.bits,h){e.msg="invalid code lengths set",r.mode=16209;break}r.have=0,r.mode=16198;case 16198:for(;r.have<r.nlen+r.ndist;){for(;;){var _=r.lencode[d&(1<<r.lenbits)-1];if(m=_>>>24,_&=65535,m<=f)break;if(0===u)break e;u--,d+=l[c++]<<f,f+=8}if(16>_)d>>>=m,f-=m,r.lens[r.have++]=_;else{if(16===_){for(p=m+2;f<p;){if(0===u)break e;u--,d+=l[c++]<<f,f+=8}if(d>>>=m,f-=m,0===r.have){e.msg="invalid bit length repeat",r.mode=16209;break}p=r.lens[r.have-1],m=3+(3&d),d>>>=2,f-=2}else if(17===_){for(p=m+3;f<p;){if(0===u)break e;u--,d+=l[c++]<<f,f+=8}f-=m,p=0,m=3+(7&(d>>>=m)),d>>>=3,f-=3}else{for(p=m+7;f<p;){if(0===u)break e;u--,d+=l[c++]<<f,f+=8}f-=m,p=0,m=11+(127&(d>>>=m)),d>>>=7,f-=7}if(r.have+m>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=16209;break}for(;m--;)r.lens[r.have++]=p}}if(16209===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=16209;break}if(r.lenbits=9,m={bits:r.lenbits},h=Gn(1,r.lens,0,r.nlen,r.lencode,0,r.work,m),r.lenbits=m.bits,h){e.msg="invalid literal/lengths set",r.mode=16209;break}if(r.distbits=6,r.distcode=r.distdyn,m={bits:r.distbits},h=Gn(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,m),r.distbits=m.bits,h){e.msg="invalid distances set",r.mode=16209;break}if(r.mode=16199,t===jn)break e;case 16199:r.mode=16200;case 16200:if(6<=u&&258<=s){e.next_out=o,e.avail_out=s,e.next_in=c,e.avail_in=u,r.hold=d,r.bits=f;var w=e,b=w.state,k=w.next_in;a=w.input;var y=k+(w.avail_in-5),C=w.next_out;l=w.output;var T=C-(g-w.avail_out),E=C+(w.avail_out-257),A=b.dmax;_=b.wsize;var S=b.whave,R=b.wnext,I=b.window;p=b.hold,m=b.bits,f=b.lencode,d=b.distcode,s=(1<<b.lenbits)-1,u=(1<<b.distbits)-1;t:do{15>m&&(p+=a[k++]<<m,m+=8,p+=a[k++]<<m,m+=8);var x=f[p&s];n:for(;;){if(p>>>=o=x>>>24,m-=o,0===(o=x>>>16&255))l[C++]=65535&x;else{if(!(16&o)){if(0==(64&o)){x=f[(65535&x)+(p&(1<<o)-1)];continue n}32&o?b.mode=16191:(w.msg="invalid literal/length code",b.mode=16209);break t}c=65535&x,(o&=15)&&(m<o&&(p+=a[k++]<<m,m+=8),c+=p&(1<<o)-1,p>>>=o,m-=o),15>m&&(p+=a[k++]<<m,m+=8,p+=a[k++]<<m,m+=8),x=d[p&u];i:for(;;){if(p>>>=o=x>>>24,m-=o,!(16&(o=x>>>16&255))){if(0==(64&o)){x=d[(65535&x)+(p&(1<<o)-1)];continue i}w.msg="invalid distance code",b.mode=16209;break t}var N=65535&x;if(m<(o&=15)&&(p+=a[k++]<<m,(m+=8)<o&&(p+=a[k++]<<m,m+=8)),(N+=p&(1<<o)-1)>A){w.msg="invalid distance too far back",b.mode=16209;break t}if(p>>>=o,m-=o,N>(o=C-T)){if((o=N-o)>S&&b.sane){w.msg="invalid distance too far back",b.mode=16209;break t}var O=0;if(x=I,0===R){if(O+=_-o,o<c){c-=o;do{l[C++]=I[O++]}while(--o);O=C-N,x=l}}else if(R<o){if(O+=_+R-o,(o-=R)<c){c-=o;do{l[C++]=I[O++]}while(--o);if(O=0,R<c){c-=o=R;do{l[C++]=I[O++]}while(--o);O=C-N,x=l}}}else if(O+=R-o,o<c){c-=o;do{l[C++]=I[O++]}while(--o);O=C-N,x=l}for(;2<c;)l[C++]=x[O++],l[C++]=x[O++],l[C++]=x[O++],c-=3;c&&(l[C++]=x[O++],1<c&&(l[C++]=x[O++]))}else{O=C-N;do{l[C++]=l[O++],l[C++]=l[O++],l[C++]=l[O++],c-=3}while(2<c);c&&(l[C++]=l[O++],1<c&&(l[C++]=l[O++]))}break}}break}}while(k<y&&C<E);k-=c=m>>3,m-=c<<3,w.next_in=k,w.next_out=C,w.avail_in=k<y?y-k+5:5-(k-y),w.avail_out=C<E?E-C+257:257-(C-E),b.hold=p&(1<<m)-1,b.bits=m,o=e.next_out,a=e.output,s=e.avail_out,c=e.next_in,l=e.input,u=e.avail_in,d=r.hold,f=r.bits,16191===r.mode&&(r.back=-1);break}for(r.back=0;m=(_=r.lencode[d&(1<<r.lenbits)-1])>>>24,p=_>>>16&255,_&=65535,!(m<=f);){if(0===u)break e;u--,d+=l[c++]<<f,f+=8}if(p&&0==(240&p)){for(I=m,R=p,S=_;m=(_=r.lencode[S+((d&(1<<I+R)-1)>>I)])>>>24,p=_>>>16&255,_&=65535,!(I+m<=f);){if(0===u)break e;u--,d+=l[c++]<<f,f+=8}d>>>=I,f-=I,r.back+=I}if(d>>>=m,f-=m,r.back+=m,r.length=_,0===p){r.mode=16205;break}if(32&p){r.back=-1,r.mode=16191;break}if(64&p){e.msg="invalid literal/length code",r.mode=16209;break}r.extra=15&p,r.mode=16201;case 16201:if(r.extra){for(p=r.extra;f<p;){if(0===u)break e;u--,d+=l[c++]<<f,f+=8}r.length+=d&(1<<r.extra)-1,d>>>=r.extra,f-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=16202;case 16202:for(;m=(_=r.distcode[d&(1<<r.distbits)-1])>>>24,p=_>>>16&255,_&=65535,!(m<=f);){if(0===u)break e;u--,d+=l[c++]<<f,f+=8}if(0==(240&p)){for(I=m,R=p,S=_;m=(_=r.distcode[S+((d&(1<<I+R)-1)>>I)])>>>24,p=_>>>16&255,_&=65535,!(I+m<=f);){if(0===u)break e;u--,d+=l[c++]<<f,f+=8}d>>>=I,f-=I,r.back+=I}if(d>>>=m,f-=m,r.back+=m,64&p){e.msg="invalid distance code",r.mode=16209;break}r.offset=_,r.extra=15&p,r.mode=16203;case 16203:if(r.extra){for(p=r.extra;f<p;){if(0===u)break e;u--,d+=l[c++]<<f,f+=8}r.offset+=d&(1<<r.extra)-1,d>>>=r.extra,f-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=16209;break}r.mode=16204;case 16204:if(0===s)break e;if(m=g-s,r.offset>m){if((m=r.offset-m)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=16209;break}m>r.wnext?(m-=r.wnext,p=r.wsize-m):p=r.wnext-m,m>r.length&&(m=r.length),I=r.window}else I=a,p=o-r.offset,m=r.length;m>s&&(m=s),s-=m,r.length-=m;do{a[o++]=I[p++]}while(--m);0===r.length&&(r.mode=16200);break;case 16205:if(0===s)break e;a[o++]=r.length,s--,r.mode=16200;break;case 16206:if(r.wrap){for(;32>f;){if(0===u)break e;u--,d|=l[c++]<<f,f+=8}if(g-=s,e.total_out+=g,r.total+=g,4&r.wrap&&g&&(e.adler=r.check=r.flags?Nt(r.check,a,g,o-g):It(r.check,a,g,o-g)),g=s,4&r.wrap&&(r.flags?d:$n(d))!==r.check){e.msg="incorrect data check",r.mode=16209;break}f=d=0}r.mode=16207;case 16207:if(r.wrap&&r.flags){for(;32>f;){if(0===u)break e;u--,d+=l[c++]<<f,f+=8}if(4&r.wrap&&d!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=16209;break}f=d=0}r.mode=16208;case 16208:h=Zn;break e;case 16209:h=Jn;break e;case 16210:return Yn;default:return Xn}return e.next_out=o,e.avail_out=s,e.next_in=c,e.avail_in=u,r.hold=d,r.bits=f,(r.wsize||g!==e.avail_out&&16209>r.mode&&(16206>r.mode||t!==Hn))&&ai(e,e.output,e.next_out,g-e.avail_out),v-=e.avail_in,g-=e.avail_out,e.total_in+=v,e.total_out+=g,r.total+=g,4&r.wrap&&g&&(e.adler=r.check=r.flags?Nt(r.check,a,g,e.next_out-g):It(r.check,a,g,e.next_out-g)),e.data_type=r.bits+(r.last?64:0)+(16191===r.mode?128:0)+(16199===r.mode||16194===r.mode?256:0),(0===v&&0===g||t===Hn)&&h===Vn&&(h=Qn),h},inflateEnd:function(e){if(ei(e))return Xn;var t=e.state;return t.window&&(t.window=null),e.state=null,Vn},inflateGetHeader:function(e,t){return ei(e)||0==(2&(e=e.state).wrap)?Xn:(e.head=t,t.done=!1,Vn)},inflateSetDictionary:function(e,t){var n=t.length;if(ei(e))return Xn;var i=e.state;if(0!==i.wrap&&16190!==i.mode)return Xn;if(16190===i.mode&&It(1,t,n,0)!==i.check)return Jn;return ai(e,t,n,n)?(i.mode=16210,Yn):(i.havedict=1,Vn)},inflateInfo:"pako inflate (from Nodeca project)"},ci=function(){this.os=this.xflags=this.time=this.text=0,this.extra=null,this.extra_len=0,this.comment=this.name="",this.hcrc=0,this.done=!1},li=Object.prototype.toString,ui=Lt.Z_NO_FLUSH,di=Lt.Z_FINISH,fi=Lt.Z_OK,vi=Lt.Z_STREAM_END,gi=Lt.Z_NEED_DICT,hi=Lt.Z_STREAM_ERROR,pi=Lt.Z_DATA_ERROR,mi=Lt.Z_MEM_ERROR;U.prototype.push=function(e,t){var n=this.strm,i=this.options.chunkSize,r=this.options.dictionary;if(this.ended)return!1;var o=t===~~t?t:!0===t?di:ui;for("[object ArrayBuffer]"===li.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),(t=si.inflate(n,o))===gi&&r&&((t=si.inflateSetDictionary(n,r))===fi?t=si.inflate(n,o):t===pi&&(t=gi));0<n.avail_in&&t===vi&&0<n.state.wrap&&0!==e[n.next_in];)si.inflateReset(n),t=si.inflate(n,o);switch(t){case hi:case pi:case gi:case mi:return this.onEnd(t),this.ended=!0,!1}var a=n.avail_out;if(n.next_out&&(0===n.avail_out||t===vi))if("string"===this.options.to){var s=Cn.utf8border(n.output,n.next_out),c=n.next_out-s,l=Cn.buf2string(n.output,s);n.next_out=c,n.avail_out=i-c,c&&n.output.set(n.output.subarray(s,s+c),0),this.onData(l)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(t!==fi||0!==a){if(t===vi){t=si.inflateEnd(this.strm),this.onEnd(t),this.ended=!0;break}if(0===n.avail_in)break}}return!0},U.prototype.onData=function(e){this.chunks.push(e)},U.prototype.onEnd=function(e){e===fi&&(this.result="string"===this.options.to?this.chunks.join(""):wn.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var _i,wi={Deflate:M,deflate:P,deflateRaw:function(e,t){return(t=t||{}).raw=!0,P(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,P(e,t)},Inflate:U,inflate:F,inflateRaw:function(e,t){return(t=t||{}).raw=!0,F(e,t)},ungzip:F,constants:Lt};!function(e){e.BRAND="DeviceBrand",e.MANUFACTURER="DeviceManufacturer",e.MODEL="DeviceModel",e.TYPE="DeviceType",e.VERSION="DeviceVersion",e.OS_NAME="OperatingSystemName",e.OS_VERSION="OperatingSystemVersion",e.CATEGORY="DeviceCategory",e.FRAMEWORK_NAME="FrameworkName",e.FRAMEWORK_VERSION="FrameworkVersion"}(_i||(_i={}));var bi,ki,yi={DeviceType:{CONSOLE:"Console",DESKTOP:"DESKTOP",MOBILE:"Mobile",SETTOP:"Settop",SMARTTV:"SmartTV",TABLET:"Tablet",VEHICLE:"Vehicle",OTHER:"Other"},DeviceCategory:{ANDROID_DEVICE:"AND",APPLE_DEVICE:"APL",CHROMECAST:"CHR",DESKTOP_APP:"DSKAPP",DEVICE_SIMULATOR:"SIMULATOR",KAIOS_DEVICE:"KAIOS",LG_TV:"LGTV",LINUX:"LNX",NINTENDO:"NINTENDO",PLAYSTATION:"PS",ROKU:"RK",SAMSUNG_TV:"SAMSUNGTV",VIDAA_DEVICE:"VIDAA",VIZIO_TV:"VIZIOTV",WEB:"WEB",WINDOWS_DEVICE:"WIN",XBOX:"XB"}};!function(e){var t,n,i,r;e.TRACEPARENT_HEADER_KEY="traceparent",(i=n=e.SAMPLING_MODES||(e.SAMPLING_MODES={})).NONE="NONE",i.RCFG="RCFG",function(e){e.DERIVED="DERIVED",e.DEFAULT="DEFAULT"}(e.SAMPLING_STATUS||(e.SAMPLING_STATUS={})),function(e){e.SAMPLED="sl",e.NON_SAMPLED="nsl"}(r=e.SAMPLING_ACTION||(e.SAMPLING_ACTION={})),e.DEFAULT_SAMPLING_ACTION=((t={})[r.SAMPLED]=n.RCFG,t[r.NON_SAMPLED]=n.NONE,t),function(e){e.DEFAULT="def",e.CACHED="cac",e.REMOTE="rem"}(e.CONFIG_SOURCE||(e.CONFIG_SOURCE={})),function(e){e[e.APP=0]="APP",e[e.REMOTE=1]="REMOTE",e[e.MERGE=2]="MERGE"}(e.CONFIG_PREFERENCES||(e.CONFIG_PREFERENCES={})),function(e){e[e.DISABLED=0]="DISABLED",e[e.PERFORMANCE_TIMING=1]="PERFORMANCE_TIMING",e[e.PERFORMANCE_NAVIGATION_TIMING=2]="PERFORMANCE_NAVIGATION_TIMING"}(e.PERFORMANCE_CONTEXT||(e.PERFORMANCE_CONTEXT={})),function(e){e.DO_NOT_FETCH_UPDATE_TIMER="updateTimer",e.IMMEDIATE_FETCH="urgentFetch",e.UPDATE_TIMER_WITH_DIFF="checkDiff"}(e.RC_FETCH_MODE||(e.RC_FETCH_MODE={})),e.REMOTE_CONFIG_STORAGE_KEY="ConvivaRemoteConfig",e.END_POINT_STORAGE_KEY="ConvivaEndpoint",e.DEFAULT_END_POINT="https://appgw.conviva.com",e.REMOTE_CONFIG_URL_PREFIX="https://rc.conviva.com/js/",e.REMOTE_CONFIG_FILE_NAME="/remote_config.json",e.SAMPLING_STORAGE_RANDOM_NUMBER_KEY="ConvivaSamplingRandomNumber",e.DIAGNOSTIC_INFO_MAX_LENGTH={MAX_MESSAGE_LENGTH:1024,MAX_STACK_LENGTH:2048,MAX_CLASSNAME_LENGTH:1024,MAX_EXCEPTION_NAME_LENGTH:1024}}(bi||(bi={})),function(e){e.response_body="rsb",e.request_body="rqb",e.response_headers="rsh",e.request_headers="rqh"}(ki||(ki={}));var Ci,Ti={};!function(e){e.APPLICATION_BACKGROUND="abg",e.APPLICATION_ERROR="ae"}(Ci||(Ci={}));var Ei,Ai={cacheRefreshInterval:30,base64:!1,linkClickTracking:!1,buttonClickTracking:!1,lifecycleAutotracking:!1,exceptionAutotracking:!1,enablePeriodicHeartbeat:!1,periodicHeartbeatInterval:40,customEventTrackingConfiguration:{enabled:!0},networkRequestTrackingConfiguration:{blocklist:["*"]},traceparentconfig:{enabled:!1,pref:bi.CONFIG_PREFERENCES.MERGE,targetUrl:[]},performanceContextConfig:1,configurationVersion:-1,catRcLastUpdatedTs:0,endpoint:bi.DEFAULT_END_POINT,applicationContext:!1,maxLocalStorageQueueSize:10,emitterConfiguration:{batching:{enabled:!0,byteLimitPostInKB:250,batchingIntervalInSec:5,urgentEvents:[Ci.APPLICATION_BACKGROUND,Ci.APPLICATION_ERROR]}},enc:"gzip",mend:!0,di:{en:!1,lim:30}},Si=new AbortController,Ri=Si.signal,Ii="cws.conviva.com /wsg /ctp remote_config pings.conviva.com .m3u8 .mpd .ism .m4 .mp4 .ts .png .jpg .jpeg .bmp google-analytics.com googlesyndication.com googleapis stats.g.doubleclick chartbeat.com omtrdc.net app-measurement.com firebase nr-data.net newrelic bitmovin.com/impression bitmovin.com/analytics api.segment.io youbora hotjar mixpanel.com clevertap auryc .aac .vtt .googlevideo webp appsflyer facebook dynatrace mparticle npaw .pdf bookkeeper kochava mp3 marketingcloudapis demdex scorecardresearch lura.live perimeterx.net permutive.app segment.com vaicore.site boomtrain ketchcdn qualtrics .svg amplitude datadoghq branch.io hotjar splunkcloud".split(" ");!function(e){e.NONE="none",e.GZIP="gzip"}(Ei||(Ei={}));var xi,Ni,Oi,Li,Di,Mi,Pi,zi=function(e){this.cacheRefreshInterval=e.cacheRefreshInterval,this.base64=e.base64,this.corePlugins=e.corePlugins,this.callback=e.callback,this.linkClickTracking=e.linkClickTracking,this.buttonClickTracking=e.buttonClickTracking,this.lifecycleAutotracking=e.lifecycleAutotracking,this.exceptionAutotracking=e.exceptionAutotracking,this.enablePeriodicHeartbeat=e.enablePeriodicHeartbeat,this.periodicHeartbeatInterval=e.periodicHeartbeatInterval,this.enc=e.enc,this.maxLocalStorageQueueSize=e.maxLocalStorageQueueSize,this.maxPostBytes=e.maxPostBytes,this.maxGetBytes=e.maxGetBytes,this.bufferSize=e.bufferSize,this.customEventTrackingConfiguration=e.customEventTrackingConfiguration,this.networkRequestTrackingConfiguration=e.networkRequestTrackingConfiguration,this.traceparentconfig=e.traceparentconfig,this.metaTagsTrackingConfiguration=e.metaTagsTrackingConfiguration,this.performanceContextConfig=e.performanceContextConfig,this.mend=e.mend,this.configurationVersion=e.configurationVersion,this.catRcLastUpdatedTs=e.catRcLastUpdatedTs,this.endpoint=e.endpoint,this.emitterConfiguration=e.emitterConfiguration,this.controlIngestConfig=e.controlIngestConfig,this.applicationContext=e.applicationContext,this.di=e.di},Ui=function(){function e(){this.cacheRefreshInterval=Ai.cacheRefreshInterval,this.base64=Ai.base64,this.linkClickTracking=Ai.linkClickTracking,this.buttonClickTracking=Ai.buttonClickTracking,this.lifecycleAutotracking=Ai.lifecycleAutotracking,this.exceptionAutotracking=Ai.exceptionAutotracking,this.enablePeriodicHeartbeat=Ai.enablePeriodicHeartbeat,this.periodicHeartbeatInterval=Ai.periodicHeartbeatInterval,this.customEventTrackingConfiguration=Ie({},Ai.customEventTrackingConfiguration),this.networkRequestTrackingConfiguration=Ie({},Ai.networkRequestTrackingConfiguration),this.traceparentconfig=Ie({},Ai.traceparentconfig),this.performanceContextConfig=Ai.performanceContextConfig,this.configurationVersion=Ai.configurationVersion,this.catRcLastUpdatedTs=Ai.catRcLastUpdatedTs,this.endpoint=Ai.endpoint,this.emitterConfiguration=Ai.emitterConfiguration,this.applicationContext=Ai.applicationContext,this.enc=Ai.enc,this.mend=Ai.mend,this.di=Ie({},Ai.di)}return e.prototype.setCacheRefreshInterval=function(e){return this.cacheRefreshInterval="number"==typeof e&&1<=e&&B(e)?e:Ai.cacheRefreshInterval,this},e.prototype.setBase64=function(e){return"boolean"==typeof e&&(this.base64=e),this},e.prototype.setCorePlugins=function(e){return e&&(this.corePlugins=e),this},e.prototype.setCallback=function(e){return e&&(this.callback=e),this},e.prototype.setLinkClickTracking=function(e){return"boolean"==typeof e&&(this.linkClickTracking=e),this},e.prototype.setButtonClickTracking=function(e){return"boolean"==typeof e&&(this.buttonClickTracking=e),this},e.prototype.setLifecycleAutotracking=function(e){return"boolean"==typeof e&&(this.lifecycleAutotracking=e),this},e.prototype.setExceptionAutotracking=function(e){return"boolean"==typeof e&&(this.exceptionAutotracking=e),this},e.prototype.setEnablePeriodicHeartbeat=function(e){return"boolean"==typeof e&&(this.enablePeriodicHeartbeat=e),this},e.prototype.setPeriodicHeartbeatInterval=function(e){return"number"==typeof e&&1<=e&&(this.periodicHeartbeatInterval=~~e),this},e.prototype.setEnc=function(e){return"string"==typeof e&&Object.values(Ei).includes(e)?this.enc=e:this.enc=Ai.enc,this},e.prototype.setMaxLocalStorageQueueSize=function(e){return"number"==typeof e&&(this.maxLocalStorageQueueSize=e),this},e.prototype.setMaxGetBytes=function(e){return"number"==typeof e&&(this.maxGetBytes=e),this},e.prototype.setBufferSize=function(e){return"number"==typeof e&&(this.bufferSize=e),this},e.prototype.setCustomEventTrackingConfiguration=function(e){return e&&(this.customEventTrackingConfiguration=e),this},e.prototype.setEmitterConfiguration=function(e){return void 0!==e&&(void 0!==e.batching.enabled&&(this.emitterConfiguration.batching.enabled=e.batching.enabled),void 0!==e.batching.batchingIntervalInSec&&0<e.batching.batchingIntervalInSec&&(this.emitterConfiguration.batching.batchingIntervalInSec=e.batching.batchingIntervalInSec),"undefined"!=e.batching.byteLimitPostInKB&&0<e.batching.byteLimitPostInKB&&(this.emitterConfiguration.batching.byteLimitPostInKB=e.batching.byteLimitPostInKB),void 0!==e.batching.urgentEvents&&(this.emitterConfiguration.batching.urgentEvents=e.batching.urgentEvents)),this},e.prototype.setNetworkRequestTrackingConfiguration=function(e,t,n){return e&&(this.networkRequestTrackingConfiguration=e,t&&(this.networkRequestTrackingConfiguration.blocklist||(this.networkRequestTrackingConfiguration.blocklist=[]),n&&this.networkRequestTrackingConfiguration.blocklist.push(n),this.networkRequestTrackingConfiguration.blocklist=this.networkRequestTrackingConfiguration.blocklist.concat(Ii))),this},e.prototype.setTraceparentconfig=function(e){return e&&(this.traceparentconfig=e),this},e.prototype.setMetaTagsTrackingConfiguration=function(e){return e&&(this.metaTagsTrackingConfiguration=e),this},e.prototype.setPerformanceContextConfig=function(e){return"number"==typeof e&&(this.performanceContextConfig=e),this},e.prototype.setMend=function(e){return"boolean"==typeof e&&(this.mend=e),this},e.prototype.setConfigurationVersion=function(e){return"number"==typeof e&&(this.configurationVersion=e),this},e.prototype.setCatRcLastUpdatedTs=function(e){return"number"==typeof e&&(this.catRcLastUpdatedTs=e),this},e.prototype.setEndPoint=function(e){return"string"==typeof e&&0<e.trim().length?this.endpoint=e:this.endpoint=Ai.endpoint,this},e.prototype.setcontrolIngestConfig=function(e){return void 0!==e?this.controlIngestConfig=e:W(),this},e.prototype.setApplicationContext=function(e){return void 0!==e&&(this.applicationContext=e),this},e.prototype.setDi=function(e){return void 0!==e&&(this.di=Ie(Ie({},this.di),e)),this},e.prototype.build=function(){return new zi(this)},e}(),Fi=0,Bi=0,Gi=bi.CONFIG_SOURCE.DEFAULT,Hi=0,qi=!1,ji=null,Vi=0,Zi=!1,Ki=function(e,t,n){var i,r={},o={};if("undefined"!=typeof window&&null!==window&&void 0!==window&&window.localStorage)try{localStorage.removeItem(bi.END_POINT_STORAGE_KEY),(i=localStorage.getItem(bi.REMOTE_CONFIG_STORAGE_KEY))?Gi=bi.CONFIG_SOURCE.CACHED:i=JSON.stringify(o)}catch(e){i=JSON.stringify(o),Zi=!0;var a={className:"fetchRemoteConfig - localstorage",error:e,configAppliedSrc:Gi,configAppliedTime:Hi};setTimeout((function(){se(xi,Oi,a)}),0),Je.warn("Issue while fetching data from local storage")}else i=JSON.stringify(o);try{r=JSON.parse(i)}catch(e){Zi=!0;var s={className:"fetchRemoteConfig - parsing cached data",error:e,configAppliedSrc:Gi,configAppliedTime:Hi};setTimeout((function(){se(xi,Oi,s)}),0),Je.warn("Issue while parsing storedConvivaRemoteConfig")}o=(new Ui).setBase64(null==r?void 0:r.base64).setCacheRefreshInterval(null==r?void 0:r.cacheRefreshInterval).setLinkClickTracking(null==r?void 0:r.linkClickTracking).setLifecycleAutotracking(null==r?void 0:r.lifecycleAutotracking).setButtonClickTracking(null==r?void 0:r.buttonClickTracking).setExceptionAutotracking(null==r?void 0:r.exceptionAutotracking).setEnablePeriodicHeartbeat(null==r?void 0:r.enablePeriodicHeartbeat).setPeriodicHeartbeatInterval(null==r?void 0:r.periodicHeartbeatInterval).setEnc(null==r?void 0:r.enc).setMaxLocalStorageQueueSize(null==r?void 0:r.maxLocalStorageQueueSize).setMaxGetBytes(null==r?void 0:r.maxGetBytes).setBufferSize(null==r?void 0:r.bufferSize).setCustomEventTrackingConfiguration(null==r?void 0:r.customEventTrackingConfiguration).setNetworkRequestTrackingConfiguration(null==r?void 0:r.networkRequestTrackingConfiguration,!1).setMetaTagsTrackingConfiguration(null==r?void 0:r.metaTagsTrackingConfiguration).setTraceparentconfig(null==r?void 0:r.traceparentconfig).setMend(null==r?void 0:r.mend).setPerformanceContextConfig(null==r?void 0:r.performanceContextConfig).setConfigurationVersion(null==r?void 0:r.configurationVersion).setCatRcLastUpdatedTs(null==r?void 0:r.catRcLastUpdatedTs).setEmitterConfiguration(null==r?void 0:r.emitterConfiguration).setcontrolIngestConfig(null==r?void 0:r.controlIngestConfig).setApplicationContext(null==r?void 0:r.applicationContext).setDi(null==r?void 0:r.di).build(),i="Cached Config Applied",Gi===bi.CONFIG_SOURCE.DEFAULT&&(i="Default Config Applied"),Hi=(new Date).getTime();var c={message:i,className:"browserTrackerCore",configAppliedSrc:Gi,configAppliedTime:Hi};setTimeout((function(){se(xi,Oi,c)}),0),e=e.split("js-")[1];var l=bi.REMOTE_CONFIG_URL_PREFIX+n.convivaCustomerKey+"/"+e+bi.REMOTE_CONFIG_FILE_NAME;return window.XMLHttpRequest&&((Ni=new XMLHttpRequest).onreadystatechange=function(){try{if(4==Ni.readyState)if(qi=!1,200==Ni.status){var e={message:"Remote config request is successful - ".concat("number"==typeof Ni.status?Ni.status:""),className:"configtimerCallback - onreadystatechange",configAppliedSrc:Gi,configAppliedTime:Hi};se(xi,Oi,e),Vi=0,o.catRcLastUpdatedTs=(new Date).getTime();var i=JSON.parse(Ni.response),r=i.cri||i.cacheRefreshInterval||Ai.cacheRefreshInterval;if(r=1>r?Ai.cacheRefreshInterval:B(r)?r:Ai.cacheRefreshInterval,o.cacheRefreshInterval!=r&&(o.cacheRefreshInterval=r,Xi(o.cacheRefreshInterval,o.catRcLastUpdatedTs,n,l,bi.RC_FETCH_MODE.DO_NOT_FETCH_UPDATE_TIMER)),Yi(i,t,o.catRcLastUpdatedTs,n)){var a=new Event("ConvivaExecuteQueue");null!==window&&void 0!==window&&window.dispatchEvent&&window.dispatchEvent(a)}}else try{2>Vi&&window.setTimeout((function(){null!=n&&n.trackerConfigUrl?Ji(null==n?void 0:n.trackerConfigUrl,!0):Ji(l,!0)}),5e3*(Vi+1));var s={message:"Remote config request is not successful - ".concat("number"==typeof Ni.status?Ni.status:""),className:"configtimerCallback - onreadystatechange",configAppliedSrc:Gi,configAppliedTime:Hi};se(xi,Oi,s),2<=Vi&&se(xi,Oi,{message:"Remote config is not applied since failed to download remote config after 3 tries",className:"configtimerCallback - onreadystatechange",configAppliedSrc:Gi,configAppliedTime:Hi})}catch(e){}}catch(e){qi=!1,console.warn("Conviva App Tracker:: Error in fetching remote-config ".concat(e)),se(xi,Oi,{className:"configtimerCallback - onreadystatechange",error:e,configAppliedSrc:Gi,configAppliedTime:Hi})}},Xi(o.cacheRefreshInterval,o.catRcLastUpdatedTs,n,l,void 0!==Zi&&!0===Zi?bi.RC_FETCH_MODE.IMMEDIATE_FETCH:bi.RC_FETCH_MODE.UPDATE_TIMER_WITH_DIFF)),{parsedConfig:r,convivaRemoteTrackerConfig:o}},Xi=function(e,t,n,i,r){var o=n.trackerConfigUrl?n.trackerConfigUrl:i;if("number"==typeof ji){window.clearInterval(ji);var a={message:"Cancelling remote config timer",className:"updateRemoteConfig",extraData:{mode:r},configAppliedSrc:Gi,configAppliedTime:Hi};setTimeout((function(){se(xi,Oi,a)}),0)}var s=function(){var t={message:"Starting remote config timer with delay of ".concat(60*e," seconds"),className:"updateRemoteConfig",configAppliedSrc:Gi,configAppliedTime:Hi};setTimeout((function(){se(xi,Oi,t)}),0),ji=window.setInterval(Ji,6e4*e,o)};try{var c=t?((new Date).getTime()-t)/6e4:e;if(n=e-c,i=3*e/100,"string"==typeof r&&r===bi.RC_FETCH_MODE.DO_NOT_FETCH_UPDATE_TIMER)s();else if("string"==typeof r&&r===bi.RC_FETCH_MODE.UPDATE_TIMER_WITH_DIFF&&0<t&&n>i){window.setTimeout((function(){Ji(o),s()}),6e4*n);var l={message:"Starting remote config timer with delay of ".concat(60*n," seconds"),className:"updateRemoteConfig",extraData:{mode:r},configAppliedSrc:Gi,configAppliedTime:Hi};setTimeout((function(){se(xi,Oi,l)}),0)}else Ji(o),s()}catch(e){console.warn("Conviva App Tracker:: Error in setting cacheRefreshIntervalTimer",e),Ji(o),s();var u={className:"cacheRefreshIntervalTimer",error:e,configAppliedSrc:Gi,configAppliedTime:Hi};setTimeout((function(){se(xi,Oi,u)}),0)}},Ji=function(e,t){try{if("boolean"==typeof qi&&!1===qi){t?Vi++:Vi=0,Ni.timeout=3e4,Ni.open("GET",e,!0),qi=!0;var n={message:"Remote config fetch attempt",className:"updateRemoteConfig",configAppliedSrc:Gi,configAppliedTime:Hi};setTimeout((function(){se(xi,Oi,n)}),0),Ni.send()}}catch(e){qi=!1,Je.warn("Conviva App Tracker:: Error in configtimerCallback ".concat(e));var i={className:"configtimerCallback",error:e,configAppliedSrc:Gi,configAppliedTime:Hi};setTimeout((function(){se(xi,Oi,i)}),0)}},Yi=function(e,t,n,i){var r,o,a,s,c,l,u,d,f,v,g,h,p,m,_,w,b,k,y,C,T,E,A,S,R,I,x,N,O,L,D,M,P,z,U=xi;try{if((null==e?void 0:e.configurationBundle[0].namespace)!==t)return se(xi,Oi,{message:"Remote Config not Applied due to a missing namespace",className:"updateRemoteConfig",configAppliedSrc:Gi,configAppliedTime:Hi}),!1;if((null===(r=U.getConfig())||void 0===r?void 0:r.configurationVersion)===(null==e?void 0:e.configurationVersion)){var F=localStorage.getItem(bi.REMOTE_CONFIG_STORAGE_KEY);if(F)return(F=JSON.parse(F)).catRcLastUpdatedTs=n,window.localStorage&&(localStorage.removeItem(bi.REMOTE_CONFIG_STORAGE_KEY),localStorage.setItem(bi.REMOTE_CONFIG_STORAGE_KEY,JSON.stringify(F))),se(xi,Oi,{message:"Remote Config not Applied as same version is fetched",className:"updateRemoteConfig",configAppliedSrc:Gi,configAppliedTime:Hi}),!1}var B=(new Ui).setBase64(e.configurationBundle[0].trackerConfiguration.base64Encoding).setCacheRefreshInterval(e.cri||e.cacheRefreshInterval).setLinkClickTracking(null===(a=null===(o=e.configurationBundle[0])||void 0===o?void 0:o.trackerConfiguration)||void 0===a?void 0:a.linkClickTracking).setLifecycleAutotracking(null===(c=null===(s=e.configurationBundle[0])||void 0===s?void 0:s.trackerConfiguration)||void 0===c?void 0:c.lifecycleAutotracking).setButtonClickTracking(null===(u=null===(l=e.configurationBundle[0])||void 0===l?void 0:l.trackerConfiguration)||void 0===u?void 0:u.buttonClickTracking).setExceptionAutotracking(null===(f=null===(d=e.configurationBundle[0])||void 0===d?void 0:d.trackerConfiguration)||void 0===f?void 0:f.exceptionAutotracking).setEnablePeriodicHeartbeat(null===(g=null===(v=e.configurationBundle[0])||void 0===v?void 0:v.trackerConfiguration)||void 0===g?void 0:g.enablePeriodicHeartbeat).setPeriodicHeartbeatInterval(null===(p=null===(h=e.configurationBundle[0])||void 0===h?void 0:h.trackerConfiguration)||void 0===p?void 0:p.periodicHeartbeatInterval).setEnc(null===(_=null===(m=e.configurationBundle[0])||void 0===m?void 0:m.networkConfiguration)||void 0===_?void 0:_.enc).setMaxLocalStorageQueueSize(null===(b=null===(w=e.configurationBundle[0])||void 0===w?void 0:w.networkConfiguration)||void 0===b?void 0:b.maxLocalStorageQueueSize).setMaxGetBytes(null===(y=null===(k=e.configurationBundle[0])||void 0===k?void 0:k.networkConfiguration)||void 0===y?void 0:y.maxGetBytes).setBufferSize(null===(T=null===(C=e.configurationBundle[0])||void 0===C?void 0:C.networkConfiguration)||void 0===T?void 0:T.bufferSize).setCustomEventTrackingConfiguration(null===(E=e.configurationBundle[0])||void 0===E?void 0:E.customEventTrackingConfiguration).setEndPoint(null===(S=null===(A=e.configurationBundle[0])||void 0===A?void 0:A.networkConfiguration)||void 0===S?void 0:S.endpoint).setNetworkRequestTrackingConfiguration(null===(R=e.configurationBundle[0])||void 0===R?void 0:R.networkRequestTrackingConfiguration,!0,null===(x=null===(I=e.configurationBundle[0])||void 0===I?void 0:I.networkConfiguration)||void 0===x?void 0:x.endpoint).setMetaTagsTrackingConfiguration(null===(N=e.configurationBundle[0])||void 0===N?void 0:N.metaTagsTrackingConfiguration).setTraceparentconfig(null===(O=e.configurationBundle[0])||void 0===O?void 0:O.traceparentconfig).setMend(null===(D=null===(L=e.configurationBundle[0])||void 0===L?void 0:L.networkConfiguration)||void 0===D?void 0:D.mend).setPerformanceContextConfig(null===(P=null===(M=e.configurationBundle[0])||void 0===M?void 0:M.trackerConfiguration)||void 0===P?void 0:P.perfCx).setConfigurationVersion(e.configurationVersion).setCatRcLastUpdatedTs(n).setEmitterConfiguration(e.configurationBundle[0].emitterConfiguration).setcontrolIngestConfig(e["ctrl-ingst"]).setApplicationContext(e.configurationBundle[0].trackerConfiguration.applicationContext).setDi(e.configurationBundle[0].di).build();Gi=bi.CONFIG_SOURCE.REMOTE,Hi=(new Date).getTime(),null==U||U.setConfig(B),se(xi,Oi,e={message:"Remote Config Applied",className:"updateRemoteConfig - tracker",configAppliedSrc:Gi,configAppliedTime:Hi}),null==Oi||Oi.setCollectorUrl(null===(z=null==U?void 0:U.getConfig())||void 0===z?void 0:z.endpoint,i.convivaCustomerKey);try{window.localStorage&&(localStorage.removeItem(bi.REMOTE_CONFIG_STORAGE_KEY),localStorage.setItem(bi.REMOTE_CONFIG_STORAGE_KEY,JSON.stringify(B)))}catch(e){se(xi,Oi,{className:"updateRemoteConfig - localstorage",error:e,configAppliedSrc:Gi,configAppliedTime:Hi}),console.warn("Conviva: Error while saving remote-config to localstorage",e)}}catch(t){return se(xi,Oi,e={className:"updateRemoteConfig - tracker",error:t,configAppliedSrc:Gi,configAppliedTime:Hi}),console.warn("Conviva: Error while updating remote-config",t),!1}return!0},Qi=function(e){var t={};return e.trim().split(/[\r\n]+/).forEach((function(e){var n=(e=e.split(":"))[1];t[e[0].trim()]=null==n?void 0:n.trim()})),t},Wi=function(e){var t={};return e.forEach((function(e,n){t[n]=e})),t},$i=function(){function e(e,t,n){var i;this.originalXhr=XMLHttpRequest,this.originalFetch=null===(i=null===window||void 0===window?void 0:window.fetch)||void 0===i?void 0:i.bind(window),this.core=xi,this.trackerMethods=e,this.trackerConfiguration=t,this.getSamplingMode=n,this.handleFetchResponse=this.handleFetchResponse.bind(this),this.handleFetchError=this.handleFetchError.bind(this),this.handleResponse=this.handleResponse.bind(this),this.addTraceparentHeader=this.addTraceparentHeader.bind(this),this.addTraceparentHeaderToFetch=this.addTraceparentHeaderToFetch.bind(this),this.decorateXhrInstance=this.decorateXhrInstance.bind(this)}return e.prototype.cleanupNetworkRequestHandler=function(){e.instance=null},e.getInstance=function(t,n,i){return e.instance||(e.instance=new e(t,n,i)),e.instance},e.prototype.initiateNetworkRequestTracking=function(){try{this.decorateXMLHttpRequest(),this.decorateFetch()}catch(e){console.warn("Conviva App Tracker:: Unable to track network request ".concat(e))}},e.prototype.decorateXMLHttpRequest=function(){if(this.originalXhr){var e=this,t=function(){var t=new e.originalXhr;return e.decorateXhrInstance(t),t};t.prototype=this.originalXhr.prototype,window.XMLHttpRequest=t}},e.prototype.decorateXhrInstance=function(e){var t,n,i,r=this,o={},a=e.setRequestHeader;e.setRequestHeader=function(e,t){o[e]=t,a.call(this,e,t)};var s=e.open;e.open=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];t=i[0],n=r.normalizeUrl(i[1]),s.call(e,i[0],n,!0)};var c=e.send;e.send=function(a){try{var s=r.addTraceparentHeader(e,n,o);c.call(e,a),i=r.createRequestDetails(t,n,o,a,s)}catch(e){console.warn("Conviva App Tracker:: Unable to track network request while send ".concat(e))}},e.addEventListener("load",(function(){return r.handleResponse(e,i,"load")}),{signal:Ri}),e.addEventListener("error",(function(){return r.handleResponse(e,i,"error")}),{signal:Ri}),e.addEventListener("abort",(function(){return r.handleResponse(e,i,"abort")}),{signal:Ri}),e.addEventListener("timeout",(function(){return r.handleResponse(e,i,"timeout")}),{signal:Ri})},e.prototype.decorateFetch=function(){var e=this;window.fetch=function(t,n){return e.interceptFetch(t,n)}},e.prototype.interceptFetch=function(e,t){var r,o,a,s;return n(this,void 0,void 0,(function(){var n,c,l,u,d,f,v,g,h,p,m;return i(this,(function(i){switch(i.label){case 0:c=null,i.label=1;case 1:i.trys.push([1,6,,7]),n=e instanceof Request?e.clone():new Request(e,t),c=this.addTraceparentHeaderToFetch(n),l=this.createRequestDetails(n.method,n.url,Wi(n.headers),null==t?void 0:t.body,c),u=null===(r=this.core)||void 0===r?void 0:r.getConfig().networkRequestTrackingConfiguration,d=u.blocklist,f=null===(s=null===(a=null===(o=this.trackerConfiguration)||void 0===o?void 0:o.configs)||void 0===a?void 0:a.networkRequestTracking)||void 0===s?void 0:s.safelist,v=(null==d?void 0:d.includes("*"))||(null==d?void 0:d.some((function(e){var t;return 0<(null==e?void 0:e.length)&&(null===(t=null==l?void 0:l.url)||void 0===t?void 0:t.toLowerCase().includes(e.toLowerCase()))}))),g=null==f?void 0:f.some((function(e){var t;return 0<(null==e?void 0:e.length)&&(null===(t=null==l?void 0:l.url)||void 0===t?void 0:t.toLowerCase().includes(e.toLowerCase()))})),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,this.originalFetch(n)];case 3:return h=i.sent(),u&&u.enabled&&!v||g?[2,this.handleFetchResponse(h,l)]:[3,5];case 4:return p=i.sent(),u&&u.enabled&&!v||g?[2,this.handleFetchError(p,l)]:[3,5];case 5:return[3,7];case 6:return m=i.sent(),console.warn("Conviva App Tracker:: Unable to track network request while fetch interceptRequest ".concat(m)),[3,7];case 7:return[2,new Response(null,{status:500,statusText:"Unknown error: Failed to trigger interceptFetch"})]}}))}))},e.prototype.handleFetchResponse=function(e,t){var n=this,i={status:e.status,statusText:e.statusText||void 0,headers:Wi(e.headers),responseTimestamp:Date.now(),responseTime:performance.now()||Date.now()};return e.clone().json().then((function(e){i.body=e,n.trackerMethods.trackNetworkRequest({requestDetails:t,responseDetails:i})})).catch((function(){n.trackerMethods.trackNetworkRequest({requestDetails:t,responseDetails:i})})),e},e.prototype.handleFetchError=function(e,t){var n={statusText:e.toString(),responseTimestamp:Date.now(),responseTime:performance.now()||Date.now()};return this.trackerMethods.trackNetworkRequest({requestDetails:t,responseDetails:n}),new Response(null,{status:500,statusText:e.toString()})},e.prototype.handleResponse=function(e,t,n){var i,r,o,a;try{if(this.getSamplingMode()!==bi.SAMPLING_MODES.NONE){var s=null===(i=this.core)||void 0===i?void 0:i.getConfig().networkRequestTrackingConfiguration,c=s.blocklist,l=null===(a=null===(o=null===(r=this.trackerConfiguration)||void 0===r?void 0:r.configs)||void 0===o?void 0:o.networkRequestTracking)||void 0===a?void 0:a.safelist,u=(null==c?void 0:c.includes("*"))||(null==c?void 0:c.some((function(e){var n;return 0<(null==e?void 0:e.length)&&(null===(n=null==t?void 0:t.url)||void 0===n?void 0:n.toLowerCase().includes(e.toLowerCase()))}))),d=null==l?void 0:l.some((function(e){var n;return 0<(null==e?void 0:e.length)&&(null===(n=null==t?void 0:t.url)||void 0===n?void 0:n.toLowerCase().includes(e.toLowerCase()))}));if(s&&s.enabled&&!u||d){var f={status:e.status,statusText:e.statusText||("load"!==n?n:void 0),responseTimestamp:Date.now(),responseTime:performance.now()||Date.now(),headers:Qi(e.getAllResponseHeaders()),body:e.response};this.trackerMethods.trackNetworkRequest({requestDetails:t,responseDetails:f})}}}catch(e){Je.warn("Conviva App Tracker:: Unable to track network request error while handleResponse ".concat(e))}},e.prototype.addTraceparentHeader=function(e,t,n){var i=null;return bi.TRACEPARENT_HEADER_KEY in n||(i=this.generateTraceparentHeader(t))&&e.setRequestHeader(bi.TRACEPARENT_HEADER_KEY,i),i},e.prototype.addTraceparentHeaderToFetch=function(e){var t=null,n=!1;return e.headers.forEach((function(e,t){bi.TRACEPARENT_HEADER_KEY===t&&(n=!0)})),n||(t=this.generateTraceparentHeader(e.url))&&e.headers.set(bi.TRACEPARENT_HEADER_KEY,t),t},e.prototype.createRequestDetails=function(e,t,n,i,r){return e={method:e,url:t,headers:n,body:i,requestTimestamp:Date.now(),requestTime:performance.now()||Date.now()},r&&(e[bi.TRACEPARENT_HEADER_KEY]=r),e},e.prototype.normalizeUrl=function(e){try{if(!/^(?:[a-z]+:)?\/\//i.test(e))return 0===e.indexOf("/")?window.location.origin+e:window.location.origin+"/"+e}catch(e){console.warn("Conviva App Tracker:: Unable to track network request while normalizing URL ".concat(e))}return e},e.prototype.generateTraceparentHeader=function(e){var t,n,i,o,a,s,c,l,u,d,f,v,g,h,p,m,_,w,b,k,y,C,T,E,A,S,R;try{if(this.core&&e){var I=this.core.getConfig(),x=bi.CONFIG_PREFERENCES.MERGE,N=[];switch(null!==(i=null===(n=null===(t=this.trackerConfiguration)||void 0===t?void 0:t.configs)||void 0===n?void 0:n.traceparentGeneration)&&void 0!==i&&i.force?x=bi.CONFIG_PREFERENCES.APP:null!==(o=null==I?void 0:I.traceparentconfig)&&void 0!==o&&o.pref&&(x=I.traceparentconfig.pref),x){case bi.CONFIG_PREFERENCES.APP:if(!1===(null===(c=null===(s=null===(a=this.trackerConfiguration)||void 0===a?void 0:a.configs)||void 0===s?void 0:s.traceparentGeneration)||void 0===c?void 0:c.enabled))return"";N=(null===(d=null===(u=null===(l=this.trackerConfiguration)||void 0===l?void 0:l.configs)||void 0===u?void 0:u.traceparentGeneration)||void 0===d?void 0:d.targetUrl)||[];break;case bi.CONFIG_PREFERENCES.REMOTE:if(!1===(null===(f=null==I?void 0:I.traceparentconfig)||void 0===f?void 0:f.enabled))return"";N=(null===(v=null==I?void 0:I.traceparentconfig)||void 0===v?void 0:v.targetUrl)||[];break;default:if((null==I||!I.traceparentconfig)&&!1===(null===(p=null===(h=null===(g=this.trackerConfiguration)||void 0===g?void 0:g.configs)||void 0===h?void 0:h.traceparentGeneration)||void 0===p?void 0:p.enabled)||(null===(_=null===(m=this.trackerConfiguration)||void 0===m?void 0:m.configs)||void 0===_||!_.traceparentGeneration)&&!1===(null===(w=null==I?void 0:I.traceparentconfig)||void 0===w?void 0:w.enabled))return"";var O=(null===(y=null===(k=null===(b=this.trackerConfiguration)||void 0===b?void 0:b.configs)||void 0===k?void 0:k.traceparentGeneration)||void 0===y?void 0:y.targetUrl)||[],L=(null===(C=null==I?void 0:I.traceparentconfig)||void 0===C?void 0:C.targetUrl)||[],D=new Set(r(r([],L,!0),O,!0));N=Array.from(D)}var M=null===(A=null===(E=null===(T=this.trackerConfiguration)||void 0===T?void 0:T.configs)||void 0===E?void 0:E.networkRequestTracking)||void 0===A?void 0:A.safelist,P=null===(S=null==I?void 0:I.networkRequestTrackingConfiguration)||void 0===S?void 0:S.blocklist,z=(null==P?void 0:P.includes("*"))||(null==P?void 0:P.some((function(t){return 0<(null==t?void 0:t.length)&&e.toLowerCase().includes(t.toLowerCase())}))),U=null==M?void 0:M.some((function(t){return 0<(null==t?void 0:t.length)&&e.toLowerCase().includes(t.toLowerCase())}));if(0<N.length&&(N.includes("*")||N.some((function(t){return 0<(null==t?void 0:t.length)&&e.toLowerCase().includes(t.toLowerCase())})))&&null!==(R=null==I?void 0:I.networkRequestTrackingConfiguration)&&void 0!==R&&R.enabled&&(U||!z)){var F=Array.from({length:32},(function(){return Math.floor(16*Math.random()).toString(16)})).join(""),B=Array.from({length:16},(function(){return Math.floor(16*Math.random()).toString(16)})).join("");return"00-".concat(F,"-").concat(B,"-00")}}}catch(e){console.warn("Conviva App Tracker:: Unable to generate traceparent header ".concat(e))}return""},e}(),er=function(e,t,n,i,r,o,a,s){var c,l,u,d,f,v,g=xi,h=function(){var e=g.getConfig();return!e.emitterConfiguration||!e.emitterConfiguration.batching||e.emitterConfiguration.batching.enabled};return ce(e,t,"localStorage"==n||"cookieAndLocalStorage"==n,i.eventMethod,r,(v=g.getConfig(),null!==(f=v.bufferSize?v.bufferSize:i.bufferSize)&&void 0!==f?f:20),(function(){var e,t=g.getConfig();return null!==(e=t.maxGetBytes?t.maxGetBytes:i.maxGetBytes)&&void 0!==e?e:0}),null===(c=i.useStm)||void 0===c||c,(function(){var e,t=g.getConfig();return null!==(e=t.maxLocalStorageQueueSize?t.maxLocalStorageQueueSize:i.maxLocalStorageQueueSize)&&void 0!==e?e:10}),null!==(l=i.connectionTimeout)&&void 0!==l?l:3e4,o,null!==(u=i.customHeaders)&&void 0!==u?u:{},null!==(d=i.withCredentials)&&void 0!==d&&d,a,(function(){var e,t,n,r=g.getConfig();return null!==(n=null!=r&&r.enc?r.enc:null===(t=null===(e=null==i?void 0:i.configs)||void 0===e?void 0:e.network)||void 0===t?void 0:t.encoding)&&void 0!==n?n:Ei.GZIP}),h,(function(){var e,t,n=g.getConfig();return h()?"number"==typeof(null===(t=null===(e=n.emitterConfiguration)||void 0===e?void 0:e.batching)||void 0===t?void 0:t.byteLimitPostInKB)?1e3*n.emitterConfiguration.batching.byteLimitPostInKB:25e4:4e4}),(function(){var e,t,n=null===(t=null===(e=g.getConfig().emitterConfiguration)||void 0===e?void 0:e.batching)||void 0===t?void 0:t.batchingIntervalInSec;return 1e3*("number"==typeof n?n:5)}),s)},tr=function(e,t){return e.length>t?"".concat(e.slice(0,t-3),"..."):e},nr={},ir={},rr=0,or={childList:!0,subtree:!0};!function(e){e[e.APP=0]="APP",e[e.REMOTE=1]="REMOTE",e[e.MERGE=2]="MERGE"}(Pi||(Pi={}));var ar={},sr=function(){this.outQueues=[],this.bufferFlushers=[],this.hasLoaded=!1,this.registeredOnLoadHandlers=[]},cr=Object.freeze({__proto__:null,cleanup:function(e){Ee(e,(function(e){e.clearTimers()})),function(e){if(e)for(var t=0;t<e.length;t++){var n=e[t];ar.hasOwnProperty(n)?delete ar[n]:Je.warn(n+" not configured")}}(e)},convivaAppTracker:function(e){void 0===e&&(e={});try{var t="undefined"!=typeof window?Re():void 0;return t?Ae("CAT","CAT","js-".concat("1.0.3"),"",t,e):void 0}catch(e){return void console.warn("Conviva App Tracker:: Initialisation failed! "+e)}},setCustomTags:function(e,t){Ee(t,(function(t){try{t.setCustomTags(e)}catch(e){console.warn("Conviva App Tracker:: Unable to set custom tags data!")}}))},setCustomUrl:function(e,t){Ee(t,(function(t){t.setCustomUrl(e)}))},setDocumentTitle:function(e,t){Ee(t,(function(t){t.setDocumentTitle(e)}))},setReferrerUrl:function(e,t){Ee(t,(function(t){t.setReferrerUrl(e)}))},setUserId:function(e,t){Ee(t,(function(t){t.setUserId(e)}))},trackButtonClick:function(e,t){Ee(t,(function(t){try{t.trackButtonClick(e)}catch(e){console.warn("Conviva App Tracker:: Unable to track button click event! "+e)}}))},trackCustomEvent:function(e,t){Ee(t,(function(t){try{t.trackCustomEvent(e)}catch(e){console.warn("Conviva App Tracker:: Unable to track custom event! "+e)}}))},trackLinkClick:function(e,t){Ee(t,(function(t){try{t.trackLinkClick(e)}catch(e){console.warn("Conviva App Tracker:: Unable to track link click event! "+e)}}))},trackPageView:function(e,t){Ee(t,(function(t){t.trackPageView(e)}))},unsetCustomTags:function(e,t){Ee(t,(function(t){try{t.unsetCustomTags(e)}catch(e){console.warn("Conviva App Tracker:: Unable to set custom tags data!")}}))},version:"1.0.3"}),lr=window.GlobalConvivaNamespace.shift(),ur=window[lr];ur.q=function(e,n){function i(e){var t=e.split(":");return[e=t[0],t=1<t.length?t[1].split(";"):void 0]}function r(e,t){if(m[e])try{m[e].apply(null,t)}catch(t){Je.error(e+" failed",t)}else Je.warn(e+" is not an available function")}function o(e){m=Ie(Ie({},m),e)}function a(e){try{if("object"==typeof e[0]&&null!==e[0]){var t=e[0],n=function(e){return null==e||e.contexts,[]}(t),i=Ae("CAT","CAT","js-".concat(p),"",d,Ie(Ie({},t),{plugins:n.map((function(e){return e[0]}))}));i?(f.push(i.id),n.forEach((function(e){o(e[1])}))):Je.warn("CAT already exists")}else Je.error("convivaAppTracker failed",Error("Invalid parameters"))}catch(e){console.warn("convivaAppTracker failed "+e)}}function s(e,n){function i(e){Object.prototype.hasOwnProperty.call(v,e)&&(l.clearTimeout(v[e].timeout),delete v[e],0===Object.keys(v).length&&h.forEach((function(e){var t=e[1];void 0!==m[e[0]]&&m[e[0]].length>t.length&&Array.isArray(t[0])&&(t=[{},t[0]]),r(e[0],t)})))}var a;if("string"==typeof e[0]&&g(e[1])&&(void 0===e[2]||Array.isArray(e[2]))){var s=e[0],c=e[1],d=e[2];if(null===(a=e[3])||void 0===a||a){var f=l.setTimeout((function(){i(s)}),5e3);v[s]={timeout:f}}(f=u.createElement("script")).setAttribute("src",s),f.setAttribute("async","1"),V(f,"error",(function(){i(s),Je.warn("Failed to load plugin ".concat(c[0]," from ").concat(s))}),!0),V(f,"load",(function(){var e=c[1],r=l[c[0]];if(r&&"object"==typeof r){var a=r[e];e=t(r,["symbol"==typeof e?e:e+""]),m.addPlugin.apply(null,[{plugin:a.apply(null,d)},n]),o(e)}i(s)}),!0),u.head.appendChild(f)}else{if("object"==typeof e[0]&&"string"==typeof e[1]&&(void 0===e[2]||Array.isArray(e[2]))){var p=e[0],_=e[1];if(a=e[2],p)return e=p[_],p=t(p,["symbol"==typeof _?_:_+""]),null===(f=m.addPlugin)||void 0===f||f.apply(null,[{plugin:e.apply(null,a)},n]),void o(p)}Je.warn("Failed to add Plugin: ".concat(e[1]))}}function c(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(n=0;n<t.length;n+=1){var o=t[n],c=Array.prototype.shift.call(o),l=!(!c||"function"!=typeof c);if(l)try{l={};for(var u=0,d=Se(f,ar);u<d.length;u++){var g=d[u];l[g.id.replace("".concat(e,"_"),"")]=g}c.apply(l,o)}catch(e){Je.error("Tracker callback failed",e)}finally{continue}c=(l=i(c))[0],l=l[1],"convivaAppTracker"===c?a(o):(l=l?l.map((function(t){return"".concat(e,"_").concat(t)})):f,"addPlugin"===c?s(o,l):(u=void 0,u=0<o.length?[o[0],l]:void 0!==m[c]&&2===m[c].length?[{},l]:[l],0<Object.keys(v).length?h.push([c,u]):r(c,u)))}}for(var l=window,u=document,d=Re(),f=[],v={},h=[],p="1.0.3",m=t(cr,["version"]),_=0;_<n.length;_++)c(n[_]);return{push:c}}(lr,ur.q)}();
//# sourceMappingURL=conviva-eco-js-script-sensor.js.map
