/*!
 * Web analytics for Snowplow v0.6.8 (http://bit.ly/sp-js)
 * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
 * Licensed under BSD-3-Clause
 */

"use strict";!function(){function e(e,t){var n,r={};for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function t(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function n(){var e,t={},n=[],r=[],o=[],a=function(e,n){null!=n&&""!==n&&(t[e]=n)};return{add:a,addDict:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a(t,e[t])},addJson:function(e,t,o){o&&i(o)&&(e={keyIfEncoded:e,keyIfNotEncoded:t,json:o},r.push(e),n.push(e))},addContextEntity:function(e){o.push(e)},getPayload:function(){return t},getJson:function(){return n},withJsonProcessor:function(t){e=t},build:function(){return null==e||e(this,r,o),t}}}function r(e){return function(n,r,i){for(var o=function(t,r,i){if(t=JSON.stringify(t),e){if(i=n.add,t){var o=0,a=0,s=[];if(t){t=unescape(encodeURIComponent(t));do{var l=t.charCodeAt(o++),c=t.charCodeAt(o++),u=t.charCodeAt(o++),d=l<<16|c<<8|u;l=d>>18&63,c=d>>12&63,u=d>>6&63,d&=63,s[a++]=Ke.charAt(l)+Ke.charAt(c)+Ke.charAt(u)+Ke.charAt(d)}while(o<t.length);o=s.join(""),t=((t=t.length%3)?o.slice(0,t-3):o)+"===".slice(t||3)}t=t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}i.call(n,r,t)}else n.add(i,t)},a=function(t,r){if(!t){var i=n.getPayload();if(e?i.cx:i.co){var o=(t=JSON).parse;if(e){if(i=i.cx){switch(4-i.length%4){case 2:i+="==";break;case 3:i+="="}i=function(e){var t,n=0,r=0,i="",o=[];if(!e)return e;e+="";do{var a=Ke.indexOf(e.charAt(n++)),s=Ke.indexOf(e.charAt(n++));i=Ke.indexOf(e.charAt(n++));var l=Ke.indexOf(e.charAt(n++)),c=a<<18|s<<12|i<<6|l;a=c>>16&255,s=c>>8&255,c&=255,o[r++]=64===i?String.fromCharCode(a):64===l?String.fromCharCode(a,s):String.fromCharCode(a,s,c)}while(n<e.length);return i=o.join(""),t=i.replace(/\0+$/,""),decodeURIComponent(t.split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}(i=i.replace(/-/g,"+").replace(/_/g,"/"))}}else i=i.co;t=o.call(t,i)}else t=void 0}return t?t.dt=t.dt.concat(r.dt):t=r,t},s=void 0,l=0;l<r.length;l++){var c=r[l];"cx"===c.keyIfEncoded?s=a(s,c.json):o(c.json,c.keyIfEncoded,c.keyIfNotEncoded)}r.length=0,i.length&&(s=a(s,r={sc:"sp/ctx/1-0-0",dt:t([],i,!0)}),i.length=0),s&&o(s,"cx","co")}}function i(e){if(!o(e))return!1;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}function o(e){return null!=e&&(e.constructor==={}.constructor||e.constructor===[].constructor)}function a(){var e=[],t=[];return{getGlobalPrimitives:function(){return e},getConditionalProviders:function(){return t},addGlobalContexts:function(n){for(var r=[],i=[],o=0;o<n.length;o++){var a=n[o];_(a)?r.push(a):h(a)&&i.push(a)}e=e.concat(i),t=t.concat(r)},clearGlobalContexts:function(){t=[],e=[]},removeGlobalContexts:function(n){for(var r=function(n){_(n)?t=t.filter((function(e){return JSON.stringify(e)!==JSON.stringify(n)})):h(n)&&(e=e.filter((function(e){return JSON.stringify(e)!==JSON.stringify(n)})))},i=0;i<n.length;i++)r(n[i])},getApplicableContexts:function(n){e:{for(var r=0,i=n.getJson();r<i.length;r++){var o=i[r];if("ue_px"===o.keyIfEncoded&&"object"==typeof o.json.data&&"string"==typeof(o=o.json.data.schema)){r=o;break e}}r=""}o="string"==typeof(i=n.getPayload().e)?i:"",i=[];var a=y(e,n,o,r);return i.push.apply(i,a),n=function(e,t,n,r){var i;return e=b(e).map((function(e){e:{if(p(e)){var i=e[0],o=!1;try{o=i({event:t.getPayload(),eventType:n,eventSchema:r})}catch(e){o=!1}if(!0===o){e=y(e[1],t,n,r);break e}}else if(m(e)&&function(e,t){var n=0,r=0,i=e.accept;return Array.isArray(i)?e.accept.some((function(e){return k(e,t)}))&&r++:"string"==typeof i&&k(i,t)&&r++,i=e.reject,Array.isArray(i)?e.reject.some((function(e){return k(e,t)}))&&n++:"string"==typeof i&&k(i,t)&&n++,0<r&&0===n}(e[0],r)){e=y(e[1],t,n,r);break e}e=[]}if(e&&0!==e.length)return e})),(i=[]).concat.apply(i,e.filter((function(e){return null!=e&&e.filter(Boolean)})))}(t,n,o,r),i.push.apply(i,n),i}}}function s(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return null!==(t=null==e?void 0:e.map((function(e){if("function"!=typeof e)return e;try{return e.apply(void 0,n)}catch(e){}})).filter(Boolean))&&void 0!==t?t:[]}function l(e){return!!((e=e.split("."))&&1<e.length)&&function(e){if("*"===e[0]||"*"===e[1])return!1;if(0<e.slice(2).length){var t=!1,n=0;for(e=e.slice(2);n<e.length;n++)if("*"===e[n])t=!0;else if(t)return!1;return!0}return 2==e.length}(e)}function c(e){if(null!==(e=/^iglu:((?:(?:[a-zA-Z0-9-_]+|\*).)+(?:[a-zA-Z0-9-_]+|\*))\/([a-zA-Z0-9-_.]+|\*)\/jsonschema\/([1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)$/.exec(e))&&l(e[1]))return e.slice(1,6)}function u(e){if(e=c(e)){var t=e[0];return 5===e.length&&l(t)}return!1}function d(e){return Array.isArray(e)&&e.every((function(e){return"string"==typeof e}))}function f(e){return d(e)?e.every((function(e){return u(e)})):"string"==typeof e&&u(e)}function v(e){return!!(i(e)&&"schema"in e&&"data"in e)&&("string"==typeof e.sc&&"object"==typeof e.dt)}function g(e){return"function"==typeof e&&1>=e.length}function h(e){return g(e)||v(e)}function p(e){return!(!Array.isArray(e)||2!==e.length)&&(Array.isArray(e[1])?g(e[0])&&e[1].every(h):g(e[0])&&h(e[1]))}function m(e){return!(!Array.isArray(e)||2!==e.length)&&(!!function(e){var t=0;if(null!=e&&"object"==typeof e&&!Array.isArray(e)){if(Object.prototype.hasOwnProperty.call(e,"accept")){if(!f(e.accept))return!1;t+=1}if(Object.prototype.hasOwnProperty.call(e,"reject")){if(!f(e.reject))return!1;t+=1}return 0<t&&2>=t}return!1}(e[0])&&(Array.isArray(e[1])?e[1].every(h):h(e[1])))}function _(e){return p(e)||m(e)}function k(e,t){if(!u(e))return!1;if(e=c(e),t=null!==(t=/^iglu:([a-zA-Z0-9-_.]+)\/([a-zA-Z0-9-_]+)\/jsonschema\/([1-9][0-9]*)-(0|[1-9][0-9]*)-(0|[1-9][0-9]*)$/.exec(t))?t.slice(1,6):void 0,e&&t){if(!function(e,t){if(t=t.split("."),e=e.split("."),t&&e){if(t.length!==e.length)return!1;for(var n=0;n<e.length;n++)if(!w(t[n],e[n]))return!1;return!0}return!1}(e[0],t[0]))return!1;for(var n=1;5>n;n++)if(!w(e[n],t[n]))return!1;return!0}return!1}function w(e,t){return e&&t&&"*"===e||e===t}function b(e){return Array.isArray(e)?e:[e]}function y(e,t,n,r){var i;return e=b(e).map((function(e){e:if(v(e))e=[e];else{if(g(e)){t:{var i=void 0;try{if(i=e({event:t.getPayload(),eventType:n,eventSchema:r}),Array.isArray(i)&&i.every(v)||v(i)){var o=i;break t}o=void 0;break t}catch(e){}o=void 0}if(v(o)){e=[o];break e}if(Array.isArray(o)){e=o;break e}}e=void 0}if(e&&0!==e.length)return e})),(i=[]).concat.apply(i,e.filter((function(e){return null!=e&&e.filter(Boolean)})))}function T(e){void 0===e&&(e={});var n,i,s,l,c,u,d,f=e.base64,v=e.corePlugins,g=null!=v?v:[];n=null==f||f,i=g,s=e.callback,l=function(e){return{addPluginContexts:function(n){var r=n?t([],n,!0):[];return e.forEach((function(e){try{e.contexts&&r.push.apply(r,e.contexts())}catch(e){Xe.error("Error adding plugin contexts",e)}})),r}}}(i),c=a(),u=n,d={};var h=Oe(Oe({},f={track:function(e,t,n){e.withJsonProcessor(r(u)),e.add("eid",Je.v4()),e.addDict(d),n=function(e){return null==e?{type:"dtm",value:(new Date).getTime()}:"number"==typeof e?{type:"dtm",value:e}:"ttm"===e.type?{type:"ttm",value:e.value}:{type:"dtm",value:e.value||(new Date).getTime()}}(n),e.add(n.type,n.value.toString()),t=function(e,t){e=c.getApplicableContexts(e);var n=[];return t&&t.length&&n.push.apply(n,t),e&&e.length&&n.push.apply(n,e),n}(e,l.addPluginContexts(t)),void 0!==(t=t&&t.length?{sc:"sp/ctx/1-0-0",dt:t}:void 0)&&e.addJson("cx","co",t),i.forEach((function(t){try{t.beforeTrack&&t.beforeTrack(e)}catch(e){Xe.error("Plugin beforeTrack",e)}})),"function"==typeof s&&s(e);var o=e.build();return i.forEach((function(e){try{e.afterTrack&&e.afterTrack(o)}catch(e){Xe.error("Plugin afterTrack",e)}})),o},addPayloadPair:function(e,t){d[e]=t},configuration:e,getConfig:function(){return e},setConfig:function(t){t&&(void 0!==t.base64&&(u=e.base64=t.base64),void 0!==t.linkClickTracking&&(e.linkClickTracking=t.linkClickTracking),void 0!==t.lifecycleAutotracking&&(e.lifecycleAutotracking=t.lifecycleAutotracking),void 0!==t.cacheRefreshInterval&&(e.cacheRefreshInterval=t.cacheRefreshInterval),void 0!==t.buttonClickTracking&&(e.buttonClickTracking=t.buttonClickTracking),void 0!==t.customEvent&&(e.customEvent=t.customEvent),void 0!==t.exceptionAutotracking&&(e.exceptionAutotracking=t.exceptionAutotracking),void 0!==t.enablePeriodicHeartbeat&&(e.enablePeriodicHeartbeat=t.enablePeriodicHeartbeat),void 0!==t.periodicHeartbeatInterval&&(e.periodicHeartbeatInterval=t.periodicHeartbeatInterval),void 0!==t.enc&&(e.enc=t.enc),void 0!==t.mend&&(e.mend=t.mend),void 0!==t.maxLocalStorageQueueSize&&(e.maxLocalStorageQueueSize=t.maxLocalStorageQueueSize),void 0!==t.maxPostBytes&&(e.maxPostBytes=t.maxPostBytes),void 0!==t.maxGetBytes&&(e.maxGetBytes=t.maxGetBytes),void 0!==t.bufferSize&&(e.bufferSize=t.bufferSize),void 0!==t.customEventTrackingConfiguration&&(e.customEventTrackingConfiguration=t.customEventTrackingConfiguration),void 0!==t.convivaVideoEventTrackingConfiguration&&(e.convivaVideoEventTrackingConfiguration=t.convivaVideoEventTrackingConfiguration),void 0!==t.ajaxTrackingConfiguration&&(e.ajaxTrackingConfiguration=t.ajaxTrackingConfiguration),void 0!==t.networkRequestTrackingConfiguration&&(e.networkRequestTrackingConfiguration=t.networkRequestTrackingConfiguration),void 0!==t.traceparentconfig&&(e.traceparentconfig=t.traceparentconfig),void 0!==t.metaTagsTrackingConfiguration&&(e.metaTagsTrackingConfiguration=t.metaTagsTrackingConfiguration),void 0!==t.performanceContextConfig&&(e.performanceContextConfig=t.performanceContextConfig))},getBase64Encoding:function(){return u},setBase64Encoding:function(e){u=e},addPayloadDict:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(d[t]=e[t])},resetPayloadPairs:function(e){d=o(e)?e:{}},setTrackerVersion:function(e){d.tv=e},setTrackerNamespace:function(e){d.tna=e},setAppId:function(e){d.aid=e},setPlatform:function(e){d.p=e},setUserId:function(e){d.uid=e},setScreenResolution:function(e,t){d.res=e+"x"+t},setViewport:function(e,t){d.vp=e+"x"+t},setColorDepth:function(e){d.cd=e},setTimezone:function(e){d.tz=e},setLang:function(e){d.lang=e},setIpAddress:function(e){d.ip=e},setUseragent:function(e){d.ua=e},addGlobalContexts:function(e){c.addGlobalContexts(e)},clearGlobalContexts:function(){c.clearGlobalContexts()},removeGlobalContexts:function(e){c.removeGlobalContexts(e)}}),{addPlugin:function(e){var t,n;e=e.plugin,g.push(e),null===(t=e.logger)||void 0===t||t.call(e,Xe),null===(n=e.activateCorePlugin)||void 0===n||n.call(e,h)}});return null==g||g.forEach((function(e){var t,n;null===(t=e.logger)||void 0===t||t.call(e,Xe),null===(n=e.activateCorePlugin)||void 0===n||n.call(e,h)})),h}function C(e){var t=e.event;return e={sc:"sp/ue/1-0-0",dt:{sc:e=t.sc,dt:t.dt}},(t=n()).add("e","ue"),t.addJson("ue_px","ue_pr",e),t}function E(e){return C({event:e={sc:"sp/lc/1-0-1",dt:A({targetUrl:e.targetUrl,elementId:e.elementId,elementClasses:e.elementClasses,elementTarget:e.elementTarget,elementContent:e.elementContent})}})}function x(e){return C({event:e={sc:"cv/bc/1-0-0",dt:A({elementType:e.elementType,elementId:e.elementId,elementClasses:e.elementClasses,elementName:e.elementName,elementText:e.elementText,elementValue:e.elementValue})}})}function A(e,t){void 0===t&&(t={});var n,r={};for(n in e)(t[n]||null!==e[n]&&void 0!==e[n])&&(r[n]=e[n]);return r}function S(e){let t=e.length;for(;0<=--t;)e[t]=0}function R(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function O(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function I(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function P(){this.strm=null,this.status=0,this.pending_buf=null,this.wrap=this.pending=this.pending_out=this.pending_buf_size=0,this.gzhead=null,this.gzindex=0,this.method=on,this.last_flush=-1,this.w_mask=this.w_bits=this.w_size=0,this.window=null,this.window_size=0,this.head=this.prev=null,this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),sn(this.dyn_ltree),sn(this.dyn_dtree),sn(this.bl_tree),this.bl_desc=this.d_desc=this.l_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),sn(this.heap),this.heap_max=this.heap_len=0,this.depth=new Uint16Array(573),sn(this.depth),this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.sym_end=this.sym_next=this.lit_bufsize=this.sym_buf=0}function N(e){(e=this.options=Tn.assign({level:Dn,method:Ln,chunkSize:16384,windowBits:15,memLevel:8,strategy:Bn},e||{})).raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&16>e.windowBits&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new An,this.strm.avail_out=0;let t=yn.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(t!==Nn)throw Error(zt[t]);if(e.header&&yn.deflateSetHeader(this.strm,e.header),e.dictionary){if(e="string"==typeof e.dictionary?xn.string2buf(e.dictionary):"[object ArrayBuffer]"===Sn.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,t=yn.deflateSetDictionary(this.strm,e),t!==Nn)throw Error(zt[t]);this._dict_set=!0}}function z(e,t){if((t=new N(t)).push(e,!0),t.err)throw t.msg||zt[t.err];return t.result}function D(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.total=this.check=this.dmax=this.flags=0,this.head=null,this.wnext=this.whave=this.wsize=this.wbits=0,this.window=null,this.extra=this.offset=this.length=this.bits=this.hold=0,this.distcode=this.lencode=null,this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.distdyn=this.lendyn=null,this.was=this.back=this.sane=0}function B(e){let t=this.options=Tn.assign({chunkSize:65536,windowBits:15,to:""},e||{});if(t.raw&&0<=t.windowBits&&16>t.windowBits&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&16>t.windowBits)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&48>t.windowBits&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new An,this.strm.avail_out=0,(e=ur.inflateInit2(this.strm,t.windowBits))!==hr)throw Error(zt[e]);if(this.header=new dr,ur.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=xn.string2buf(t.dictionary):"[object ArrayBuffer]"===fr.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=ur.inflateSetDictionary(this.strm,t.dictionary))!==hr))throw Error(zt[e])}function L(e,t){if((t=new B(t)).push(e),t.err)throw t.msg||zt[t.err];return t.result}function U(e){return Number.isInteger&&Number.isInteger(e)||"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function j(e){return!(!e||"function"!=typeof e)}function F(e){if(!e||"string"!=typeof e.valueOf()){e=e.text||"";var t=document.getElementsByTagName("title");t&&null!=t[0]&&(e=t[0].text)}return e}function M(e){var t=/^(?:(?:https?|ftp):)\/*(?:[^@]+@)?([^:/#]+)/.exec(e);return t?t[1]:e}function q(e){var t=e.length;return"."===e.charAt(--t)&&(e=e.slice(0,t)),"*."===e.slice(0,2)&&(e=e.slice(1)),e}function H(e){var t=window,n=Z("referrer",t.location.href)||Z("referer",t.location.href);if(n)return n;if(e)return e;try{if(t.top)return t.top.document.referrer;if(t.parent)return t.parent.document.referrer}catch(e){}return document.referrer}function G(e,t,n,r){return e.addEventListener?(e.addEventListener(t,n,r),!0):e.attachEvent?e.attachEvent("on"+t,n):void(e["on"+t]=n)}function Z(e,t){return(e=new RegExp("^[^#]*[?&]"+e+"=([^&#]*)").exec(t))?decodeURIComponent(e[1].replace(/\+/g," ")):null}function V(e,t,n){void 0===n&&(n=63072e3);try{var r=window.localStorage,i=Date.now()+1e3*n;return r.setItem("".concat(e,".expires"),i.toString()),r.setItem(e,t),!0}catch(e){return!1}}function J(e){try{var t=window.localStorage;return t.removeItem(e),t.removeItem(e+".expires"),!0}catch(e){return!1}}function K(e,t,n,r,i,o,a){return 1<arguments.length?document.cookie=e+"="+encodeURIComponent(null!=t?t:"")+(n?"; Expires="+new Date(+new Date+1e3*n).toUTCString():"")+(r?"; Path="+r:"")+(i?"; Domain="+i:"")+(o?"; SameSite="+o:"")+(a?"; Secure":""):decodeURIComponent((("; "+document.cookie).split("; "+e+"=")[1]||"").split(";")[0])}function Y(e){if(null==e||"object"!=typeof e||Array.isArray(e))return function(){return!0};var t=Object.prototype.hasOwnProperty.call(e,"allowlist"),n=$(e);return W(e,(function(e){e:{var r=0;for(e=Q(e);r<e.length;r++)if(n[e[r]]){r=!0;break e}r=!1}return r===t}))}function X(e){if(null==e||"object"!=typeof e||Array.isArray(e))return function(){return!0};var t=e.hasOwnProperty("allowlist"),n=$(e);return W(e,(function(e){return e.name in n===t}))}function Q(e){return e.className.match(/\S+/g)||[]}function W(e,t){return e.hasOwnProperty("filter")&&e.filter?e.filter:t}function $(e){var t={};if(e=e.allowlist||e.denylist){Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++)t[e[n]]=!0}return t}function ee(e,t,n){try{if("string"==typeof n&&"string"==typeof e&&"*"===n.trim())return!0;switch(t){case"==":case"equal":return e===n;case"!=":return e!==n;case">":return e>n;case"<":return e<n;case">=":return e>=n;case"<=":return e<=n;case"contains":return""!==n&&"string"==typeof e&&"string"==typeof n&&-1!==e.toLowerCase().indexOf(n.toLowerCase());default:return!1}}catch(e){return console.warn("Conviva App Tracker: Error in Compare values nwreq ".concat(e)),!1}}function te(e,t,n,r,i,o,a,s,l,c,u,d,f,v,g,h,p){function m(e){var t=Object.keys(e).map((function(t){return[t,e[t]]})).reduce((function(e,t){return e[t[0]]=t[1].toString(),e}),{});return{evt:t,bytes:_(JSON.stringify(t))}}function _(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);127>=r?t+=1:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,n++):t=65535>r?t+3:t+4}return t}function k(e,t){t=b(t,!0,!1),e=y(T([e.evt]));try{"none"!==p().toLowerCase()&&(e=Pr.gzip(e,{level:6}),t.setRequestHeader("Content-Encoding","gzip"))}catch(e){}t.send(e)}function w(e){for(void 0===e&&(e=!1);O.length&&"string"!=typeof O[0]&&"object"!=typeof O[0];)O.shift();if(1>O.length)R=!1;else{if(!E||"string"!=typeof E.valueOf())throw"No collector configured";if(R=!0,N){var t=function(e){for(var t=0,n=0;t<e.length&&!((n+=e[t].bytes)>=a());)t+=1;return t},r=void 0;if(U(O))var i=b(r=E,!0,e),o=t(O);else r=C(O[0]),i=b(r,!1,e),o=1;var s=setTimeout((function(){i.abort(),R=!1}),u),l=function(e){for(var t=0;t<e;t++)O.shift();n&&V(B,JSON.stringify(O.slice(-1*c())))};if(i.onreadystatechange=function(){if(4===i.readyState&&200<=i.status)if(clearTimeout(s),300>i.status)l(o),w();else{var e=i.status;(e=!(200<=e&&300>e)&&(!!g.includes(e)||!h.includes(e)))||(Xe.error("Status ".concat(i.status,", will not retry.")),l(o)),R=!1}},U(O)){if(0<(t=O.slice(0,o)).length){if(e=!1,t=t.map((function(e){return e.evt})),P){var f=new Blob([y(T(t))],{type:"application/json"});try{e=navigator.sendBeacon(r,f)}catch(t){e=!1}}if(!0===e)l(o),w();else{r=y(T(t));try{"none"!==p().toLowerCase()&&(r=Pr.gzip(r,{level:6}),i.setRequestHeader("Content-Encoding","gzip"))}catch(e){}i.send(r)}}}else i.send()}else if(d||U(O))R=!1;else{r=new Image(1,1);var v=!0;r.onload=function(){v&&(v=!1,O.shift(),n&&V(B,JSON.stringify(O.slice(-1*c()))),w())},r.onerror=function(){v&&(R=v=!1)},r.src=C(O[0]),setTimeout((function(){v&&R&&(v=!1,w())}),u)}}}function b(e,t,n){var r=new XMLHttpRequest;for(var i in t?(r.open("POST",e,!n),r.setRequestHeader("Content-Type","application/json; charset=UTF-8")):r.open("GET",e,!n),r.withCredentials=v,d&&r.setRequestHeader("SP-Anonymous","*"),f)Object.prototype.hasOwnProperty.call(f,i)&&r.setRequestHeader(i,f[i]);return r}function y(e){return JSON.stringify({sc:"sp/pd/1-0-4",dt:e})}function T(e){for(var t=(new Date).getTime().toString(),n=0;n<e.length;n++)e[n].stm=t;return e}function C(e){return l?E+e.replace("?","?stm="+(new Date).getTime()+"&"):E+e}var E,x,A,S,R=!1,O=[],I=!0===(r="string"==typeof r?r.toLowerCase():r)||"beacon"===r||"true"===r,P=!(!(I&&window.navigator&&window.navigator.sendBeacon)||(x=window.navigator.userAgent,(S=(S=x).match("(iP.+; CPU .*OS (d+)[_d]*.*) AppleWebKit/"))&&S.length&&parseInt(S[0])<=13||function(e,t,n){return!(!(n=n.match("(Macintosh;.*Mac OS X (d+)_(d+)[_d]*.*) AppleWebKit/"))||!n.length)&&(parseInt(n[0])<=e||parseInt(n[0])===e&&parseInt(n[1])<=t)}(10,15,x)&&(A=x).match("Version/.* Safari/")&&!A.match("Chrom(e|ium)")))&&I,N=!(!window.XMLHttpRequest||!("withCredentials"in new XMLHttpRequest)),z="get"!==r&&N&&("post"===r||I),D=z?i:"/i",B="snowplowOutQueue_".concat(e,"_").concat(z?"post2":"get");if(I&&(f={}),o=n&&function(){try{var e=!!window.localStorage}catch(t){e=!0}if(!e)return!1;try{var t=window.localStorage;return t.setItem("modernizr","modernizr"),t.removeItem("modernizr"),!0}catch(e){return!1}}()&&z&&o||1,n)try{var L=window.localStorage.getItem(B);O=L?JSON.parse(L):[]}catch(x){}Array.isArray(O)||(O=[]),t.outQueues.push(O),N&&1<o&&t.bufferFlushers.push((function(e){R||w(e)}));var U=function(e){return"object"==typeof e[0]};return{enqueueRequest:function(e,t){if(E=t+D,z){if(e=m(e),t=a(),e.bytes>=t)return Xe.warn("Event ("+e.bytes+"B) too big, max is "+t),void k(e,E);O.push(e)}else{var r,l="?",u={co:!0,cx:!0},d=!0;for(r in e)e.hasOwnProperty(r)&&!u.hasOwnProperty(r)&&(d?d=!1:l+="&",l+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));for(var f in u)e.hasOwnProperty(f)&&u.hasOwnProperty(f)&&(l+="&"+f+"="+encodeURIComponent(e[f]));if(0<(u=s())&&(d=_(d=C(l)))>=u)return Xe.warn("Event ("+d+"B) too big, max is "+u),void(N&&(e=m(e),k(e,t+i)));O.push(l)}t=!1,n&&(t=V(B,JSON.stringify(O.slice(-1*c())))),R||t&&!(O.length>=o)||w()},executeQueue:function(){R||w()},setUseLocalStorage:function(e){n=e},setAnonymousTracking:function(e){d=e},setCollectorUrl:function(e){E=e+D},setBufferSize:function(e){o=e},setCustomHeaders:function(e){f=e}}}function ne(e,t,n){return"translate.googleusercontent.com"===e?(""===n&&(n=t),e=M(t=null!=(e=(e=/^(?:https?|ftp)(?::\/*(?:[^?]+))([?][^#]+)/.exec(t))&&1<(null==e?void 0:e.length)?Z("u",e[1]):null)?e:"")):"cc.bingj.com"!==e&&"webcache.googleusercontent.com"!==e||(e=M(t=document.links[0].href)),[e,t,n]}function re(e,t){return void 0===t&&(t=1),"0"===e[0]?(e[7]=e[6],e[5]=e[4],e[3]++):e[3]=t,t=Je.v4(),e[6]=t,e[10]=-1,e[8]="",e[9]=void 0,t}function ie(e){e[4]=Math.round((new Date).getTime()/1e3)}function oe(e){return{activateLCPObserver:function(){try{PerformanceObserver&&new PerformanceObserver((function(e){try{e.getEntries().forEach((function(e){var t;if("largest-contentful-paint"===e.entryType){var n=null===performance||void 0===performance?void 0:performance.getEntriesByType("navigation"),r=void 0;n&&0<(null==n?void 0:n.length)&&(r=null===(t=n[0])||void 0===t?void 0:t.activationStart),zr=Oe(Oe({},e.toJSON()),{performanceNavigationActivationStart:null!=r?r:0})}}))}catch(e){console.warn("convivaAppTracker error in conviva lcp observer "+e)}})).observe({type:"largest-contentful-paint",buffered:!0})}catch(e){console.warn("convivaAppTracker conviva_lcp failed "+e)}},contexts:function(){try{switch(e){case Ir.PERFORMANCE_CONTEXT.DISABLED:return[];case Ir.PERFORMANCE_CONTEXT.PERFORMANCE_NAVIGATION_TIMING:return function(){var e,t,n;try{var r=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance||{};if(r.getEntriesByType){var i=r.getEntriesByType("navigation")[0],o=null!==(e=null==r?void 0:r.timeOrigin)&&void 0!==e?e:0;if(!i)return[];var a={st:Math.floor(o+i.startTime),dls:Math.floor(o+i.domainLookupStart),dle:Math.floor(o+i.domainLookupEnd),rss:Math.floor(o+i.responseStart),rse:Math.floor(o+i.responseEnd),le:Math.floor(o+i.loadEventEnd),dur:Math.floor(o+i.duration),as:Math.floor(o+i.activationStart)};return null!=zr&&zr.startTime&&(a.lcp={rt:Math.floor(o+zr.startTime),url:128<(null===(t=null==zr?void 0:zr.url)||void 0===t?void 0:t.length)?null===(n=null==zr?void 0:zr.url)||void 0===n?void 0:n.substring(0,128):zr.url,sz:zr.size}),[{schema:"iglu:com.conviva/performance_context/jsonschema/1-0-1",data:a}]}return[]}catch(e){return console.warn("ConvivaAppTracker: issue will getting performance Navigation timing context"),[]}}();default:var n=window,r=n.performance||n.mozPerformance||n.msPerformance||n.webkitPerformance,i=r.timing;return t(t([],r?[{sc:"w3/pt/1-0-0",dt:{navigationStart:i.navigationStart,domainLookupStart:i.domainLookupStart,domainLookupEnd:i.domainLookupEnd,responseStart:i.responseStart,responseEnd:i.responseEnd,loadEventEnd:i.loadEventEnd}}]:[],!0),function(){var e,t,n;try{if(void 0!==(null==zr?void 0:zr.startTime)&&"number"==typeof(null==zr?void 0:zr.startTime))return[{schema:"iglu:com.conviva/largestContentfulPaint/jsonschema/1-0-0",data:{lcp:Math.round(zr.startTime)-(null!==(e=zr.performanceNavigationActivationStart)&&void 0!==e?e:0),url:128<(null===(t=null==zr?void 0:zr.url)||void 0===t?void 0:t.length)?null===(n=null==zr?void 0:zr.url)||void 0===n?void 0:n.substring(0,128):zr.url}}]}catch(e){}return[]}(),!0)}}catch(e){return console.warn("convivaAppTracker problem in perfromance context "+e),[]}}}}function ae(r,i,o,a,s,l){void 0===l&&(l={});var c=[];r=function(r,i,o,a,s,d){function f(){(Tt=ne(window.location.hostname,window.location.href,H()))[1]!==Et&&(xt=H(Et)),Ct=q(Tt[0]),Et=Tt[1]}function v(e){try{var t=(new Date).getTime(),n=e.currentTarget;if(null!=n&&n.href){e="_sp="+pt+"."+t;var r=n.href.split("#"),i=r[0].split("?"),o=i.shift(),a=i.join("?");if(a){i=!0;var s=a.split("&");for(t=0;t<s.length;t++)if("_sp="===s[t].substr(0,4)){i=!1,s[t]=e,a=s.join("&");break}i&&(a=e+"&"+a)}else a=e;r[0]=o+"?"+a;var l=r.join("#");n.href=l}}catch(e){console.warn("Conviva App Tracker:: Error in linkDecorationHandler of decorateLinks ".concat(e))}}function g(e){if("undefined"!=typeof document&&document.links&&0<document.links.length)for(var t=0;t<document.links.length;t++){var n=document.links[t];!n.spDecorationEnabled&&e(n)&&(G(n,"click",v,!0),G(n,"mousedown",v,!0),n.spDecorationEnabled=!0)}}function h(e){if(ot){var t=/#.*/;e=e.replace(t,"")}return at&&(t=/[{}]/g,e=e.replace(t,"")),e}function p(e){return(e=/^([a-z]+):/.exec(e))?e[1]:null}function m(e){if(e=Lt+e+"."+ht,"localStorage"==Yt){try{var t=window.localStorage,n=t.getItem(e+".expires");if(null===n||+n>Date.now())var r=t.getItem(e);else t.removeItem(e),t.removeItem(e+".expires"),r=void 0}catch(e){r=void 0}return r}if("cookie"==Yt||"cookieAndLocalStorage"==Yt)return K(e)}function _(){f(),ht=tt((Ut||Ct)+(jt||"/")).slice(0,4)}function k(){ut=(new Date).getTime()}function w(){var e=b(),t=e[0];t<dt?dt=t:t>ft&&(ft=t),(e=e[1])<vt?vt=e:e>gt&&(gt=e),k()}function b(){var e="undefined"!=typeof document?null===document||void 0===document?void 0:document.documentElement:void 0;return e?[e.scrollLeft||window.pageXOffset,e.scrollTop||window.pageYOffset]:[0,0]}function y(){var e=b(),t=e[0];ft=dt=t,gt=vt=e=e[1]}function E(){S(Lt+"ses."+ht,"*",Zt)}function x(e){var t=Lt+"id."+ht;e.shift(),S(t,e=e.join("."),Gt)}function S(e,t,n){Kt&&!Vt||("localStorage"==Yt?V(e,t,n):("cookie"==Yt||"cookieAndLocalStorage"==Yt)&&K(e,t,n,jt,Ut,Ft,Mt))}function R(e){var t=Lt+"id."+ht,n=Lt+"ses."+ht;J(t),J(n),K(t,"",-1,"/",Ut,Ft,Mt),K(n,"",-1,"/",Ut,Ft,Mt),null!=e&&e.preserveSession||(mt=Je.v4(),tn=1),null!=e&&e.preserveUser||(pt=Je.v4(),_t=null)}function O(e){e&&e.stateStorageStrategy&&(d.stateStorageStrategy=e.stateStorageStrategy,Yt=We(d)),Kt=!!d.anonymousTracking,Vt=$e(d),Jt=et(d),nn.setUseLocalStorage("localStorage"==Yt||"cookieAndLocalStorage"==Yt),nn.setAnonymousTracking(Jt)}function I(){try{var e=window.localStorage.getItem(Xt+"."+Qt),t=JSON.parse(e||"{}");"{}"===t||void 0===t?(lt=L(),ct=j(),$t=-1):(lt=t.clId||L(),$t=t[Wt]&&2147483648>t[Wt]?t[Wt]:-1,ct=j()),B()}catch(e){console.warn(e)}if(!Kt||Vt){if(e="none"!=Yt&&!!m("ses"),(t=P())[1])var n=t[1];else n=Kt?"":Je.v4(),t[1]=n;pt=n,mt=e?t[6]:re(t),tn=t[3],"none"!=Yt&&(E(),ie(t),x(t))}}function P(){return"none"==Yt?["1","",0,0,0,void 0,"","","",void 0,0]:function(e,t,n,r){var i=Math.round((new Date).getTime()/1e3);e?(e=e.split(".")).unshift("0"):e=["1",t,i,r,i,"",n],e[6]&&"undefined"!==e[6]||(e[6]=Je.v4()),e[7]&&"undefined"!==e[7]||(e[7]=""),e[8]&&"undefined"!==e[8]||(e[8]=""),e[9]&&"undefined"!==e[9]||(e[9]=""),e[10]&&"undefined"!==e[10]||(e[10]=-1);var o=function(e,t){return e=parseInt(e),isNaN(e)?t:e};return t=function(e){return e?o(e,void 0):void 0},[e[0],e[1],o(e[2],i),o(e[3],r),o(e[4],i),t(e[5]),e[6],e[7],e[8],t(e[9]),o(e[10],-1)]}(m("id")||void 0,pt,mt,tn)}function N(e,t){var n,r,i,o,a=!0,s=yt.getConfig();return void 0!==s.mend?a=s.mend:void 0!==(null===(r=null===(n=null==d?void 0:d.configs)||void 0===n?void 0:n.network)||void 0===r?void 0:r.mergeEndpoint)&&(a=null===(o=null===(i=null==d?void 0:d.configs)||void 0===i?void 0:i.network)||void 0===o?void 0:o.mergeEndpoint),0===e.indexOf("http")?(t&&a&&(e=e.replace(/^(https?:\/\/)(.*)$/,"$1"+t+".$2")),e):t&&a?("https:"===document.location.protocol?"https":"http")+"://"+t+"."+e:("https:"===document.location.protocol?"https":"http")+"://"+e}function z(){rn&&null!=s.pageViewId||(s.pageViewId=Je.v4())}function D(){return null==s.pageViewId&&(s.pageViewId=Je.v4()),s.pageViewId}function B(){try{var e=window.localStorage,t={clId:lt,iid:ct,eventIndex:$t},n=null;try{n=JSON.stringify(t)}catch(e){return}return e.setItem(Xt+"."+Qt,n)}catch(e){}}function L(){try{return X({"First Launch":"Yes"}),Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()}catch(e){console.warn(e)}}function j(){try{return Math.floor(2147483647*Math.random())}catch(e){return console.warn(e),-1}}function Y(e){try{return"object"==typeof JSON.parse(e)}catch(e){return!1}}function X(e){try{var t=Object.keys(e);Y(JSON.stringify(e))?t.forEach((function(t){""!==t&&Object.defineProperty(Nt,t,{value:""+e[t],writable:!0,enumerable:!0,configurable:!0})})):console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=")}catch(e){console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",e)}}function Q(e){var t=e.title,r=e.context,i=e.timestamp;if(e=e.contextCallback,f(),on&&z(),on=!0,Dt=document.title,t=F((it=t)||Dt),yt.track(function(e){var t=e.pageUrl,r=e.pageTitle;e=e.referrer;var i=n();return i.add("e","pv"),i.add("url",t),i.add("page",r),i.add("refr",e),i}({pageUrl:h(rt||Et),pageTitle:t,referrer:h(nt||xt)}),(r||[]).concat(e?e():[]),i),i=new Date,t=!1,an.enabled&&!an.installed){t=an.installed=!0;var o={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0},set:function(){}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),o.hasSupport=e}}};o.update();var a="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";Object.prototype.hasOwnProperty.call(o,"hasSupport")?G(document,a,k,{passive:!0}):G(document,a,k),y(),a=function(e,t){return void 0===t&&(t=k),function(e){return G(document,e,t)}},"click mouseup mousedown mousemove keypress keydown keyup".split(" ").forEach(a(document)),["resize","focus","blur"].forEach(a(window)),a(window,w)("scroll")}if(an.enabled&&(Bt||t))for(i in ut=i.getTime(),i=void 0,an.configurations)(t=an.configurations[i])&&(window.clearInterval(t.activityInterval),$(t,r,e))}function W(){var e,n,r,i,o,a,s,l,c,f,v,g,h,p,m,_,k,w,b,y,T,C,E,x,A,S,R,O,I,P,N;try{var z=u.core.getConfig(),D=void 0;zt={};var B=Nr.MERGE;switch(void 0!==(null===(n=null===(e=null==d?void 0:d.configs)||void 0===e?void 0:e.metaTagsTracking)||void 0===n?void 0:n.preference)?B=null===(i=null===(r=null==d?void 0:d.configs)||void 0===r?void 0:r.metaTagsTracking)||void 0===i?void 0:i.preference:!0===(null===(a=null===(o=null==d?void 0:d.configs)||void 0===o?void 0:o.metaTagsTracking)||void 0===a?void 0:a.force)?B=Nr.APP:void 0!==(null===(s=null==z?void 0:z.metaTagsTrackingConfiguration)||void 0===s?void 0:s.pref)&&(B=null===(l=null==z?void 0:z.metaTagsTrackingConfiguration)||void 0===l?void 0:l.pref),B){case Nr.APP:if(!1===(null===(f=null===(c=null==d?void 0:d.configs)||void 0===c?void 0:c.metaTagsTracking)||void 0===f?void 0:f.enabled))return;0<(null===(h=null===(g=null===(v=null==d?void 0:d.configs)||void 0===v?void 0:v.metaTagsTracking)||void 0===g?void 0:g.tags)||void 0===h?void 0:h.length)&&(D=t([],null===(m=null===(p=null==d?void 0:d.configs)||void 0===p?void 0:p.metaTagsTracking)||void 0===m?void 0:m.tags,!0));break;case Nr.REMOTE:if(!1===(null===(_=null==z?void 0:z.metaTagsTrackingConfiguration)||void 0===_?void 0:_.enabled))return;void 0!==(null==z?void 0:z.metaTagsTrackingConfiguration)&&0<(null===(w=null===(k=null==z?void 0:z.metaTagsTrackingConfiguration)||void 0===k?void 0:k.tags)||void 0===w?void 0:w.length)&&(D=t([],null===(b=null==z?void 0:z.metaTagsTrackingConfiguration)||void 0===b?void 0:b.tags,!0));break;default:if(void 0===(null==z?void 0:z.metaTagsTrackingConfiguration)&&!1===(null===(T=null===(y=null==d?void 0:d.configs)||void 0===y?void 0:y.metaTagsTracking)||void 0===T?void 0:T.enabled)||void 0===(null===(C=null==d?void 0:d.configs)||void 0===C?void 0:C.metaTagsTracking)&&!1===(null===(E=null==z?void 0:z.metaTagsTrackingConfiguration)||void 0===E?void 0:E.enabled))return;var L=null===(A=null===(x=null==d?void 0:d.configs)||void 0===x?void 0:x.metaTagsTracking)||void 0===A?void 0:A.tags,U=null===(S=null==z?void 0:z.metaTagsTrackingConfiguration)||void 0===S?void 0:S.tags;!1===(null===(O=null===(R=null==d?void 0:d.configs)||void 0===R?void 0:R.metaTagsTracking)||void 0===O?void 0:O.enabled)&&(L=[]),!1===(null===(I=null==z?void 0:z.metaTagsTrackingConfiguration)||void 0===I?void 0:I.enabled)&&(U=[]),D=t([],function(e,n){return t(t([],e,!0),n,!0).reduce((function(e,n){var r=e.find((function(e){return e.key===n.key}));return r?n.condition&&(r.condition=t(t([],r.condition||[],!0),n.condition,!0)):e.push(Oe({},n)),e}),[])}(L||[],U||[]),!0)}if(void 0!==D&&0<(null==D?void 0:D.length)){e={};var j=null===document||void 0===document?void 0:document.head,F=null==j?void 0:j.getElementsByTagName("meta");if(void 0!==F&&0<(null==F?void 0:F.length))for(j=0;j<F.length;j++){var M=F[j];for(n=0;n<D.length;n++){var q=M.getAttribute(D[n].key),H=M.getAttribute(D[n].value);r=void 0,null!==(P=D[n])&&void 0!==P&&P.condition&&(r=null===(N=D[n])||void 0===N?void 0:N.condition),q&&(r&&r.includes(q)?e[q]=H:r&&0!==r.length||(e[q]=H))}}u.setMetaCustomTags(e)}}catch(e){console.warn("Conviva App Tracker:: setPageMetaTagsAsCustomTags",e)}}function $(e,t,n){var r=function(t,n){f();var r=u.core.getConfig();r.enablePeriodicHeartbeat?null!=r.periodicHeartbeatInterval&&((r=1e3*r.periodicHeartbeatInterval)!=e.configHeartBeatTimer&&(window.clearInterval(e.activityInterval),e.activityInterval=window.setInterval(o,r))):window.clearInterval(e.activityInterval),t({context:n,pageViewId:D(),minXOffset:dt,minYOffset:vt,maxXOffset:ft,maxYOffset:gt}),y()},i=new Date;window.setTimeout((function(){r(e.callback,(t||[]).concat(n?n():[]))}),2e3);var o=function(){var o=new Date;(i.getTime()+e.configHeartBeatTimer>o.getTime()||ut+e.configHeartBeatTimer>o.getTime())&&(i=o,r(e.callback,(t||[]).concat(n?n():[])))};e.activityInterval=window.setInterval(o,e.configHeartBeatTimer)}function ae(e){var t=e.minimumVisitLength,n=e.heartbeatDelay;if(e=e.callback,U(t)&&U(n))return{configMinimumVisitLength:1e3*t,configHeartBeatTimer:1e3*n,callback:e};Xe.error("Activity tracking minimumVisitLength & heartbeatDelay must be integers")}function se(e){var t=e.context,r=e.minXOffset,i=e.minYOffset,o=e.maxXOffset,a=e.maxYOffset;(e=document.title)!==Dt&&(Dt=e,it=void 0);var s=(e=yt).track,l=h(rt||Et),c=F(it||Dt),u=h(nt||xt);r=Math.round(r),o=Math.round(o),i=Math.round(i),a=Math.round(a);var d=n();d.add("e","pp"),d.add("url",l),d.add("page",c),d.add("refr",u),r&&!isNaN(Number(r))&&d.add("pp_mix",r.toString()),o&&!isNaN(Number(o))&&d.add("pp_max",o.toString()),i&&!isNaN(Number(i))&&d.add("pp_miy",i.toString()),a&&!isNaN(Number(a))&&d.add("pp_may",a.toString()),s.call(e,d,t)}function le(e){var n,r,i,o,a,s,l,c,f,v,g,h,p,m,_,k,w,b,y,T,C,E,x,A,S,R,O,I,P,N,z;try{if(u&&e){var D=u.core.getConfig(),B=Ir.CONFIG_PREFERENCES.MERGE,L=[];switch(void 0!==(null===(r=null===(n=null==d?void 0:d.configs)||void 0===n?void 0:n.traceparentGeneration)||void 0===r?void 0:r.force)&&!0===(null===(o=null===(i=null==d?void 0:d.configs)||void 0===i?void 0:i.traceparentGeneration)||void 0===o?void 0:o.force)?B=Ir.CONFIG_PREFERENCES.APP:void 0!==(null===(a=null==D?void 0:D.traceparentconfig)||void 0===a?void 0:a.pref)&&(B=null===(s=null==D?void 0:D.traceparentconfig)||void 0===s?void 0:s.pref),B){case Ir.CONFIG_PREFERENCES.APP:if(!1===(null===(c=null===(l=null==d?void 0:d.configs)||void 0===l?void 0:l.traceparentGeneration)||void 0===c?void 0:c.enabled))return"";null!==(g=null===(v=null===(f=null==d?void 0:d.configs)||void 0===f?void 0:f.traceparentGeneration)||void 0===v?void 0:v.targetUrl)&&void 0!==g&&g.length&&(L=t([],null===(p=null===(h=null==d?void 0:d.configs)||void 0===h?void 0:h.traceparentGeneration)||void 0===p?void 0:p.targetUrl,!0));break;case Ir.CONFIG_PREFERENCES.REMOTE:if(!1===(null===(m=null==D?void 0:D.traceparentconfig)||void 0===m?void 0:m.enabled))return"";void 0!==(null==D?void 0:D.traceparentconfig)&&null!==(k=null===(_=null==D?void 0:D.traceparentconfig)||void 0===_?void 0:_.targetUrl)&&void 0!==k&&k.length&&(L=t([],null===(w=null==D?void 0:D.traceparentconfig)||void 0===w?void 0:w.targetUrl,!0));break;default:if(void 0===(null==D?void 0:D.traceparentconfig)&&!1===(null===(y=null===(b=null==d?void 0:d.configs)||void 0===b?void 0:b.traceparentGeneration)||void 0===y?void 0:y.enabled)||void 0===(null===(T=null==d?void 0:d.configs)||void 0===T?void 0:T.traceparentGeneration)&&!1===(null===(C=null==D?void 0:D.traceparentconfig)||void 0===C?void 0:C.enabled))return"";var U=null===(x=null===(E=null==d?void 0:d.configs)||void 0===E?void 0:E.traceparentGeneration)||void 0===x?void 0:x.targetUrl,j=null===(A=null==D?void 0:D.traceparentconfig)||void 0===A?void 0:A.targetUrl;!1===(null===(R=null===(S=null==d?void 0:d.configs)||void 0===S?void 0:S.traceparentGeneration)||void 0===R?void 0:R.enabled)&&(U=[]),!1===(null===(O=null==D?void 0:D.traceparentconfig)||void 0===O?void 0:O.enabled)&&(j=[]);var F=new Set(t(t([],j||[],!0),U||[],!0));L=Array.from(F)}var M=null===(P=null===(I=null==d?void 0:d.configs)||void 0===I?void 0:I.networkRequestTracking)||void 0===P?void 0:P.safelist,q=null===(N=null==D?void 0:D.networkRequestTrackingConfiguration)||void 0===N?void 0:N.blocklist,H=(null==q?void 0:q.includes("*"))||(null==q?void 0:q.some((function(t){return 0<(null==t?void 0:t.length)&&e.toLowerCase().includes(t.toLowerCase())}))),G=null==M?void 0:M.some((function(t){return 0<(null==t?void 0:t.length)&&e.toLowerCase().includes(t.toLowerCase())}));if(0<(null==L?void 0:L.length)&&(null!=L&&L.includes("*")||null!=L&&L.some((function(t){return 0<(null==t?void 0:t.length)&&e.toLowerCase().includes(t.toLowerCase())})))&&null!==(z=null==D?void 0:D.networkRequestTrackingConfiguration)&&void 0!==z&&z.enabled&&(G||!H))return"00-"+Array.from({length:32},(function(){return Math.floor(16*Math.random()).toString(16)})).join("")+"-"+Array.from({length:16},(function(){return Math.floor(16*Math.random()).toString(16)})).join("")+"-00"}return""}catch(e){return""}}function ce(e){d.trackerConfigUrl?(Qe(d.trackerConfigUrl),De=window.setInterval(Qe,6e4*e,d.trackerConfigUrl)):(Qe(Ve),De=window.setInterval(Qe,6e4*e,Ve))}var ue,de,fe,ve,ge,he,pe,me,_e,ke,we,be,ye,Te,Ce,Ee,xe,Ae,Se,Re,Ie,Pe,Ne={cacheRefreshInterval:30,base64:!1,linkClickTracking:!0,buttonClickTracking:!0,lifecycleAutotracking:!0,customEvent:!0,exceptionAutotracking:!0,enablePeriodicHeartbeat:!0,periodicHeartbeatInterval:40,customEventTrackingConfiguration:{},convivaVideoEventTrackingConfiguration:{},ajaxTrackingConfiguration:{blocklist:["*"]},networkRequestTrackingConfiguration:{blocklist:["*"]},traceparentconfig:{enabled:!0,pref:Ir.CONFIG_PREFERENCES.MERGE,targetUrl:[]},performanceContextConfig:1},ze={},De=null;if("undefined"!=typeof window&&null!==window&&void 0!==window&&window.localStorage)var Be=localStorage.getItem(Ir.REMOTE_CONFIG_STORAGE_KEY)?localStorage.getItem(Ir.REMOTE_CONFIG_STORAGE_KEY):JSON.stringify(ze),Le=localStorage.getItem(Ir.END_POINT_STORAGE_KEY)?localStorage.getItem(Ir.END_POINT_STORAGE_KEY):Ir.DEFAULT_END_POINT;else Le=Ir.DEFAULT_END_POINT,Be=JSON.stringify(ze);a=d.gatewayUrl?d.gatewayUrl:Le||Ir.DEFAULT_END_POINT,i||(i="CAT");var Ue=JSON.parse(Be);ze.base64=void 0!==Ue.base64?Ue.base64:Ne.base64,ze.cacheRefreshInterval=void 0!==Ue.cacheRefreshInterval?Ue.cacheRefreshInterval:Ne.cacheRefreshInterval,ze.linkClickTracking=void 0!==Ue.linkClickTracking?Ue.linkClickTracking:Ne.linkClickTracking,ze.lifecycleAutotracking=void 0!==Ue.lifecycleAutotracking?Ue.lifecycleAutotracking:Ne.lifecycleAutotracking,ze.buttonClickTracking=void 0!==Ue.buttonClickTracking?Ue.buttonClickTracking:Ne.buttonClickTracking,ze.exceptionAutotracking=void 0!==Ue.exceptionAutotracking?Ue.exceptionAutotracking:Ne.exceptionAutotracking,ze.enablePeriodicHeartbeat=void 0!==Ue.enablePeriodicHeartbeat?Ue.enablePeriodicHeartbeat:Ne.enablePeriodicHeartbeat,ze.periodicHeartbeatInterval=void 0!==Ue.periodicHeartbeatInterval?Ue.periodicHeartbeatInterval:Ne.periodicHeartbeatInterval,void 0!==Ue.enc&&(ze.enc=Ue.enc),void 0!==Ue.maxLocalStorageQueueSize&&(ze.maxLocalStorageQueueSize=Ue.maxLocalStorageQueueSize),void 0!==Ue.maxPostBytes&&(ze.maxPostBytes=Ue.maxPostBytes),void 0!==Ue.maxGetBytes&&(ze.maxGetBytes=Ue.maxGetBytes),void 0!==Ue.bufferSize&&(ze.bufferSize=Ue.bufferSize),ze.customEventTrackingConfiguration=void 0!==Ue.customEventTrackingConfiguration?Ue.customEventTrackingConfiguration:Oe({},Ne.customEventTrackingConfiguration),ze.convivaVideoEventTrackingConfiguration=void 0!==Ue.convivaVideoEventTrackingConfiguration?Ue.convivaVideoEventTrackingConfiguration:Oe({},Ne.convivaVideoEventTrackingConfiguration),ze.ajaxTrackingConfiguration=void 0!==Ue.ajaxTrackingConfiguration?Ue.ajaxTrackingConfiguration:Oe({},Ne.ajaxTrackingConfiguration),ze.networkRequestTrackingConfiguration=void 0!==Ue.networkRequestTrackingConfiguration?Ue.networkRequestTrackingConfiguration:Oe({},Ne.networkRequestTrackingConfiguration),void 0!==Ue.metaTagsTrackingConfiguration&&(ze.metaTagsTrackingConfiguration=Ue.metaTagsTrackingConfiguration),ze.traceparentconfig=void 0!==Ue.traceparentconfig?Ue.traceparentconfig:Oe({},Ne.traceparentconfig),void 0!==Ue.mend&&(ze.mend=Ue.mend),ze.performanceContextConfig=void 0!==Ue.performanceContextConfig?Ue.performanceContextConfig:Ne.performanceContextConfig,null===(ue=oe(ze.performanceContextConfig))||void 0===ue||ue.activateLCPObserver(),function(){try{var e=0,t=0;null===window||void 0===window||window.addEventListener("load",(function(){var e;try{var t=null===(e=null==u?void 0:u.core)||void 0===e?void 0:e.getConfig();null==u||u.trackCustomEvent({name:"conviva_window_loaded",data:"{}",context:oe(null==t?void 0:t.performanceContextConfig).contexts()})}catch(e){console.warn("ConvivaAppTracker : issue while registering window loaded event",e)}})),null===document||void 0===document||document.addEventListener("visibilitychange",(function(){var n;try{if("hidden"===document.visibilityState)setTimeout((function(){var e;try{var n=null===(e=null==u?void 0:u.core)||void 0===e?void 0:e.getConfig();if(t++,null!=n&&n.lifecycleAutotracking){var r=u.core,i=r.track,o=C({event:{sc:"sp/abg/1-0-0",dt:A({backgroundIndex:t})}});i.call(r,o)}"hidden"!==document.visibilityState||on||null==u||u.trackCustomEvent({name:"conviva_app_backgrnd_before_page_view",data:"{}"})}catch(e){console.warn("ConvivaAppTracker : issue while tracking visibility change",e)}}),0);else{var r=null===(n=null==u?void 0:u.core)||void 0===n?void 0:n.getConfig();e++,null!=r&&r.lifecycleAutotracking&&u.core.track(C({event:{sc:"sp/afg/1-0-0",dt:A({foregroundIndex:e})}}))}}catch(e){console.warn("convivaAppTracker visibilitychange failed "+e)}})),"undefined"!=typeof document&&document&&document.addEventListener&&document.addEventListener("convivaVideoEvent",(function(e){e&&u&&(null==u||u.trackVideoEvent(e))}))}catch(e){console.warn("convivaAppTracker error in page load metrics"+e)}}();try{var je=XMLHttpRequest,Fe=null===(de=null===window||void 0===window?void 0:window.fetch)||void 0===de?void 0:de.bind(window);if(je){var Me,qe=function(e,t,n){try{var r={status:null==e?void 0:e.status,statusText:(""!==(null==e?void 0:e.statusText)?null==e?void 0:e.statusText:void 0)||("load"!=n?n:void 0),responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())};n=void 0;try{n=function(e){var t={};return e.trim().split(/[\r\n]+/).forEach((function(e){var n=(e=e.split(":"))[1];t[e[0].trim()]=null==n?void 0:n.trim()})),t}(e.getAllResponseHeaders()),r.headers=n}catch(e){}try{r.body=null==e?void 0:e.response}catch(e){}u.trackNetworkRequest({requestDetails:t,responseDetails:r})}catch(e){console.warn("Conviva App Tracker:: Unable to track network request error while handleResponse ".concat(e))}},He=function(){var e=new je;try{var t,n,r,i={},o=e.setRequestHeader;e.setRequestHeader=function(e,t){i[e]=t,o.call(this,e,t)};var a=e.open;e.open=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];t=r[0],n=r[1];try{/^(?:[a-z]+:)?\/\//i.test(n)||(n=0===n.indexOf("/")?window.location.origin+n:window.location.origin+"/"+n)}catch(e){}a.call(e,r[0],r[1],!0)};var s=e.send;e.send=function(o){try{var a=null;Ir.TRACEPARENT_HEADER_KEY in i||null!==(a=le(n))&&""!==a&&e.setRequestHeader(Ir.TRACEPARENT_HEADER_KEY,a),s.call(e,o),r={method:t,url:n,headers:i,body:o,requestTimestamp:null===Date||void 0===Date?void 0:Date.now(),requestTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())},null!==a&&""!==a&&(r[Ir.TRACEPARENT_HEADER_KEY]=a)}catch(e){console.warn("Conviva App Tracker:: Unable to track network request while send ".concat(e))}},e.addEventListener("load",(function(){return qe(e,r,"load")})),e.addEventListener("error",(function(){return qe(e,r,"error")})),e.addEventListener("abort",(function(){return qe(e,r,"abort")})),e.addEventListener("timeout",(function(){return qe(e,r,"timeout")}))}catch(e){console.warn("Conviva App Tracker:: Unable to track network request while interceptRequest ".concat(e))}return e};for(Me in je)je.hasOwnProperty(Me)&&(He[Me]=je[Me]);He.prototype=je.prototype,window.XMLHttpRequest=He}if(Fe){var Ge=function(e){var t={};return e.forEach((function(e,n){t[n]=e})),t};window.fetch=function(e,t){var n,r=null;if(e instanceof Request){e=null==e?void 0:e.clone();try{var i=!1;null===(n=null==e?void 0:e.headers)||void 0===n||n.forEach((function(e,t){Ir.TRACEPARENT_HEADER_KEY===t&&(i=!0)})),i||null!==(r=le(e.url))&&""!==r&&e.headers.set(Ir.TRACEPARENT_HEADER_KEY,r)}catch(e){console.warn("ConvivaAppTracker: Issue while adding traceparent header",e)}n=Fe(e)}else{try{if(t&&t.headers){var o=new Headers(t.headers),a=!1;o.forEach((function(e,t){Ir.TRACEPARENT_HEADER_KEY===t&&(a=!0)})),a||null!==(r=le(e))&&""!==r&&o.set(Ir.TRACEPARENT_HEADER_KEY,r)}else o=new Headers,null!==(r=le(e))&&""!==r&&o.set(Ir.TRACEPARENT_HEADER_KEY,r),t||(t={});t.headers=o}catch(e){console.warn("ConvivaAppTracker: Issue while adding traceparent header",e)}n=Fe(e,t),e=new Request(e,t).clone()}try{o=void 0;try{o=Ge(e.headers)}catch(e){}var s=void 0;try{s=null==t?void 0:t.body}catch(e){}var l={method:e.method,url:e.url,headers:o,body:s,requestTimestamp:null===Date||void 0===Date?void 0:Date.now(),requestTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())};null!==r&&""!==r&&(l[Ir.TRACEPARENT_HEADER_KEY]=r),n.then((function(e){try{var t=Ge(e.headers)}catch(e){}var n={status:null==e?void 0:e.status,statusText:""!==(null==e?void 0:e.statusText)?null==e?void 0:e.statusText:void 0,headers:t,size:0,responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())};e.clone().json().then((function(e){n.body=e,u.trackNetworkRequest({requestDetails:l,responseDetails:n})})).catch((function(){u.trackNetworkRequest({requestDetails:l,responseDetails:n})}))})).catch((function(e){e={statusText:e.toString(),responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())},u.trackNetworkRequest({requestDetails:l,responseDetails:e})}))}catch(e){console.warn("Conviva App Tracker:: Unable to track network request while fetch interceptRequest ".concat(e))}return n}}try{je||Fe||PerformanceObserver&&new PerformanceObserver((function(e){try{e.getEntries().forEach((function(e){u&&u.trackAjaxEvent(e)}))}catch(e){console.warn("Conviva PerformanceObserver error in listeneing ajax request observer ".concat(e))}})).observe({type:"resource",buffered:!0})}catch(wt){console.warn("Conviva PerformanceObserver failed to report ajax request"+wt)}}catch(wt){console.warn("Conviva App Tracker:: Unable to track network request ".concat(wt))}var Ze=o.split("js-")[1],Ve=Ir.REMOTE_CONFIG_URL_PREFIX+d.convivaCustomerKey+"/"+Ze+Ir.REMOTE_CONFIG_FILE_NAME;if(window.XMLHttpRequest){var Ke=new XMLHttpRequest,Ye=0;Ke.onreadystatechange=function(){try{if(4==Ke.readyState)if(200==Ke.status){Ye=0;var e=JSON.parse(Ke.response);e.cacheRefreshInterval||(e.cacheRefreshInterval=Ne.cacheRefreshInterval),ze.cacheRefreshInterval!=e.cacheRefreshInterval&&(ze.cacheRefreshInterval=e.cacheRefreshInterval,"number"==typeof De&&window.clearInterval(De),ce(e.cacheRefreshInterval));var t="cws.conviva.com /wsg /ctp remote_config pings.conviva.com .m3u8 .mpd .ism .m4 .mp4 .ts .png .jpg .jpeg .bmp google-analytics.com googlesyndication.com googleapis stats.g.doubleclick chartbeat.com omtrdc.net app-measurement.com firebase nr-data.net newrelic bitmovin.com/impression bitmovin.com/analytics api.segment.io youbora hotjar mixpanel.com clevertap auryc .aac .vtt .googlevideo webp appsflyer facebook dynatrace mparticle npaw doubleclick .pdf bookkeeper kochava mp3 marketingcloudapis demdex scorecardresearch lura.live perimeterx.net permutive.app segment.com vaicore.site boomtrain ketchcdn qualtrics .svg amplitude datadoghq branch.io hotjar splunkcloud".split(" "),n=JSON.parse(JSON.stringify(Ne));void 0!==e.cacheRefreshInterval&&(n.cacheRefreshInterval=e.cacheRefreshInterval),void 0!==e.configurationBundle[0].trackerConfiguration.base64Encoding&&(n.base64=e.configurationBundle[0].trackerConfiguration.base64Encoding),void 0!==e.configurationBundle[0].trackerConfiguration.linkClickTracking&&(n.linkClickTracking=e.configurationBundle[0].trackerConfiguration.linkClickTracking),void 0!==e.configurationBundle[0].trackerConfiguration.lifecycleAutotracking&&(n.lifecycleAutotracking=e.configurationBundle[0].trackerConfiguration.lifecycleAutotracking),void 0!==e.configurationBundle[0].trackerConfiguration.buttonClickTracking&&(n.buttonClickTracking=e.configurationBundle[0].trackerConfiguration.buttonClickTracking),void 0!==e.configurationBundle[0].trackerConfiguration.customEvent&&(n.customEvent=e.configurationBundle[0].trackerConfiguration.customEvent),void 0!==e.configurationBundle[0].trackerConfiguration.exceptionAutotracking&&(n.exceptionAutotracking=e.configurationBundle[0].trackerConfiguration.exceptionAutotracking),void 0!==e.configurationBundle[0].trackerConfiguration.enablePeriodicHeartbeat&&(n.enablePeriodicHeartbeat=e.configurationBundle[0].trackerConfiguration.enablePeriodicHeartbeat),void 0!==e.configurationBundle[0].trackerConfiguration.periodicHeartbeatInterval&&(n.periodicHeartbeatInterval=e.configurationBundle[0].trackerConfiguration.periodicHeartbeatInterval),void 0!==e.configurationBundle[0].networkConfiguration.enc&&(n.enc=e.configurationBundle[0].networkConfiguration.enc),void 0!==e.configurationBundle[0].networkConfiguration.maxLocalStorageQueueSize&&(n.maxLocalStorageQueueSize=e.configurationBundle[0].networkConfiguration.maxLocalStorageQueueSize),void 0!==e.configurationBundle[0].networkConfiguration.maxPostBytes&&(n.maxPostBytes=e.configurationBundle[0].networkConfiguration.maxPostBytes),void 0!==e.configurationBundle[0].networkConfiguration.maxGetBytes&&(n.maxGetBytes=e.configurationBundle[0].networkConfiguration.maxGetBytes),void 0!==e.configurationBundle[0].networkConfiguration.bufferSize&&(n.bufferSize=e.configurationBundle[0].networkConfiguration.bufferSize),void 0!==e.configurationBundle[0].customEventTrackingConfiguration&&(n.customEventTrackingConfiguration=e.configurationBundle[0].customEventTrackingConfiguration),void 0!==e.configurationBundle[0].convivaVideoEventTrackingConfiguration&&(n.convivaVideoEventTrackingConfiguration=e.configurationBundle[0].convivaVideoEventTrackingConfiguration),void 0!==e.configurationBundle[0].ajaxTrackingConfiguration&&(n.ajaxTrackingConfiguration=e.configurationBundle[0].ajaxTrackingConfiguration),void 0!==e.configurationBundle[0].networkRequestTrackingConfiguration&&(n.networkRequestTrackingConfiguration=e.configurationBundle[0].networkRequestTrackingConfiguration),void 0!==e.configurationBundle[0].traceparentconfig&&(n.traceparentconfig=e.configurationBundle[0].traceparentconfig),void 0!==e.configurationBundle[0].networkConfiguration.mend&&(n.mend=e.configurationBundle[0].networkConfiguration.mend),n.ajaxTrackingConfiguration&&(n.ajaxTrackingConfiguration.blocklist||(n.ajaxTrackingConfiguration.blocklist=[]),n.ajaxTrackingConfiguration.blocklist.push(e.configurationBundle[0].networkConfiguration.endpoint),n.ajaxTrackingConfiguration.blocklist=n.ajaxTrackingConfiguration.blocklist.concat(t)),n.networkRequestTrackingConfiguration&&(n.networkRequestTrackingConfiguration.blocklist||(n.networkRequestTrackingConfiguration.blocklist=[]),n.networkRequestTrackingConfiguration.blocklist.push(e.configurationBundle[0].networkConfiguration.endpoint),n.networkRequestTrackingConfiguration.blocklist=n.networkRequestTrackingConfiguration.blocklist.concat(t)),void 0!==e.configurationBundle[0].metaTagsTrackingConfiguration&&(n.metaTagsTrackingConfiguration=e.configurationBundle[0].metaTagsTrackingConfiguration),void 0!==e.configurationBundle[0].trackerConfiguration.perfCx&&(n.performanceContextConfig=e.configurationBundle[0].trackerConfiguration.perfCx),u.core.setConfig(n),u.setCollectorUrl(e.configurationBundle[0].networkConfiguration.endpoint,l.convivaCustomerKey);try{window.localStorage&&(localStorage.removeItem("ConvivaRemoteConfig"),localStorage.removeItem("ConvivaEndpoint"),localStorage.setItem("ConvivaRemoteConfig",JSON.stringify(n)),localStorage.setItem("ConvivaEndpoint",e.configurationBundle[0].networkConfiguration.endpoint))}catch(e){console.warn("Conviva: Error while saving remote-config to localstorage",e)}}else try{3>Ye&&(null!=d&&d.trackerConfigUrl?Qe(null==d?void 0:d.trackerConfigUrl):Qe(Ve))}catch(e){}}catch(e){console.warn("Conviva App Tracker:: Error in fetching remote-config ".concat(e))}};var Qe=function(e){try{Ye++,Ke.open("GET",e,!0),Ke.send()}catch(e){}};"number"==typeof De&&window.clearInterval(De),ce(ze.cacheRefreshInterval)}d.eventMethod=null!==(fe=d.eventMethod)&&void 0!==fe?fe:"post";var We=function(e){var t;return null!==(t=e.stateStorageStrategy)&&void 0!==t?t:"cookieAndLocalStorage"},$e=function(e){var t,n;return"boolean"!=typeof e.anonymousTracking&&(null!==(n=!0===(null===(t=e.anonymousTracking)||void 0===t?void 0:t.withSessionTracking))&&void 0!==n&&n)},et=function(e){var t,n;return"boolean"!=typeof e.anonymousTracking&&(null!==(n=!0===(null===(t=e.anonymousTracking)||void 0===t?void 0:t.withServerAnonymisation))&&void 0!==n&&n)};c.push({beforeTrack:function(e){var t=m("ses"),n=P();kt=!!st&&!!K(st),Ht||kt?R():("0"===n[0]?(mt=t||"none"==Yt?n[6]:re(n),tn=n[3]):(new Date).getTime()-en>1e3*Zt&&(tn++,mt=re(n,tn)),ie(n),-1===n[10]&&(t=e.build(),n[8]=t.eid,t=t.dtm||t.ttm,n[9]=t?parseInt(t):void 0),n[10]+=1,e.add("uid",Kt?null:_t),f(),e.add("refr",h(nt||xt)),document&&(Dt=document.title,t=F(it||Dt),e.add("page",t)),e.add("url",h(rt||Et)),"none"!=Yt&&(x(n),E()),en=(new Date).getTime())}}),c.push({contexts:function(){var e=lt,t=ct.toString(),n=It;try{var r=window.localStorage.getItem(Xt+"."+Qt),i=JSON.parse(r||"{}");"{}"!==i&&void 0!==i&&void 0!==i[Wt]&&($t=i[Wt]),2147483647<=$t?$t=0:$t++,B();var o=$t}catch(e){console.warn(e),o=void 0}return[{sc:"cv/clid/1-0-2",dt:{clid:e,iid:t,ck:n,eventIndex:o}}]}}),c.push({contexts:function(){return[{sc:"cv/ct/1-0-0",dt:{data:Oe(Oe({},Nt),zt)}}]}}),c.push({contexts:function(){return[{sc:"spm/app/1-0-0",dt:{build:Pt,version:Pt}}]}});try{(null!==(ve=null==d?void 0:d.plugins)&&void 0!==ve?ve:[]).forEach((function(e){e.contexts||c.push(e)}))}catch(wt){console.warn("ConvivaAppTracker : issue while processing customer passed pligins",wt)}var nt,rt,it,ot,at,st,lt,ct,ut,dt,ft,vt,gt,ht,pt,mt,_t,kt,wt,bt,yt=T({base64:ze.base64,corePlugins:c,callback:function(e){Ht||kt||nn.enqueueRequest(e.build(),St)},linkClickTracking:ze.linkClickTracking,buttonClickTracking:ze.buttonClickTracking,customEvent:!0,exceptionAutotracking:ze.exceptionAutotracking,enablePeriodicHeartbeat:ze.enablePeriodicHeartbeat,periodicHeartbeatInterval:ze.periodicHeartbeatInterval,enc:ze.enc,mend:ze.mend,maxLocalStorageQueueSize:ze.maxLocalStorageQueueSize,maxPostBytes:ze.maxPostBytes,maxGetBytes:ze.maxGetBytes,bufferSize:ze.bufferSize,customEventTrackingConfiguration:ze.customEventTrackingConfiguration,convivaVideoEventTrackingConfiguration:ze.convivaVideoEventTrackingConfiguration,ajaxTrackingConfiguration:ze.ajaxTrackingConfiguration,networkRequestTrackingConfiguration:ze.networkRequestTrackingConfiguration,metaTagsTrackingConfiguration:ze.metaTagsTrackingConfiguration,performanceContextConfig:ze.performanceContextConfig,lifecycleAutotracking:ze.lifecycleAutotracking}),Tt=ne(window.location.hostname,window.location.href,H()),Ct=q(Tt[0]),Et=Tt[1],xt=Tt[2],At=null!==(ge=d.platform)&&void 0!==ge?ge:"web",St=N(a,d.convivaCustomerKey),Rt=null!==(he=d.postPath)&&void 0!==he?he:"/ctp",Ot=null!==(pe=d.appId)&&void 0!==pe?pe:"",It=null!==(me=d.convivaCustomerKey)&&void 0!==me?me:"",Pt=null!==(_e=d.appVersion)&&void 0!==_e?_e:"",Nt={},zt={},Dt="undefined"!=typeof document?document.title:void 0,Bt=null===(ke=d.resetActivityTrackingOnPageView)||void 0===ke||ke,Lt=null!==(we=d.cookieName)&&void 0!==we?we:"_sp_",Ut=null!==(be=d.cookieDomain)&&void 0!==be?be:void 0,jt="/",Ft=null!==(ye=d.cookieSameSite)&&void 0!==ye?ye:"None",Mt=null===(Te=d.cookieSecure)||void 0===Te||Te,qt=navigator.doNotTrack||navigator.msDoNotTrack||window.doNotTrack,Ht=void 0!==d.respectDoNotTrack&&(d.respectDoNotTrack&&("yes"===qt||"1"===qt)),Gt=null!==(Ce=d.cookieLifetime)&&void 0!==Ce?Ce:63072e3,Zt=null!==(Ee=d.sessionCookieTimeout)&&void 0!==Ee?Ee:1800,Vt=$e(d),Jt=et(d),Kt=!!d.anonymousTracking,Yt=We(d),Xt="Conviva",Qt="sdkConfig",Wt="eventIndex",$t=-1,en=(new Date).getTime(),tn=1,nn=te(r,s,"localStorage"==Yt||"cookieAndLocalStorage"==Yt,d.eventMethod,Rt,(bt=yt.getConfig(),null!==(wt=bt.bufferSize?bt.bufferSize:d.bufferSize)&&void 0!==wt?wt:1),(function(){var e,t=yt.getConfig();return null!==(e=t.maxPostBytes?t.maxPostBytes:d.maxPostBytes)&&void 0!==e?e:2e4}),(function(){var e,t=yt.getConfig();return null!==(e=t.maxGetBytes?t.maxGetBytes:d.maxGetBytes)&&void 0!==e?e:0}),null===(xe=d.useStm)||void 0===xe||xe,(function(){var e,t=yt.getConfig();return null!==(e=t.maxLocalStorageQueueSize?t.maxLocalStorageQueueSize:d.maxLocalStorageQueueSize)&&void 0!==e?e:10}),null!==(Ae=d.connectionTimeout)&&void 0!==Ae?Ae:5e3,Jt,null!==(Se=d.customHeaders)&&void 0!==Se?Se:{},null!==(Re=d.withCredentials)&&void 0!==Re&&Re,null!==(Ie=d.retryStatusCodes)&&void 0!==Ie?Ie:[],(null!==(Pe=d.dontRetryStatusCodes)&&void 0!==Pe?Pe:[]).concat([400,401,403,410,422]),(function(){var e,t,n,r=yt.getConfig();return null!==(n=null!=r&&r.enc?r.enc:null===(t=null===(e=null==d?void 0:d.configs)||void 0===e?void 0:e.network)||void 0===t?void 0:t.encoding)&&void 0!==n?n:"gzip"})),rn=!1,on=!1,an={enabled:!0,installed:!1,configurations:{pagePing:{configMinimumVisitLength:5e3,configHeartBeatTimer:4e4,callback:se}}};return d.hasOwnProperty("discoverRootDomain")&&d.discoverRootDomain&&(Ut=function(e,t){for(var n=window.location.hostname,r="_sp_root_domain_test_"+(new Date).getTime(),i="_test_value_"+(new Date).getTime(),o=n.split("."),a=o.length-1;0<=a;){var s=o.slice(a,o.length).join(".");if(K(r,i,0,"/",s,e,t),K(r)===i){for(K(r,"",-1,"/",s,e,t),n=document.cookie.split("; "),r=[],i=0;i<n.length;i++)"_sp_root_domain_test_"===n[i].substring(0,21)&&r.push(n[i]);for(n=r,r=0;r<n.length;r++)K(n[r],"",-1,"/",s,e,t);return s}--a}return n}(Ft,Mt)),yt.setTrackerVersion(o),yt.setAppId(Ot),yt.setPlatform(At),_(),I(),nn.setCustomHeaders({"x-client-id":""+lt}),d.crossDomainLinker&&g(d.crossDomainLinker),Oe(Oe({},{getDomainSessionIndex:function(){return tn},getPageViewId:function(){return D()},newSession:function(){var e=P();"0"===e[0]?(mt="none"!=Yt?re(e):e[6],tn=e[3],E()):(tn++,mt=re(e,tn)),ie(e),"none"!=Yt&&(x(e),E()),en=(new Date).getTime()},getCookieName:function(e){return Lt+e+"."+ht},getUserId:function(){return _t},getDomainUserId:function(){return P()[1]},getDomainUserInfo:function(){return P()},setReferrerUrl:function(e){nt=e},setCustomUrl:function(e){f();var t,n=Et;p(e)?rt=e:"/"===e.slice(0,1)?rt=p(n)+"://"+M(n)+e:(0<=(t=(n=h(n)).indexOf("?"))&&(n=n.slice(0,t)),(t=n.lastIndexOf("/"))!==n.length-1&&(n=n.slice(0,t+1)),rt=n+e)},setDocumentTitle:function(e){Dt=document.title,it=e},discardHashTag:function(e){ot=e},discardBrace:function(e){at=e},setCookiePath:function(e){jt=e,_()},setVisitorCookieTimeout:function(e){Gt=e},crossDomainLinker:function(e){g(e)},enableActivityTracking:function(e){an.configurations.pagePing||(an.enabled=!0,an.configurations.pagePing=ae(Oe(Oe({},e),{callback:se})))},enableActivityTrackingCallback:function(e){an.configurations.callback||(an.enabled=!0,an.configurations.callback=ae(e))},updatePageActivity:function(){k()},setOptOutCookie:function(e){st=e},setUserId:function(e){_t=e},setUserIdFromLocation:function(e){f(),_t=Z(e,Et)},setUserIdFromReferrer:function(e){f(),_t=Z(e,xt)},setUserIdFromCookie:function(e){_t=K(e)},setCollectorUrl:function(e,t){St=N(e,t),nn.setCollectorUrl(St)},setBufferSize:function(e){nn.setBufferSize(e)},flushBuffer:function(e){void 0===e&&(e={}),nn.executeQueue(),e.newBufferSize&&nn.setBufferSize(e.newBufferSize)},trackPageView:function(e){void 0===e&&(e={}),W();var t=this.core.getConfig();try{e=Oe(Oe({},e),{context:oe(null==t?void 0:t.performanceContextConfig).contexts()})}catch(e){console.warn("Conviva App Tracker:: error adding performacetiming context to page view",e)}Q(e)},trackVideoEvent:function(e){var t;void 0===e&&(e={});try{var n=this.core.getConfig();""!=e.name&&null!=e.name||console.warn("Conviva App Tracker:: Video event could not be tracked due to missing name property!!");var r=null===(t=null==n?void 0:n.customEventTrackingConfiguration)||void 0===t?void 0:t.blocklist;null!=r&&r.includes("*")||null!=r&&r.some((function(t){return 0<(null==t?void 0:t.length)&&e.name.toLowerCase().includes(t.toLowerCase())}))||this.core.track(function(e){return C({event:{sc:"cv/ve/1-0-5",dt:A({name:e.name,sid:e.sid,iid:e.iid,clid:e.clid,st:e.st,cen:e.cen,ced:e.ced,an:e.an})}})}({name:e.name,sid:e.sid,iid:e.iid,clid:e.clid,st:e.st,sst:e.sst,an:e.an,cl:e.cl,lv:e.lv,pn:e.pn,vid:e.vid,fw:e.fw,fwv:e.fwv,mn:e.mn,mv:e.mv,url:e.url,tags:e.tags,cen:e.cen,ced:e.ced,oldsc:e.old,newsc:e.new,err:e.err,br:e.br,ft:e.ft}),e.context,e.timestamp)}catch(e){console.warn("Conviva App Tracker:: Video event could not be tracked due to an exception!!",e)}},trackCustomEvent:function(e){var t;void 0===e&&(e={});try{var n=u.core.getConfig();""!=e.name&&null!=e.name||console.warn("Conviva App Tracker:: custom event name is mandatory for trackCustomEvent API!!");var r=e.data;try{"string"!=typeof e.data&&(r=JSON.stringify(e.data))}catch(e){}var i=null===(t=null==n?void 0:n.customEventTrackingConfiguration)||void 0===t?void 0:t.blocklist;null!=i&&i.includes("*")||null!=i&&i.some((function(t){return 0<(null==t?void 0:t.length)&&e.name.toLowerCase().includes(t.toLowerCase())}))||u.core.track(function(e){return C({event:{sc:"cv/re/1-0-1",dt:A({name:e.name,data:e.data})}})}({name:e.name,data:r}),e.context,e.timestamp)}catch(e){console.warn("Conviva App Tracker:: Unable to track custom event! "+e)}},trackAjaxEvent:function(e){void 0===e&&(e={});try{if("xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType){var t=this.core.getConfig();if(""==e.name||null==e.name)console.warn("Conviva App Tracker:: Ajax request could not be tracked due to missing URL property!!");else if(null!=t.ajaxTrackingConfiguration&&null!=t.ajaxTrackingConfiguration.blocklist&&0<t.ajaxTrackingConfiguration.blocklist.length){var n=t.ajaxTrackingConfiguration.blocklist;if(-1==n.indexOf("*")){t=!1;for(var r=0;r<n.length;r++)""!==n[r]&&-1!==e.name.toLowerCase().indexOf(n[r].toLowerCase())&&(t=!0);if(!t){var i=this.core,o=i.track,a=C({event:{sc:"cv/nr/1-0-2",dt:A({targetUrl:e.name,responseStatusCode:e.responseStatus,duration:e.duration})}});o.call(i,a,e.context,e.timestamp)}}}}}catch(e){console.warn("Conviva App Tracker:: Ajax request could not be tracked due to an exception!!",e)}},trackNetworkRequest:function(t){var n,r,i,o,a,s,l,c,u,f,v,g,h,p,m,_,k,w,b,y,T,E,x;void 0===t&&(t={});try{var S=this.core.getConfig(),R=t.responseDetails.responseTime-t.requestDetails.requestTime;try{R=parseFloat(R.toFixed(3))}catch(e){console.warn("Conviva App Tracker:: exception while converting duration to 3 decimal",e)}var O=function(e){try{var t=void 0;return null!=e&&(t=e["content-type"]||e["Content-Type"]||e["Content-type"]),t}catch(e){}},I=function(e){try{var t=void 0;return null!=e&&(t=e["content-length"]||e["Content-Length"]||e["Content-length"]),null==t||isNaN(t)?t:Number(t)}catch(e){}}(null===(i=null==t?void 0:t.responseDetails)||void 0===i?void 0:i.headers),P=O(null===(o=null==t?void 0:t.requestDetails)||void 0===o?void 0:o.headers),N=O(null===(a=null==t?void 0:t.responseDetails)||void 0===a?void 0:a.headers);try{var z=((n={targetUrl:null===(s=null==t?void 0:t.requestDetails)||void 0===s?void 0:s.url,method:null===(l=null==t?void 0:t.requestDetails)||void 0===l?void 0:l.method,responseStatusCode:null===(c=null==t?void 0:t.responseDetails)||void 0===c?void 0:c.status})[Or.request_headers]=null===(u=null==t?void 0:t.requestDetails)||void 0===u?void 0:u.headers,n[Or.response_headers]=null===(f=null==t?void 0:t.responseDetails)||void 0===f?void 0:f.headers,n.duration=R,n);if(void 0!==P&&(P.toLowerCase().includes("text/plain")||P.toLowerCase().includes("json")||P.toLowerCase().includes("text/javascript")||P.toLowerCase().includes("application/javascript"))||void 0===P)if("string"==typeof(null===(v=null==t?void 0:t.requestDetails)||void 0===v?void 0:v.body))try{1e4>=(null===(g=null==t?void 0:t.requestDetails)||void 0===g?void 0:g.body.length)&&(z[Or.request_body]=JSON.parse(null===(h=null==t?void 0:t.requestDetails)||void 0===h?void 0:h.body))}catch(e){}else"object"==typeof(null===(p=null==t?void 0:t.requestDetails)||void 0===p?void 0:p.body)&&(z[Or.request_body]=null===(m=null==t?void 0:t.requestDetails)||void 0===m?void 0:m.body);if(void 0!==N&&(N.toLowerCase().includes("text/plain")||N.toLowerCase().includes("json")||N.toLowerCase().includes("text/javascript")||N.toLowerCase().includes("application/javascript"))&&void 0!==I&&1e4>=I)if("string"==typeof(null===(_=null==t?void 0:t.responseDetails)||void 0===_?void 0:_.body))try{z[Or.response_body]=JSON.parse(null===(k=null==t?void 0:t.responseDetails)||void 0===k?void 0:k.body)}catch(e){}else"object"==typeof(null===(w=null==t?void 0:t.responseDetails)||void 0===w?void 0:w.body)&&(z[Or.response_body]=null===(b=null==t?void 0:t.responseDetails)||void 0===b?void 0:b.body);var D=S.networkRequestTrackingConfiguration;if(D&&D.enabled){var B=D.blocklist,L=null===(T=null===(y=null==d?void 0:d.configs)||void 0===y?void 0:y.networkRequestTracking)||void 0===T?void 0:T.safelist,U=(null==B?void 0:B.includes("*"))||(null==B?void 0:B.some((function(e){return 0<(null==e?void 0:e.length)&&z.targetUrl.toLowerCase().includes(e.toLowerCase())})));if(null!=L&&L.some((function(e){return 0<(null==e?void 0:e.length)&&z.targetUrl.toLowerCase().includes(e.toLowerCase())}))||!U){var j=function(t,n){var r=[Or.request_body,Or.response_body,Or.request_headers,Or.response_headers],i={};if(n&&0<n.length)for(var o=0;o<n.length;o++){var a=n[o],s=a.conditions;a=e(a,["conditions"]);try{e:{var l=t;try{for(var c=0;c<s.length;c++){var u=s[c],d=!1;if(0<Object.keys(u).length)for(var f=0,v=Object.entries(u);f<v.length;f++){var g=v[f],h=g[1],p=l[g[0]];if(0<h.length){for(var m=0,_=0,k=h;_<k.length;_++){var w=k[_],b="contains",y=w;if("object"==typeof w&&w.length?(b=w[1],y=w[0]):"boolean"!=typeof w&&null!==w||(b="equal",y=w),ee(p,b,y)){d=!0;break}if(d=!1,m+1===h.length)break;m++}if(!1===d)break}}if(d){var T=!0;break e}}}catch(e){console.warn("Conviva App Tracker: Error in Applying nwreqConfig ".concat(e))}T=!1}if(T){l=0;for(var C=Object.entries(t);l<C.length;l++){var E=C[l],x=E[0],A=E[1];if(r.includes(x))try{if(a[x]&&0<a[x].length){c=!1,x!==Or.response_headers&&x!==Or.request_headers||(c=!0);var S=t[x];s={};try{d=0;for(var R=a[x];d<R.length;d++){var O=R[d];f=S,m=s,c&&(O=O.toLowerCase());var I=O.split(".");for(_=0;_<I.length;_++){var P=I[_];null!=f&&f.hasOwnProperty(P)&&(_===I.length-1?m[P]=f[P]:(m[P]=m[P]||{},f=f[P],m=m[P]))}}}catch(e){console.warn("Conviva App Tracker: Error in filtering schema object nwreq ".concat(e))}var N=s;0!==Object.keys(N).length&&(i[x]=N)}}catch(e){i[x]=void 0}else i[x]=A}return i}}catch(e){console.warn("Conviva App Tracker: Error in collecting attributes nwreqConfig ".concat(e))}}for(i=Oe({},t),t=0;t<r.length;t++)n=r[t],null!=i&&i.hasOwnProperty(n)&&delete i[n];return i}(z,D.collectattr);if(null!==(E=null==t?void 0:t.requestDetails)&&void 0!==E&&E[Ir.TRACEPARENT_HEADER_KEY]){var F=((r={})[Ir.TRACEPARENT_HEADER_KEY]=null===(x=null==t?void 0:t.requestDetails)||void 0===x?void 0:x[Ir.TRACEPARENT_HEADER_KEY],r);j[Or.request_headers]=j[Or.request_headers]?Oe(Oe({},j[Or.request_headers]),F):F}this.core.track(C({event:{sc:"cv/nr/1-0-4",dt:A({targetUrl:j.targetUrl,method:j.method,queryParameters:j.queryParameters,responseStatusCode:j.responseStatusCode,responseStatusText:j.responseStatusText,rqh:j.rqh,rsh:j.rsh,rqb:j.rqb,rsb:j.rsb,requestSize:j.requestSize,responseSize:j.responseSize,duration:j.duration,contentType:j.contentType,requestTimestamp:j.requestTimestamp,responseTimestamp:j.responseTimestamp})}}),t.context,t.timestamp)}}}catch(e){console.warn("Conviva App Tracker:: Network request could not be tracked due to an exception!!",e)}}catch(e){console.warn("Conviva App Tracker:: Network request could not be tracked due to an exception!!",e)}},setCustomTags:function(e){void 0===e&&(e={}),X(e)},setMetaCustomTags:function(e){void 0===e&&(e={}),function(e){try{var t=Object.keys(e);Y(JSON.stringify(e))?t.forEach((function(t){""!==t&&Object.defineProperty(zt,t,{value:""+e[t],writable:!0,enumerable:!0,configurable:!0})})):console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=")}catch(e){console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",e)}}(e)},unsetCustomTags:function(e){void 0===e&&(e={}),function(e){try{e.forEach((function(e){delete Nt[e]}))}catch(e){console.warn("Conviva AppTracker:: Failed to unset Custom tag(s). Check format of keys set.")}}(e)},preservePageViewId:function(){rn=!0},disableAnonymousTracking:function(e){d.anonymousTracking=!1,O(e),I(),nn.executeQueue()},enableAnonymousTracking:function(e){var t;d.anonymousTracking=null===(t=e&&(null==e?void 0:e.options))||void 0===t||t,O(e),Vt||z()},clearUserData:R}),{id:r,namespace:i,core:yt,sharedState:s})}(r,i,o,a,s,l);var u=Oe(Oe({},r),{addPlugin:function(e){var t,n;u.core.addPlugin(e),null===(n=(t=e.plugin).activateBrowserPlugin)||void 0===n||n.call(t,u)}});return c.forEach((function(e){var t;null===(t=e.activateBrowserPlugin)||void 0===t||t.call(e,u)})),u}function se(e,t){try{ce(null!=e?e:Object.keys(Lr),Lr).forEach(t)}catch(e){Xe.error("Function failed",e)}}function le(e,t,n,r,i,o){return Lr.hasOwnProperty(e)?null:(Lr[e]=ae(e,t,n,r,i,o),Lr[e])}function ce(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r];t.hasOwnProperty(i)?n.push(t[i]):Xe.warn(i+" not configured")}return n}function ue(){function e(){var e;if(!t.hasLoaded)for(t.hasLoaded=!0,e=0;e<t.registeredOnLoadHandlers.length;e++)t.registeredOnLoadHandlers[e]();return!0}var t=new Ur,n=document,r=window;return n.visibilityState&&G(n,"visibilitychange",(function(){try{"hidden"==n.visibilityState&&t.bufferFlushers.forEach((function(e){e(!1)}))}catch(e){console.warn("Conviva App Tracker:: Error in visibilityChangeHandler of constructor ".concat(e))}}),!1),G(r,"beforeunload",(function(){try{t.bufferFlushers.forEach((function(e){e(!1)}))}catch(e){console.warn("Conviva App Tracker:: Error in flushBuffers of constructor ".concat(e))}}),!1),"loading"===document.readyState?(n.addEventListener?n.addEventListener("DOMContentLoaded",(function t(){n.removeEventListener("DOMContentLoaded",t,!1),e()})):n.attachEvent&&n.attachEvent("onreadystatechange",(function t(){"complete"===n.readyState&&(n.detachEvent("onreadystatechange",t),e())})),G(r,"load",e,!1)):e(),t}function de(){return{contexts:function(){var e=window,t=(e=e.performance||e.mozPerformance||e.msPerformance||e.webkitPerformance).timing;return e=e?[{sc:"w3/pt/1-0-0",dt:{navigationStart:t.navigationStart,domainLookupStart:t.domainLookupStart,domainLookupEnd:t.domainLookupEnd,responseStart:t.responseStart,responseEnd:t.responseEnd,loadEventEnd:t.loadEventEnd}}]:[]}}}function fe(){return{activateBrowserPlugin:function(e){qr[e.id]=e}}}function ve(e,t,n){for(var r,i,o,a;null!==(r=t.parentElement)&&null!=r&&"A"!==(i=t.tagName.toUpperCase())&&"AREA"!==i;)t=r;if(null!=(r=t).href){o=(i=r.hostname||M(r.href)).toLowerCase();var l=r.href.replace(i,o);/^(javascript|vbscript|jscript|mocha|livescript|ecmascript|mailto):/i.test(l)||(i=r.id,o=Q(r),a=r.target,r=Hr[e.id].linkTrackingContent?r.innerHTML:void 0,r={targetUrl:l=unescape(l),elementId:i,elementClasses:o,elementTarget:a,elementContent:r},e.core.getConfig().linkClickTracking&&e.core.track(E(r),s(n,t)))}}function ge(e,t,n){for(var r;null!==(r=t.parentElement)&&null!=r&&"BUTTON"!==t.tagName.toUpperCase();)t=r;r={elementType:(r=t).type,elementId:r.id,elementClasses:r.className||"",elementName:r.name,elementText:r.innerText,elementValue:r.value},e.core.getConfig().buttonClickTracking&&e.core.track(x(r),s(n,t))}function he(e,t){return function(n){var r=(n=n||window.event).which||n.button,i=n.target||n.srcElement;"click"===n.type?i&&ve(qr[e],i,t):"mousedown"===n.type?1!==r&&2!==r||!i?Hr[e].lastButton=Hr[e].lastTarget=null:(Hr[e].lastButton=r,Hr[e].lastTarget=i):"mouseup"===n.type&&(r===Hr[e].lastButton&&i===Hr[e].lastTarget&&ve(qr[e],i,t),Hr[e].lastButton=Hr[e].lastTarget=null)}}function pe(e,t){return function(n){var r=(n=n||window.event).which||n.button,i=n.target||n.srcElement;"click"===n.type?i&&ge(qr[e],i,t):"mousedown"===n.type?1!==r&&2!==r||!i?Gr[e].lastButton=Gr[e].lastTarget=null:(Gr[e].lastButton=r,Gr[e].lastTarget=i):"mouseup"===n.type&&(r===Gr[e].lastButton&&i===Gr[e].lastTarget&&ge(qr[e],i,t),Gr[e].lastButton=Gr[e].lastTarget=null)}}function me(e,t){e=void 0===e?{}:e,Hr[t]={linkTrackingContent:e.trackContent,linkTrackingContext:e.context,linkTrackingPseudoClicks:e.pseudoClicks,linkTrackingFilter:Y(e.options)}}function _e(e,t){e=void 0===e?{}:e,Gr[t]={buttonTrackingContent:e.trackContent,buttonTrackingContext:e.context,buttonTrackingFilter:Y(e.options)}}function ke(e){var t,n,r,i=document.links;for(Dr=e,r=0;r<i.length;r++)if(null!==(n=null===(t=Hr[e])||void 0===t?void 0:t.linkTrackingFilter)&&void 0!==n&&n.call(t,i[r])&&!i[r][e]){var o=e,a=i[r];Hr[o].linkTrackingPseudoClicks?(G(a,"mouseup",he(o,Hr[o].linkTrackingContext),!1),G(a,"mousedown",he(o,Hr[o].linkTrackingContext),!1)):G(a,"click",he(o,Hr[o].linkTrackingContext),!1),i[r][e]=!0}}function we(e){try{for(var t=0;t<e.length;t++)"childList"===e[t].type&&(ke(Dr),be(Dr))}catch(e){console.warn("Conviva App Tracker caused Exception in mutation callback of click tracking Plugin",e)}}function be(e){var t,n,r,i=document.querySelectorAll("button");for(r=0;r<i.length;r++)null!==(n=null===(t=Gr[e])||void 0===t?void 0:t.buttonTrackingFilter)&&void 0!==n&&n.call(t,i[r])&&!i[r][e]&&(G(i[r],"click",pe(e,Gr[e].buttonTrackingContext),!1),i[r][e]=!0)}function ye(e,t){var n,r=t.context,i=e.id+"form",o=function(e){if(e){var t=function(e){return!0},n=null;return!function(e){return null!=e&&0<Array.prototype.slice.call(e).length}(e.forms)?t=Y(e.forms):n=e.forms,{forms:n,formFilter:t,fieldFilter:X(e.fields),fieldTransform:Te(e.fields),eventFilter:function(t){var n;return-1<(null!==(n=e.events)&&void 0!==n?n:Kr).indexOf(t)}}}return{forms:null,formFilter:function(){return!0},fieldFilter:function(){return!0},fieldTransform:Xr,eventFilter:function(){return!0}}}(t.options);t=null!==(n=o.forms)&&void 0!==n?n:document.getElementsByTagName("form"),Array.prototype.slice.call(t).forEach((function(t){o.formFilter(t)&&(Array.prototype.slice.call(Yr).forEach((function(n){Array.prototype.slice.call(t.getElementsByTagName(n)).forEach((function(t){o.fieldFilter(t)&&!t[i]&&"password"!==t.type.toLowerCase()&&(o.eventFilter(Br.FOCUS_FORM)&&G(t,"focus",Ee(e,o,"focus_form",r),!1),o.eventFilter(Br.CHANGE_FORM)&&G(t,"change",Ee(e,o,"change_form",r),!1),t[i]=!0)}))})),t[i]||(o.eventFilter(Br.SUBMIT_FORM)&&G(t,"submit",function(e,t,n,r){return function(i){var o;i=i.target;var a=function(e,t){var n=[];return Array.prototype.slice.call(Yr).forEach((function(r){r=Array.prototype.slice.call(t.getElementsByTagName(r)).filter((function(t){return t.hasOwnProperty(e)})),Array.prototype.slice.call(r).forEach((function(e){if("submit"!==e.type){var t={name:Ce(e),value:e.value,nodeName:e.nodeName};e.type&&"INPUT"===e.nodeName.toUpperCase()&&(t.type=e.type),"checkbox"!==e.type&&"radio"!==e.type||e.checked||(t.value=null),n.push(t)}}))})),n}(n,i);a.forEach((function(e){var n;e.value=null!==(n=t.fieldTransform(e.value,e))&&void 0!==n?n:e.value})),e.core.track(function(e){return C({event:{sc:"sp/sf/1-0-0",dt:A({formId:e.formId,formClasses:e.formClasses,elements:e.elements})}})}({formId:null!==(o=Ce(i))&&void 0!==o?o:"",formClasses:Q(i),elements:a}),s(r,i,a))}}(e,o,i,r)),t[i]=!0))}))}function Te(e){return e&&Object.prototype.hasOwnProperty.call(e,"transform")?e.transform:Xr}function Ce(e){for(var t=0,n=["name","id","type","nodeName"];t<n.length;t++){var r=n[t];if(0!=e[r]&&"string"==typeof e[r])return e[r]}return null}function Ee(e,t,n,r){return function(i){var o;if(i=i.target){var a=i.nodeName&&"INPUT"===i.nodeName.toUpperCase()?i.type:null,l="checkbox"!==i.type||i.checked?t.fieldTransform(i.value,i):null;if("change_form"===n||"checkbox"!==a&&"radio"!==a){var c,u=e.core,d=u.track;for(c=i;c&&c.nodeName&&"HTML"!==c.nodeName.toUpperCase()&&"FORM"!==c.nodeName.toUpperCase();)c=c.parentNode;c=null!=(c=c&&c.nodeName&&"FORM"===c.nodeName.toUpperCase()?Ce(c):null)?c:"";var f=null!==(o=Ce(i))&&void 0!==o?o:"";o="",c={formId:c,elementId:f,nodeName:i.nodeName,elementClasses:Q(i),value:null!=l?l:null},"change_form"===n?(o="sp/cf/1-0-0",c.type=a):"focus_form"===n&&(o="sp/ff/1-0-0",c.elementType=a),o=C({event:{sc:o,dt:A(c,{value:!0})}}),d.call(u,o,s(r,i,a,l))}}}}function xe(){return{activateBrowserPlugin:function(e){Qr[e.id]=e}}}function Ae(){return{activateBrowserPlugin:function(e){$r[e.id]=e}}}function Se(e,t){void 0===t&&(t=Object.keys($r));var n=e.message,r=e.filename,i=e.lineno,o=e.colno,a=e.error,s=e.context,l=e.timestamp,c=a&&a.stack?a.stack:null;void 0===n||null===n&&void 0===c||null===c&&void 0===i||null===i&&void 0===o||null===o&&void 0===r||null===r||function(e,t,n){try{ce(null!=e?e:Object.keys(t),t).forEach(n)}catch(e){Xe.error("Function failed",e)}}(t,$r,(function(e){e.core.getConfig().exceptionAutotracking&&e.core.track(C({event:{sc:"sp/ae/1-0-1",dt:{programmingLanguage:"JAVASCRIPT",message:null!=n?n:"JS Exception.",stackTrace:c,lineNumber:i,lineColumn:o,fileName:r}}}),s,l)}))}function Re(t){var n,r=[];return(null!==(n=null==t?void 0:t.contexts)&&void 0!==n?n:{}).performanceTiming&&(t=e(Mr,["PerformanceTimingPlugin"]),r.push([de(),t])),t=e(Jr,["LinkClickTrackingPlugin"]),r.push([fe(),t]),t=e(Wr,["FormTrackingPlugin"]),r.push([xe(),t]),t=e(ei,["ErrorTrackingPlugin"]),r.push([Ae(),t]),r}var Oe=function(){return Oe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Oe.apply(this,arguments)},Ie={},Pe="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(Pe){var Ne=new Uint8Array(16);Ie=function(){return Pe(Ne),Ne}}else{var ze=Array(16);Ie=function(){for(var e,t=0;16>t;t++)0==(3&t)&&(e=4294967296*Math.random()),ze[t]=e>>>((3&t)<<3)&255;return ze}}for(var De=[],Be=0;256>Be;++Be)De[Be]=(Be+256).toString(16).substr(1);var Le,Ue,je=function(e,t){return t=t||0,[De[e[t++]],De[e[t++]],De[e[t++]],De[e[t++]],"-",De[e[t++]],De[e[t++]],"-",De[e[t++]],De[e[t++]],"-",De[e[t++]],De[e[t++]],"-",De[e[t++]],De[e[t++]],De[e[t++]],De[e[t++]],De[e[t++]],De[e[t++]]].join("")},Fe=Ie,Me=0,qe=0,He=Ie,Ge=function(e,t,n){if(n=t&&n||0,"string"==typeof e&&(t="binary"===e?Array(16):null,e=null),(e=(e=e||{}).random||(e.rng||He)())[6]=15&e[6]|64,e[8]=63&e[8]|128,t)for(var r=0;16>r;++r)t[n+r]=e[r];return t||je(e)};Ge.v1=function(e,t,n){n=t&&n||0;var r=t||[],i=(e=e||{}).node||Le,o=void 0!==e.clockseq?e.clockseq:Ue;if(null==i||null==o){var a=Fe();null==i&&(i=Le=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==o&&(o=Ue=16383&(a[6]<<8|a[7]))}a=void 0!==e.msecs?e.msecs:(new Date).getTime();var s=void 0!==e.nsecs?e.nsecs:qe+1,l=a-Me+(s-qe)/1e4;if(0>l&&void 0===e.clockseq&&(o=o+1&16383),(0>l||a>Me)&&void 0===e.nsecs&&(s=0),1e4<=s)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");for(Me=a,qe=s,Ue=o,e=(1e4*(268435455&(a+=122192928e5))+s)%4294967296,r[n++]=e>>>24&255,r[n++]=e>>>16&255,r[n++]=e>>>8&255,r[n++]=255&e,e=a/4294967296*1e4&268435455,r[n++]=e>>>8&255,r[n++]=255&e,r[n++]=e>>>24&15|16,r[n++]=e>>>16&255,r[n++]=o>>>8|128,r[n++]=255&o,o=0;6>o;++o)r[n+o]=i[o];return t||je(r)};var Ze,Ve,Je=Ge.v4=Ge,Ke="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";(Ve=Ze||(Ze={}))[Ve.none=0]="none",Ve[Ve.error=1]="error",Ve[Ve.warn=2]="warn",Ve[Ve.debug=3]="debug",Ve[Ve.info=4]="info";var Ye,Xe=function(e){return void 0===e&&(e=Ze.warn),{setLogLevel:function(t){e=Ze[t]?t:Ze.warn},warn:function(n,r){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];e>=Ze.warn&&"undefined"!=typeof console&&(o="Conviva: "+n,r?console.warn.apply(console,t([o+"\n",r],i,!1)):console.warn.apply(console,t([o],i,!1)))},error:function(n,r){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];e>=Ze.error&&"undefined"!=typeof console&&(o="Conviva: "+n+"\n",r?console.error.apply(console,t([o+"\n",r],i,!1)):console.error.apply(console,t([o],i,!1)))},debug:function(n){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];e>=Ze.debug&&"undefined"!=typeof console&&console.debug.apply(console,t(["Conviva: "+n],r,!1))},info:function(n){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];e>=Ze.info&&"undefined"!=typeof console&&console.info.apply(console,t(["Conviva: "+n],r,!1))}}}();!function(e){e.response_body="rsb",e.request_body="rqb",e.response_headers="rsh",e.request_headers="rqh"}(Ye||(Ye={}));var Qe={},We={};!function(){var e={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(t){if(t.constructor==Number)return 16711935&e.rotl(t,8)|4278255360&e.rotl(t,24);for(var n=0;n<t.length;n++)t[n]=e.endian(t[n]);return t},randomBytes:function(e){for(var t=[];0<e;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var t=[],n=0;n<e.length;n+=3)for(var r=e[n]<<16|e[n+1]<<8|e[n+2],i=0;4>i;i++)8*n+6*i<=8*e.length?t.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(r>>>6*(3-i)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],n=0,r=0;n<e.length;r=++n%4)0!=r&&t.push(("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(n-1))&Math.pow(2,-2*r+8)-1)<<2*r|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(n))>>>6-2*r);return t}};We=e}();var $e={utf8:{stringToBytes:function(e){return $e.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape($e.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}},et=$e;!function(){var e=We,t=et.utf8,n=et.bin,r=function(r,i){var o=e.wordsToBytes,a=r;a.constructor==String?a=t.stringToBytes(a):"undefined"!=typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(a)?a=Array.prototype.slice.call(a,0):Array.isArray(a)||(a=a.toString()),r=e.bytesToWords(a);var s=8*a.length;a=[];var l=1732584193,c=-271733879,u=-1732584194,d=271733878,f=-1009589776;for(r[s>>5]|=128<<24-s%32,r[15+(s+64>>>9<<4)]=s,s=0;s<r.length;s+=16){for(var v=l,g=c,h=u,p=d,m=f,_=0;80>_;_++){if(16>_)a[_]=r[s+_];else{var k=a[_-3]^a[_-8]^a[_-14]^a[_-16];a[_]=k<<1|k>>>31}k=(l<<5|l>>>27)+f+(a[_]>>>0)+(20>_?1518500249+(c&u|~c&d):40>_?1859775393+(c^u^d):60>_?(c&u|c&d|u&d)-1894007588:(c^u^d)-899497514),f=d,d=u,u=c<<30|c>>>2,c=l,l=k}l+=v,c+=g,u+=h,d+=p,f+=m}return o=o.call(e,[l,c,u,d,f]),i&&i.asBytes?o:i&&i.asString?n.bytesToString(o):e.bytesToHex(o)};r._blocksize=16,r._digestsize=20,Qe=r}();var tt=Qe;let nt=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),rt=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),it=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),ot=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),at=Array(576);S(at);let st=Array(60);S(st);let lt=Array(512);S(lt);let ct=Array(256);S(ct);let ut=Array(29);S(ut);let dt=Array(30);S(dt);let ft,vt,gt,ht=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},pt=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,ht(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},mt=(e,t,n)=>{pt(e,n[2*t],n[2*t+1])},_t=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(0<--t);return n>>>1},kt=(e,t,n)=>{const r=Array(16);var i=0;let o;for(o=1;15>=o;o++)i=i+n[o-1]<<1,r[o]=i;for(n=0;n<=t;n++)0!==(i=e[2*n+1])&&(e[2*n]=_t(r[i]++,i))},wt=e=>{let t;for(t=0;286>t;t++)e.dyn_ltree[2*t]=0;for(t=0;30>t;t++)e.dyn_dtree[2*t]=0;for(t=0;19>t;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},bt=e=>{8<e.bi_valid?ht(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},yt=(e,t,n,r)=>{const i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]},Tt=(e,t,n)=>{const r=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&yt(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!yt(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},Ct=(e,t,n)=>{let r,i,o,a,s=0;if(0!==e.sym_next)do{r=255&e.pending_buf[e.sym_buf+s++],r+=(255&e.pending_buf[e.sym_buf+s++])<<8,i=e.pending_buf[e.sym_buf+s++],0===r?mt(e,i,t):(o=ct[i],mt(e,o+256+1,t),a=nt[o],0!==a&&(i-=ut[o],pt(e,i,a)),r--,o=256>r?lt[r]:lt[256+(r>>>7)],mt(e,o,n),a=rt[o],0!==a&&(r-=dt[o],pt(e,r,a)))}while(s<e.sym_next);mt(e,256,t)},Et=(e,t)=>{const n=t.dyn_tree;var r,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,a=t.stat_desc.elems;let s=-1;for(e.heap_len=0,e.heap_max=573,r=0;r<a;r++)0!==n[2*r]?(e.heap[++e.heap_len]=s=r,e.depth[r]=0):n[2*r+1]=0;for(;2>e.heap_len;){var l=e.heap[++e.heap_len]=2>s?++s:0;n[2*l]=1,e.depth[l]=0,e.opt_len--,o&&(e.static_len-=i[2*l+1])}for(t.max_code=s,r=e.heap_len>>1;1<=r;r--)Tt(e,n,r);l=a;do{r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Tt(e,n,1),i=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=i,n[2*l]=n[2*r]+n[2*i],e.depth[l]=(e.depth[r]>=e.depth[i]?e.depth[r]:e.depth[i])+1,n[2*r+1]=n[2*i+1]=l,e.heap[1]=l++,Tt(e,n,1)}while(2<=e.heap_len);e.heap[--e.heap_max]=e.heap[1];{r=t.dyn_tree,l=t.max_code,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,a=t.stat_desc.extra_bits;const n=t.stat_desc.extra_base,s=t.stat_desc.max_length;let c,u,d,f,v=0;for(u=0;15>=u;u++)e.bl_count[u]=0;for(r[2*e.heap[e.heap_max]+1]=0,t=e.heap_max+1;573>t;t++)c=e.heap[t],u=r[2*r[2*c+1]+1]+1,u>s&&(u=s,v++),r[2*c+1]=u,c>l||(e.bl_count[u]++,d=0,c>=n&&(d=a[c-n]),f=r[2*c],e.opt_len+=f*(u+d),o&&(e.static_len+=f*(i[2*c+1]+d)));if(0!==v){do{for(u=s-1;0===e.bl_count[u];)u--;e.bl_count[u]--,e.bl_count[u+1]+=2,e.bl_count[s]--,v-=2}while(0<v);for(u=s;0!==u;u--)for(c=e.bl_count[u];0!==c;)(i=e.heap[--t])>l||(r[2*i+1]!==u&&(e.opt_len+=(u-r[2*i+1])*r[2*i],r[2*i+1]=u),c--)}}kt(n,s,e.bl_count)},xt=(e,t,n)=>{let r,i,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<l&&i===a||(s<c?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):10>=s?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=i,0===a?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4))},At=(e,t,n)=>{let r,i,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<l&&i===a)){if(s<c)do{mt(e,i,e.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(mt(e,i,e.bl_tree),s--),mt(e,16,e.bl_tree),pt(e,s-3,2)):10>=s?(mt(e,17,e.bl_tree),pt(e,s-3,3)):(mt(e,18,e.bl_tree),pt(e,s-11,7));s=0,o=i,0===a?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4)}},St=!1,Rt=(e,t,n,r)=>{pt(e,r?1:0,3),bt(e),ht(e,n),ht(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n};var Ot={_tr_init:e=>{if(!St){var t,n;let e;const r=Array(16);for(e=n=0;28>e;e++)for(ut[e]=n,t=0;t<1<<nt[e];t++)ct[n++]=e;for(ct[n-1]=e,e=n=0;16>e;e++)for(dt[e]=n,t=0;t<1<<rt[e];t++)lt[n++]=e;for(n>>=7;30>e;e++)for(dt[e]=n<<7,t=0;t<1<<rt[e]-7;t++)lt[256+n++]=e;for(t=0;15>=t;t++)r[t]=0;for(t=0;143>=t;)at[2*t+1]=8,t++,r[8]++;for(;255>=t;)at[2*t+1]=9,t++,r[9]++;for(;279>=t;)at[2*t+1]=7,t++,r[7]++;for(;287>=t;)at[2*t+1]=8,t++,r[8]++;for(kt(at,287,r),t=0;30>t;t++)st[2*t+1]=5,st[2*t]=_t(t,5);ft=new R(at,nt,257,286,15),vt=new R(st,rt,0,30,15),gt=new R([],it,0,19,7),St=!0}e.l_desc=new O(e.dyn_ltree,ft),e.d_desc=new O(e.dyn_dtree,vt),e.bl_desc=new O(e.bl_tree,gt),e.bi_buf=0,e.bi_valid=0,wt(e)},_tr_stored_block:Rt,_tr_flush_block:(e,t,n,r)=>{let i;var o=0;if(0<e.level){for(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;31>=t;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;256>t;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),Et(e,e.l_desc),Et(e,e.d_desc),xt(e,e.dyn_ltree,e.l_desc.max_code),xt(e,e.dyn_dtree,e.d_desc.max_code),Et(e,e.bl_desc),o=18;3<=o&&0===e.bl_tree[2*ot[o]+1];o--);e.opt_len+=3*(o+1)+14;var a=e.opt_len+3+7>>>3;i=e.static_len+3+7>>>3,i<=a&&(a=i)}else a=i=n+5;if(n+4<=a&&-1!==t)Rt(e,t,n,r);else if(4===e.strategy||i===a)pt(e,2+(r?1:0),3),Ct(e,at,st);else{for(pt(e,4+(r?1:0),3),t=e.l_desc.max_code+1,n=e.d_desc.max_code+1,o+=1,pt(e,t-257,5),pt(e,n-1,5),pt(e,o-4,4),a=0;a<o;a++)pt(e,e.bl_tree[2*ot[a]+1],3);At(e,e.dyn_ltree,t-1),At(e,e.dyn_dtree,n-1),Ct(e,e.dyn_ltree,e.dyn_dtree)}wt(e),r&&bt(e)},_tr_tally:(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(ct[n]+256+1)]++,e.dyn_dtree[2*(256>t?lt[t]:lt[256+(t>>>7)])]++),e.sym_next===e.sym_end),_tr_align:e=>{pt(e,2,3),mt(e,256,at),16===e.bi_valid?(ht(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}},It=(e,t,n,r)=>{let i,o=65535&e|0;for(e=e>>>16&65535|0;0!==n;){i=2e3<n?2e3:n,n-=i;do{o=o+t[r++]|0,e=e+o|0}while(--i);o%=65521,e%=65521}return o|e<<16|0};let Pt=new Uint32Array((()=>{let e,t=[];for(var n=0;256>n;n++){e=n;for(var r=0;8>r;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var Nt=(e,t,n,r)=>{for(n=r+n,e^=-1;r<n;r++)e=e>>>8^Pt[255&(e^t[r])];return-1^e},zt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Dt={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};let{_tr_init:Bt,_tr_stored_block:Lt,_tr_flush_block:Ut,_tr_tally:jt,_tr_align:Ft}=Ot,{Z_NO_FLUSH:Mt,Z_PARTIAL_FLUSH:qt,Z_FULL_FLUSH:Ht,Z_FINISH:Gt,Z_BLOCK:Zt,Z_OK:Vt,Z_STREAM_END:Jt,Z_STREAM_ERROR:Kt,Z_DATA_ERROR:Yt,Z_BUF_ERROR:Xt,Z_DEFAULT_COMPRESSION:Qt,Z_FILTERED:Wt,Z_HUFFMAN_ONLY:$t,Z_RLE:en,Z_FIXED:tn,Z_DEFAULT_STRATEGY:nn,Z_UNKNOWN:rn,Z_DEFLATED:on}=Dt,an=(e,t)=>(e.msg=zt[t],t),sn=e=>{let t=e.length;for(;0<=--t;)e[t]=0},ln=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},cn=(e,t)=>{Ut(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ln(e.strm)},un=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},dn=(e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),1===e.state.wrap?e.adler=It(e.adler,t,i,n):2===e.state.wrap&&(e.adler=Nt(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},fn=(e,t)=>{let n=e.max_chain_length,r=e.strstart,i=e.prev_length,o=e.nice_match;const a=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,s=e.window,l=e.w_mask,c=e.prev,u=e.strstart+258;let d=s[r+i-1],f=s[r+i];e.prev_length>=e.good_match&&(n>>=2),o>e.lookahead&&(o=e.lookahead);do{var v=t;if(s[v+i]===f&&s[v+i-1]===d&&s[v]===s[r]&&s[++v]===s[r+1]){for(r+=2,v++;s[++r]===s[++v]&&s[++r]===s[++v]&&s[++r]===s[++v]&&s[++r]===s[++v]&&s[++r]===s[++v]&&s[++r]===s[++v]&&s[++r]===s[++v]&&s[++r]===s[++v]&&r<u;);if(v=258-(u-r),r=u-258,v>i){if(e.match_start=t,i=v,v>=o)break;d=s[r+i-1],f=s[r+i]}}}while((t=c[t&l])>a&&0!=--n);return i<=e.lookahead?i:e.lookahead},vn=e=>{const t=e.w_size;do{var n=e.window_size-e.lookahead-e.strstart;if(e.strstart>=t+(t-262)){let i,o,a;e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart);var r=e;let s=r.w_size;i=a=r.hash_size;do{o=r.head[--i],r.head[i]=o>=s?o-s:0}while(--a);i=a=s;do{o=r.prev[--i],r.prev[i]=o>=s?o-s:0}while(--a);n+=t}if(0===e.strm.avail_in)break;if(n=dn(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=n,3<=e.lookahead+e.insert)for(n=e.strstart-e.insert,e.ins_h=e.window[n],e.ins_h=(e.ins_h<<e.hash_shift^e.window[n+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[n+3-1])&e.hash_mask,e.prev[n&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=n,n++,e.insert--,!(3>e.lookahead+e.insert)););}while(262>e.lookahead&&0!==e.strm.avail_in)},gn=(e,t)=>{let n,r,i,o=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,a=0,s=e.strm.avail_in;do{if(n=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i)break;if(i=e.strm.avail_out-i,r=e.strstart-e.block_start,n>r+e.strm.avail_in&&(n=r+e.strm.avail_in),n>i&&(n=i),n<o&&(0===n&&t!==Gt||t===Mt||n!==r+e.strm.avail_in))break;a=t===Gt&&n===r+e.strm.avail_in?1:0,Lt(e,0,0,a),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,ln(e.strm),r&&(r>n&&(r=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,n-=r),n&&(dn(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===a);return(s-=e.strm.avail_in)&&(s>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=s&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),2>e.matches&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-s,e.strm.next_in),e.strstart),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a?4:t!==Mt&&t!==Gt&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),2>e.matches&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(dn(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=65535<e.pending_buf_size-i?65535:e.pending_buf_size-i,o=i>e.w_size?e.w_size:i,r=e.strstart-e.block_start,(r>=o||(r||t===Gt)&&t!==Mt&&0===e.strm.avail_in&&r<=i)&&(n=r>i?i:r,a=t===Gt&&0===e.strm.avail_in&&n===r?1:0,Lt(e,e.block_start,n,a),e.block_start+=n,ln(e.strm)),a?3:1)},hn=(e,t)=>{for(var n;;){if(262>e.lookahead){if(vn(e),262>e.lookahead&&t===Mt)return 1;if(0===e.lookahead)break}if(n=0,3<=e.lookahead&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-262&&(e.match_length=fn(e,n)),3<=e.match_length)if(n=jt(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&3<=e.lookahead){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=jt(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(cn(e,!1),0===e.strm.avail_out))return 1}return e.insert=2>e.strstart?e.strstart:2,t===Gt?(cn(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(cn(e,!1),0===e.strm.avail_out)?1:2},pn=(e,t)=>{let n;for(;;){if(262>e.lookahead){if(vn(e),262>e.lookahead&&t===Mt)return 1;if(0===e.lookahead)break}var r=0;if(3<=e.lookahead&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-262&&(e.match_length=fn(e,r),5>=e.match_length&&(e.strategy===Wt||3===e.match_length&&4096<e.strstart-e.match_start)&&(e.match_length=2)),3<=e.prev_length&&e.match_length<=e.prev_length){n=e.strstart+e.lookahead-3,r=jt(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=n&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(cn(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=jt(e,0,e.window[e.strstart-1]))&&cn(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(jt(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=2>e.strstart?e.strstart:2,t===Gt?(cn(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(cn(e,!1),0===e.strm.avail_out)?1:2},mn=[new I(0,0,0,0,gn),new I(4,4,8,4,hn),new I(4,5,16,8,hn),new I(4,6,32,32,hn),new I(4,4,16,16,pn),new I(8,16,32,32,pn),new I(8,16,128,128,pn),new I(8,32,128,256,pn),new I(32,128,258,1024,pn),new I(32,258,258,4096,pn)],_n=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||42!==t.status&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&113!==t.status&&666!==t.status?1:0},kn=e=>{if(_n(e))return an(e,Kt);e.total_in=e.total_out=0,e.data_type=rn;const t=e.state;return t.pending=0,t.pending_out=0,0>t.wrap&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=-2,Bt(t),Vt},wn=e=>{const t=kn(e);return t===Vt&&((e=e.state).window_size=2*e.w_size,sn(e.head),e.max_lazy_match=mn[e.level].max_lazy,e.good_match=mn[e.level].good_length,e.nice_match=mn[e.level].nice_length,e.max_chain_length=mn[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),t},bn=(e,t,n,r,i,o)=>{if(!e)return Kt;let a=1;if(t===Qt&&(t=6),0>r?(a=0,r=-r):15<r&&(a=2,r-=16),1>i||9<i||n!==on||8>r||15<r||0>t||9<t||0>o||o>tn||8===r&&1!==a)return an(e,Kt);8===r&&(r=9);const s=new P;return e.state=s,s.strm=e,s.status=42,s.wrap=a,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=3*(s.lit_bufsize-1),s.level=t,s.strategy=o,s.method=n,wn(e)};var yn={deflateInit:(e,t)=>bn(e,t,on,15,8,nn),deflateInit2:bn,deflateReset:wn,deflateResetKeep:kn,deflateSetHeader:(e,t)=>_n(e)||2!==e.state.wrap?Kt:(e.state.gzhead=t,Vt),deflate:(e,t)=>{if(_n(e)||t>Zt||0>t)return e?an(e,Kt):Kt;const n=e.state;if(!e.output||0!==e.avail_in&&!e.input||666===n.status&&t!==Gt)return an(e,0===e.avail_out?Xt:Kt);var r=n.last_flush;if(n.last_flush=t,0!==n.pending){if(ln(e),0===e.avail_out)return n.last_flush=-1,Vt}else if(0===e.avail_in&&2*t-(4<t?9:0)<=2*r-(4<r?9:0)&&t!==Gt)return an(e,Xt);if(666===n.status&&0!==e.avail_in)return an(e,Xt);if(42===n.status&&0===n.wrap&&(n.status=113),42===n.status&&(r=on+(n.w_bits-8<<4)<<8,r|=(n.strategy>=$t||2>n.level?0:6>n.level?1:6===n.level?2:3)<<6,0!==n.strstart&&(r|=32),un(n,r+=31-r%31),0!==n.strstart&&(un(n,e.adler>>>16),un(n,65535&e.adler)),e.adler=1,n.status=113,ln(e),0!==n.pending))return n.last_flush=-1,Vt;if(57===n.status)if(e.adler=0,n.pending_buf[n.pending++]=31,n.pending_buf[n.pending++]=139,n.pending_buf[n.pending++]=8,n.gzhead)r=(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0),n.pending_buf[n.pending++]=r,r=255&n.gzhead.time,n.pending_buf[n.pending++]=r,r=n.gzhead.time>>8&255,n.pending_buf[n.pending++]=r,r=n.gzhead.time>>16&255,n.pending_buf[n.pending++]=r,r=n.gzhead.time>>24&255,n.pending_buf[n.pending++]=r,r=9===n.level?2:n.strategy>=$t||2>n.level?4:0,n.pending_buf[n.pending++]=r,r=255&n.gzhead.os,n.pending_buf[n.pending++]=r,n.gzhead.extra&&n.gzhead.extra.length&&(r=255&n.gzhead.extra.length,n.pending_buf[n.pending++]=r,r=n.gzhead.extra.length>>8&255,n.pending_buf[n.pending++]=r),n.gzhead.hcrc&&(e.adler=Nt(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(n.pending_buf[n.pending++]=0,n.pending_buf[n.pending++]=0,n.pending_buf[n.pending++]=0,n.pending_buf[n.pending++]=0,n.pending_buf[n.pending++]=0,r=9===n.level?2:n.strategy>=$t||2>n.level?4:0,n.pending_buf[n.pending++]=r,n.pending_buf[n.pending++]=3,n.status=113,ln(e),0!==n.pending)return n.last_flush=-1,Vt;if(69===n.status){if(n.gzhead.extra){r=n.pending;for(var i=(65535&n.gzhead.extra.length)-n.gzindex;n.pending+i>n.pending_buf_size;){var o=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+o),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>r&&(e.adler=Nt(e.adler,n.pending_buf,n.pending-r,r)),n.gzindex+=o,ln(e),0!==n.pending)return n.last_flush=-1,Vt;r=0,i-=o}o=new Uint8Array(n.gzhead.extra),n.pending_buf.set(o.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending+=i,n.gzhead.hcrc&&n.pending>r&&(e.adler=Nt(e.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=Nt(e.adler,n.pending_buf,n.pending-i,i)),ln(e),0!==n.pending)return n.last_flush=-1,Vt;i=0}r=o=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,n.pending_buf[n.pending++]=r}while(0!==o);n.gzhead.hcrc&&n.pending>i&&(e.adler=Nt(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=Nt(e.adler,n.pending_buf,n.pending-i,i)),ln(e),0!==n.pending)return n.last_flush=-1,Vt;i=0}r=o=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,n.pending_buf[n.pending++]=r}while(0!==o);n.gzhead.hcrc&&n.pending>i&&(e.adler=Nt(e.adler,n.pending_buf,n.pending-i,i))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(ln(e),0!==n.pending))return n.last_flush=-1,Vt;r=255&e.adler,n.pending_buf[n.pending++]=r,r=e.adler>>8&255,n.pending_buf[n.pending++]=r,e.adler=0}if(n.status=113,ln(e),0!==n.pending)return n.last_flush=-1,Vt}if(0!==e.avail_in||0!==n.lookahead||t!==Mt&&666!==n.status){if(r=0===n.level?gn(n,t):n.strategy===$t?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(vn(e),0===e.lookahead)){if(t===Mt)return 1;break}if(e.match_length=0,n=jt(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(cn(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Gt?(cn(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(cn(e,!1),0===e.strm.avail_out)?1:2})(n,t):n.strategy===en?((e,t)=>{let n,r;const i=e.window;for(;;){if(258>=e.lookahead){if(vn(e),258>=e.lookahead&&t===Mt)return 1;if(0===e.lookahead)break}if(e.match_length=0,3<=e.lookahead&&0<e.strstart){n=e.strstart-1;var o=i[n];if(o===i[++n]&&o===i[++n]&&o===i[++n]){for(r=e.strstart+258;o===i[++n]&&o===i[++n]&&o===i[++n]&&o===i[++n]&&o===i[++n]&&o===i[++n]&&o===i[++n]&&o===i[++n]&&n<r;);e.match_length=258-(r-n),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}}if(3<=e.match_length?(o=jt(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(o=jt(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),o&&(cn(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Gt?(cn(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(cn(e,!1),0===e.strm.avail_out)?1:2})(n,t):mn[n.level].func(n,t),3!==r&&4!==r||(n.status=666),1===r||3===r)return 0===e.avail_out&&(n.last_flush=-1),Vt;if(2===r&&(t===qt?Ft(n):t!==Zt&&(Lt(n,0,0,!1),t===Ht&&(sn(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),ln(e),0===e.avail_out))return n.last_flush=-1,Vt}return t!==Gt?Vt:0>=n.wrap?Jt:(2===n.wrap?(t=255&e.adler,n.pending_buf[n.pending++]=t,t=e.adler>>8&255,n.pending_buf[n.pending++]=t,t=e.adler>>16&255,n.pending_buf[n.pending++]=t,t=e.adler>>24&255,n.pending_buf[n.pending++]=t,t=255&e.total_in,n.pending_buf[n.pending++]=t,t=e.total_in>>8&255,n.pending_buf[n.pending++]=t,t=e.total_in>>16&255,n.pending_buf[n.pending++]=t,t=e.total_in>>24&255,n.pending_buf[n.pending++]=t):(un(n,e.adler>>>16),un(n,65535&e.adler)),ln(e),0<n.wrap&&(n.wrap=-n.wrap),0!==n.pending?Vt:Jt)},deflateEnd:e=>{if(_n(e))return Kt;const t=e.state.status;return e.state=null,113===t?an(e,Yt):Vt},deflateSetDictionary:(e,t)=>{var n=t.length;if(_n(e))return Kt;const r=e.state,i=r.wrap;if(2===i||1===i&&42!==r.status||r.lookahead)return Kt;if(1===i&&(e.adler=It(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===i&&(sn(r.head),r.strstart=0,r.block_start=0,r.insert=0);var o=new Uint8Array(r.w_size);o.set(t.subarray(n-r.w_size,n),0),t=o,n=r.w_size}o=e.avail_in;const a=e.next_in,s=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,vn(r);3<=r.lookahead;){t=r.strstart,n=r.lookahead-2;do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[t+3-1])&r.hash_mask,r.prev[t&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=t,t++}while(--n);r.strstart=t,r.lookahead=2,vn(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=a,e.input=s,e.avail_in=o,r.wrap=i,Vt},deflateInfo:"pako deflate (from Nodeca project)"},Tn={assign:function(e){let t=Array.prototype.slice.call(arguments,1);for(;t.length;){let n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}}return e},flattenChunks:e=>{var t=0;for(let n=0,r=e.length;n<r;n++)t+=e[n].length;t=new Uint8Array(t);for(let n=0,r=0,i=e.length;n<i;n++){let i=e[n];t.set(i,r),r+=i.length}return t}};let Cn=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(Ve){Cn=!1}let En=new Uint8Array(256);for(let e=0;256>e;e++)En[e]=252<=e?6:248<=e?5:240<=e?4:224<=e?3:192<=e?2:1;En[254]=En[254]=1;var xn={string2buf:e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,r,i,o,a=e.length,s=0;for(i=0;i<a;i++)n=e.charCodeAt(i),55296==(64512&n)&&i+1<a&&(r=e.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),s+=128>n?1:2048>n?2:65536>n?3:4;for(t=new Uint8Array(s),i=o=0;o<s;i++)n=e.charCodeAt(i),55296==(64512&n)&&i+1<a&&(r=e.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),128>n?t[o++]=n:(2048>n?t[o++]=192|n>>>6:(65536>n?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t},buf2string:(e,t)=>{var n,r=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let i;for(t=Array(2*r),n=i=0;n<r;){let o=e[n++];if(128>o){t[i++]=o;continue}let a=En[o];if(4<a)t[i++]=65533,n+=a-1;else{for(o&=2===a?31:3===a?15:7;1<a&&n<r;)o=o<<6|63&e[n++],a--;1<a?t[i++]=65533:65536>o?t[i++]=o:(o-=65536,t[i++]=55296|o>>10&1023,t[i++]=56320|1023&o)}}if(65534>(e=i)&&t.subarray&&Cn)t=String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));else{for(r="",n=0;n<e;n++)r+=String.fromCharCode(t[n]);t=r}return t},utf8border:(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;0<=n&&128==(192&e[n]);)n--;return 0>n||0===n?t:n+En[e[n]]>t?n:t}},An=function(){this.input=null,this.total_in=this.avail_in=this.next_in=0,this.output=null,this.total_out=this.avail_out=this.next_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};let Sn=Object.prototype.toString,{Z_NO_FLUSH:Rn,Z_SYNC_FLUSH:On,Z_FULL_FLUSH:In,Z_FINISH:Pn,Z_OK:Nn,Z_STREAM_END:zn,Z_DEFAULT_COMPRESSION:Dn,Z_DEFAULT_STRATEGY:Bn,Z_DEFLATED:Ln}=Dt;N.prototype.push=function(e,t){let n=this.strm,r=this.options.chunkSize;if(this.ended)return!1;for(t=t===~~t?t:!0===t?Pn:Rn,"string"==typeof e?n.input=xn.string2buf(e):"[object ArrayBuffer]"===Sn.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(t===On||t===In)&&6>=n.avail_out)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if((e=yn.deflate(n,t))===zn)return 0<n.next_out&&this.onData(n.output.subarray(0,n.next_out)),e=yn.deflateEnd(this.strm),this.onEnd(e),this.ended=!0,e===Nn;if(0===n.avail_out)this.onData(n.output);else if(0<t&&0<n.next_out)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}return!0},N.prototype.onData=function(e){this.chunks.push(e)},N.prototype.onEnd=function(e){e===Nn&&(this.result=Tn.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Un={Deflate:N,deflate:z,deflateRaw:function(e,t){return(t=t||{}).raw=!0,z(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,z(e,t)},constants:Dt};let jn=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Fn=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Mn=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),qn=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Hn=(e,t,n,r,i,o,a,s)=>{var l=s.bits;let c,u,d,f;var v;let g,h,p,m,_,k,w,b;const y=new Uint16Array(16);var T=new Uint16Array(16);let C,E,x,A;for(c=0;15>=c;c++)y[c]=0;for(u=0;u<r;u++)y[t[n+u]]++;for(f=l,d=15;1<=d&&0===y[d];d--);if(f>d&&(f=d),0===d)return i[o++]=20971520,i[o++]=20971520,s.bits=1,0;for(l=1;l<d&&0===y[l];l++);for(f<l&&(f=l),c=v=1;15>=c;c++)if(v<<=1,0>(v-=y[c]))return-1;if(0<v&&(0===e||1!==d))return-1;for(T[1]=0,c=1;15>c;c++)T[c+1]=T[c]+y[c];for(u=0;u<r;u++)0!==t[n+u]&&(a[T[t[n+u]]++]=u);if(0===e?(w=C=a,b=20):1===e?(w=jn,C=Fn,b=257):(w=Mn,C=qn,b=0),u=h=0,c=l,k=o,r=f,T=0,m=-1,g=1<<f,_=g-1,1===e&&852<g||2===e&&592<g)return 1;for(;;){E=c-T,a[u]+1<b?(x=0,A=a[u]):a[u]>=b?(x=C[a[u]-b],A=w[a[u]-b]):(x=96,A=0),v=1<<c-T,l=p=1<<r;do{p-=v,i[k+(h>>T)+p]=E<<24|x<<16|A|0}while(0!==p);for(v=1<<c-1;h&v;)v>>=1;if(0!==v?(h&=v-1,h+=v):h=0,u++,0==--y[c]){if(c===d)break;c=t[n+a[u]]}if(c>f&&(h&_)!==m){for(0===T&&(T=f),k+=l,v=1<<(r=c-T);r+T<d&&!(0>=(v-=y[r+T]));)r++,v<<=1;if(g+=1<<r,1===e&&852<g||2===e&&592<g)return 1;m=h&_,i[m]=f<<24|r<<16|k-o|0}}return 0!==h&&(i[k+h]=c-T<<24|4194304),s.bits=f,0};let Gn,Zn,{Z_FINISH:Vn,Z_BLOCK:Jn,Z_TREES:Kn,Z_OK:Yn,Z_STREAM_END:Xn,Z_NEED_DICT:Qn,Z_STREAM_ERROR:Wn,Z_DATA_ERROR:$n,Z_MEM_ERROR:er,Z_BUF_ERROR:tr,Z_DEFLATED:nr}=Dt,rr=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||16180>t.mode||16211<t.mode?1:0},ir=e=>{if(rr(e))return Wn;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=16180,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Yn},or=e=>{if(rr(e))return Wn;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,ir(e)},ar=(e,t)=>{let n;if(rr(e))return Wn;const r=e.state;return 0>t?(n=0,t=-t):(n=5+(t>>4),48>t&&(t&=15)),t&&(8>t||15<t)?Wn:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,or(e))},sr=(e,t)=>{if(!e)return Wn;const n=new D;return e.state=n,n.strm=e,n.window=null,n.mode=16180,(t=ar(e,t))!==Yn&&(e.state=null),t},lr=!0,cr=(e,t,n,r)=>{const i=e.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):((e=i.wsize-i.wnext)>r&&(e=r),i.window.set(t.subarray(n-r,n-r+e),i.wnext),(r-=e)?(i.window.set(t.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=e,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=e))),0};var ur={inflateReset:or,inflateReset2:ar,inflateResetKeep:ir,inflateInit:e=>sr(e,15),inflateInit2:sr,inflate:(e,t)=>{let n,r,i,o;const a=new Uint8Array(4),s=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(rr(e)||!e.output||!e.input&&0!==e.avail_in)return Wn;n=e.state,16191===n.mode&&(n.mode=16192);var l=e.next_out,c=e.output,u=e.avail_out,d=e.next_in,f=e.input,v=e.avail_in,g=n.hold,h=n.bits;r=v,i=u,o=Yn;e:for(;;)switch(n.mode){case 16180:if(0===n.wrap){n.mode=16192;break}for(;16>h;){if(0===v)break e;v--,g+=f[d++]<<h,h+=8}if(2&n.wrap&&35615===g){0===n.wbits&&(n.wbits=15),n.check=0,a[0]=255&g,a[1]=g>>>8&255,n.check=Nt(n.check,a,2,0),h=g=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&g)<<8)+(g>>8))%31){e.msg="incorrect header check",n.mode=16209;break}if((15&g)!==nr){e.msg="unknown compression method",n.mode=16209;break}h-=4;var p=8+(15&(g>>>=4));if(0===n.wbits&&(n.wbits=p),15<p||p>n.wbits){e.msg="invalid window size",n.mode=16209;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&g?16189:16191,h=g=0;break;case 16181:for(;16>h;){if(0===v)break e;v--,g+=f[d++]<<h,h+=8}if(n.flags=g,(255&n.flags)!==nr){e.msg="unknown compression method",n.mode=16209;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=16209;break}n.head&&(n.head.text=g>>8&1),512&n.flags&&4&n.wrap&&(a[0]=255&g,a[1]=g>>>8&255,n.check=Nt(n.check,a,2,0)),h=g=0,n.mode=16182;case 16182:for(;32>h;){if(0===v)break e;v--,g+=f[d++]<<h,h+=8}n.head&&(n.head.time=g),512&n.flags&&4&n.wrap&&(a[0]=255&g,a[1]=g>>>8&255,a[2]=g>>>16&255,a[3]=g>>>24&255,n.check=Nt(n.check,a,4,0)),h=g=0,n.mode=16183;case 16183:for(;16>h;){if(0===v)break e;v--,g+=f[d++]<<h,h+=8}n.head&&(n.head.xflags=255&g,n.head.os=g>>8),512&n.flags&&4&n.wrap&&(a[0]=255&g,a[1]=g>>>8&255,n.check=Nt(n.check,a,2,0)),h=g=0,n.mode=16184;case 16184:if(1024&n.flags){for(;16>h;){if(0===v)break e;v--,g+=f[d++]<<h,h+=8}n.length=g,n.head&&(n.head.extra_len=g),512&n.flags&&4&n.wrap&&(a[0]=255&g,a[1]=g>>>8&255,n.check=Nt(n.check,a,2,0)),h=g=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags){var m=n.length;if(m>v&&(m=v),m&&(n.head&&(p=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(f.subarray(d,d+m),p)),512&n.flags&&4&n.wrap&&(n.check=Nt(n.check,f,m,d)),v-=m,d+=m,n.length-=m),n.length)break e}n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===v)break e;m=0;do{p=f[d+m++],n.head&&p&&65536>n.length&&(n.head.name+=String.fromCharCode(p))}while(p&&m<v);if(512&n.flags&&4&n.wrap&&(n.check=Nt(n.check,f,m,d)),v-=m,d+=m,p)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===v)break e;m=0;do{p=f[d+m++],n.head&&p&&65536>n.length&&(n.head.comment+=String.fromCharCode(p))}while(p&&m<v);if(512&n.flags&&4&n.wrap&&(n.check=Nt(n.check,f,m,d)),v-=m,d+=m,p)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;16>h;){if(0===v)break e;v--,g+=f[d++]<<h,h+=8}if(4&n.wrap&&g!==(65535&n.check)){e.msg="header crc mismatch",n.mode=16209;break}h=g=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=16191;break;case 16189:for(;32>h;){if(0===v)break e;v--,g+=f[d++]<<h,h+=8}e.adler=n.check=(g>>>24&255)+(g>>>8&65280)+((65280&g)<<8)+((255&g)<<24),h=g=0,n.mode=16190;case 16190:if(0===n.havedict)return e.next_out=l,e.avail_out=u,e.next_in=d,e.avail_in=v,n.hold=g,n.bits=h,Qn;e.adler=n.check=1,n.mode=16191;case 16191:if(t===Jn||t===Kn)break e;case 16192:if(n.last){g>>>=7&h,h-=7&h,n.mode=16206;break}for(;3>h;){if(0===v)break e;v--,g+=f[d++]<<h,h+=8}switch(n.last=1&g,--h,3&(g>>>=1)){case 0:n.mode=16193;break;case 1:if(m=n,lr){for(Gn=new Int32Array(512),Zn=new Int32Array(32),p=0;144>p;)m.lens[p++]=8;for(;256>p;)m.lens[p++]=9;for(;280>p;)m.lens[p++]=7;for(;288>p;)m.lens[p++]=8;for(Hn(1,m.lens,0,288,Gn,0,m.work,{bits:9}),p=0;32>p;)m.lens[p++]=5;Hn(2,m.lens,0,32,Zn,0,m.work,{bits:5}),lr=!1}if(m.lencode=Gn,m.lenbits=9,m.distcode=Zn,m.distbits=5,n.mode=16199,t===Kn){g>>>=2,h-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=16209}g>>>=2,h-=2;break;case 16193:for(g>>>=7&h,h-=7&h;32>h;){if(0===v)break e;v--,g+=f[d++]<<h,h+=8}if((65535&g)!=(g>>>16^65535)){e.msg="invalid stored block lengths",n.mode=16209;break}if(n.length=65535&g,h=g=0,n.mode=16194,t===Kn)break e;case 16194:n.mode=16195;case 16195:if(m=n.length){if(m>v&&(m=v),m>u&&(m=u),0===m)break e;c.set(f.subarray(d,d+m),l),v-=m,d+=m,u-=m,l+=m,n.length-=m;break}n.mode=16191;break;case 16196:for(;14>h;){if(0===v)break e;v--,g+=f[d++]<<h,h+=8}if(n.nlen=257+(31&g),g>>>=5,h-=5,n.ndist=1+(31&g),g>>>=5,h-=5,n.ncode=4+(15&g),g>>>=4,h-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=16209;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;3>h;){if(0===v)break e;v--,g+=f[d++]<<h,h+=8}n.lens[s[n.have++]]=7&g,g>>>=3,h-=3}for(;19>n.have;)n.lens[s[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,m={bits:n.lenbits},o=Hn(0,n.lens,0,19,n.lencode,0,n.work,m),n.lenbits=m.bits,o){e.msg="invalid code lengths set",n.mode=16209;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;;){var _=n.lencode[g&(1<<n.lenbits)-1];if(m=_>>>24,_&=65535,m<=h)break;if(0===v)break e;v--,g+=f[d++]<<h,h+=8}if(16>_)g>>>=m,h-=m,n.lens[n.have++]=_;else{if(16===_){for(p=m+2;h<p;){if(0===v)break e;v--,g+=f[d++]<<h,h+=8}if(g>>>=m,h-=m,0===n.have){e.msg="invalid bit length repeat",n.mode=16209;break}p=n.lens[n.have-1],m=3+(3&g),g>>>=2,h-=2}else if(17===_){for(p=m+3;h<p;){if(0===v)break e;v--,g+=f[d++]<<h,h+=8}h-=m,p=0,m=3+(7&(g>>>=m)),g>>>=3,h-=3}else{for(p=m+7;h<p;){if(0===v)break e;v--,g+=f[d++]<<h,h+=8}h-=m,p=0,m=11+(127&(g>>>=m)),g>>>=7,h-=7}if(n.have+m>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=16209;break}for(;m--;)n.lens[n.have++]=p}}if(16209===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=16209;break}if(n.lenbits=9,m={bits:n.lenbits},o=Hn(1,n.lens,0,n.nlen,n.lencode,0,n.work,m),n.lenbits=m.bits,o){e.msg="invalid literal/lengths set",n.mode=16209;break}if(n.distbits=6,n.distcode=n.distdyn,m={bits:n.distbits},o=Hn(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,m),n.distbits=m.bits,o){e.msg="invalid distances set",n.mode=16209;break}if(n.mode=16199,t===Kn)break e;case 16199:n.mode=16200;case 16200:if(6<=v&&258<=u){e.next_out=l,e.avail_out=u,e.next_in=d,e.avail_in=v,n.hold=g,n.bits=h;var k=void 0;let t,r,o,a,s,T,C,E,x,A=(f=e).state;x=f.next_in,d=f.input,E=x+(f.avail_in-5),C=f.next_out,c=f.output,T=C-(i-f.avail_out),s=C+(f.avail_out-257),a=A.dmax,o=A.wsize,_=A.whave;var w=A.wnext,b=A.window,y=A.hold;p=A.bits,m=A.lencode,h=A.distcode,g=(1<<A.lenbits)-1,u=(1<<A.distbits)-1;t:do{n:for(15>p&&(y+=d[x++]<<p,p+=8,y+=d[x++]<<p,p+=8),k=m[y&g];;){if(y>>>=v=k>>>24,p-=v,0===(v=k>>>16&255))c[C++]=65535&k;else{if(!(16&v)){if(0==(64&v)){k=m[(65535&k)+(y&(1<<v)-1)];continue n}32&v?A.mode=16191:(f.msg="invalid literal/length code",A.mode=16209);break t}l=65535&k,(v&=15)&&(p<v&&(y+=d[x++]<<p,p+=8),l+=y&(1<<v)-1,y>>>=v,p-=v),15>p&&(y+=d[x++]<<p,p+=8,y+=d[x++]<<p,p+=8),k=h[y&u];r:for(;;){if(y>>>=v=k>>>24,p-=v,!(16&(v=k>>>16&255))){if(0==(64&v)){k=h[(65535&k)+(y&(1<<v)-1)];continue r}f.msg="invalid distance code",A.mode=16209;break t}if(r=65535&k,p<(v&=15)&&(y+=d[x++]<<p,(p+=8)<v&&(y+=d[x++]<<p,p+=8)),r+=y&(1<<v)-1,r>a){f.msg="invalid distance too far back",A.mode=16209;break t}if(y>>>=v,p-=v,r>(v=C-T)){if((v=r-v)>_&&A.sane){f.msg="invalid distance too far back",A.mode=16209;break t}if(t=0,k=b,0===w){if(t+=o-v,v<l){l-=v;do{c[C++]=b[t++]}while(--v);t=C-r,k=c}}else if(w<v){if(t+=o+w-v,(v-=w)<l){l-=v;do{c[C++]=b[t++]}while(--v);if(t=0,w<l){l-=v=w;do{c[C++]=b[t++]}while(--v);t=C-r,k=c}}}else if(t+=w-v,v<l){l-=v;do{c[C++]=b[t++]}while(--v);t=C-r,k=c}for(;2<l;)c[C++]=k[t++],c[C++]=k[t++],c[C++]=k[t++],l-=3;l&&(c[C++]=k[t++],1<l&&(c[C++]=k[t++]))}else{t=C-r;do{c[C++]=c[t++],c[C++]=c[t++],c[C++]=c[t++],l-=3}while(2<l);l&&(c[C++]=c[t++],1<l&&(c[C++]=c[t++]))}break}}break}}while(x<E&&C<s);x-=l=p>>3,p-=l<<3,f.next_in=x,f.next_out=C,f.avail_in=x<E?E-x+5:5-(x-E),f.avail_out=C<s?s-C+257:257-(C-s),A.hold=y&(1<<p)-1,A.bits=p,l=e.next_out,c=e.output,u=e.avail_out,d=e.next_in,f=e.input,v=e.avail_in,g=n.hold,h=n.bits,16191===n.mode&&(n.back=-1);break}for(n.back=0;m=(_=n.lencode[g&(1<<n.lenbits)-1])>>>24,p=_>>>16&255,_&=65535,!(m<=h);){if(0===v)break e;v--,g+=f[d++]<<h,h+=8}if(p&&0==(240&p)){for(y=m,b=p,w=_;m=(_=n.lencode[w+((g&(1<<y+b)-1)>>y)])>>>24,p=_>>>16&255,_&=65535,!(y+m<=h);){if(0===v)break e;v--,g+=f[d++]<<h,h+=8}g>>>=y,h-=y,n.back+=y}if(g>>>=m,h-=m,n.back+=m,n.length=_,0===p){n.mode=16205;break}if(32&p){n.back=-1,n.mode=16191;break}if(64&p){e.msg="invalid literal/length code",n.mode=16209;break}n.extra=15&p,n.mode=16201;case 16201:if(n.extra){for(p=n.extra;h<p;){if(0===v)break e;v--,g+=f[d++]<<h,h+=8}n.length+=g&(1<<n.extra)-1,g>>>=n.extra,h-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;m=(_=n.distcode[g&(1<<n.distbits)-1])>>>24,p=_>>>16&255,_&=65535,!(m<=h);){if(0===v)break e;v--,g+=f[d++]<<h,h+=8}if(0==(240&p)){for(y=m,b=p,w=_;m=(_=n.distcode[w+((g&(1<<y+b)-1)>>y)])>>>24,p=_>>>16&255,_&=65535,!(y+m<=h);){if(0===v)break e;v--,g+=f[d++]<<h,h+=8}g>>>=y,h-=y,n.back+=y}if(g>>>=m,h-=m,n.back+=m,64&p){e.msg="invalid distance code",n.mode=16209;break}n.offset=_,n.extra=15&p,n.mode=16203;case 16203:if(n.extra){for(p=n.extra;h<p;){if(0===v)break e;v--,g+=f[d++]<<h,h+=8}n.offset+=g&(1<<n.extra)-1,g>>>=n.extra,h-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=16209;break}n.mode=16204;case 16204:if(0===u)break e;if(m=i-u,n.offset>m){if((m=n.offset-m)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=16209;break}m>n.wnext?(m-=n.wnext,p=n.wsize-m):p=n.wnext-m,m>n.length&&(m=n.length),y=n.window}else y=c,p=l-n.offset,m=n.length;m>u&&(m=u),u-=m,n.length-=m;do{c[l++]=y[p++]}while(--m);0===n.length&&(n.mode=16200);break;case 16205:if(0===u)break e;c[l++]=n.length,u--,n.mode=16200;break;case 16206:if(n.wrap){for(;32>h;){if(0===v)break e;v--,g|=f[d++]<<h,h+=8}if(i-=u,e.total_out+=i,n.total+=i,4&n.wrap&&i&&(e.adler=n.check=n.flags?Nt(n.check,c,i,l-i):It(n.check,c,i,l-i)),i=u,4&n.wrap&&(n.flags?g:(g>>>24&255)+(g>>>8&65280)+((65280&g)<<8)+((255&g)<<24))!==n.check){e.msg="incorrect data check",n.mode=16209;break}h=g=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;32>h;){if(0===v)break e;v--,g+=f[d++]<<h,h+=8}if(4&n.wrap&&g!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=16209;break}h=g=0}n.mode=16208;case 16208:o=Xn;break e;case 16209:o=$n;break e;case 16210:return er;default:return Wn}return e.next_out=l,e.avail_out=u,e.next_in=d,e.avail_in=v,n.hold=g,n.bits=h,(n.wsize||i!==e.avail_out&&16209>n.mode&&(16206>n.mode||t!==Vn))&&cr(e,e.output,e.next_out,i-e.avail_out),r-=e.avail_in,i-=e.avail_out,e.total_in+=r,e.total_out+=i,n.total+=i,4&n.wrap&&i&&(e.adler=n.check=n.flags?Nt(n.check,c,i,e.next_out-i):It(n.check,c,i,e.next_out-i)),e.data_type=n.bits+(n.last?64:0)+(16191===n.mode?128:0)+(16199===n.mode||16194===n.mode?256:0),(0===r&&0===i||t===Vn)&&o===Yn&&(o=tr),o},inflateEnd:e=>{if(rr(e))return Wn;let t=e.state;return t.window&&(t.window=null),e.state=null,Yn},inflateGetHeader:(e,t)=>rr(e)||0==(2&(e=e.state).wrap)?Wn:(e.head=t,t.done=!1,Yn),inflateSetDictionary:(e,t)=>{const n=t.length;let r,i;return rr(e)?Wn:(r=e.state,0!==r.wrap&&16190!==r.mode?Wn:16190===r.mode&&(i=It(1,t,n,0),i!==r.check)?$n:cr(e,t,n,n)?(r.mode=16210,er):(r.havedict=1,Yn))},inflateInfo:"pako inflate (from Nodeca project)"},dr=function(){this.os=this.xflags=this.time=this.text=0,this.extra=null,this.extra_len=0,this.comment=this.name="",this.hcrc=0,this.done=!1};let fr=Object.prototype.toString,{Z_NO_FLUSH:vr,Z_FINISH:gr,Z_OK:hr,Z_STREAM_END:pr,Z_NEED_DICT:mr,Z_STREAM_ERROR:_r,Z_DATA_ERROR:kr,Z_MEM_ERROR:wr}=Dt;B.prototype.push=function(e,t){let n,r,i=this.strm,o=this.options.chunkSize,a=this.options.dictionary;if(this.ended)return!1;for(n=t===~~t?t:!0===t?gr:vr,"[object ArrayBuffer]"===fr.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;){for(0===i.avail_out&&(i.output=new Uint8Array(o),i.next_out=0,i.avail_out=o),(t=ur.inflate(i,n))===mr&&a&&((t=ur.inflateSetDictionary(i,a))===hr?t=ur.inflate(i,n):t===kr&&(t=mr));0<i.avail_in&&t===pr&&0<i.state.wrap&&0!==e[i.next_in];)ur.inflateReset(i),t=ur.inflate(i,n);switch(t){case _r:case kr:case mr:case wr:return this.onEnd(t),this.ended=!0,!1}if(r=i.avail_out,i.next_out&&(0===i.avail_out||t===pr))if("string"===this.options.to){let e=xn.utf8border(i.output,i.next_out),t=i.next_out-e,n=xn.buf2string(i.output,e);i.next_out=t,i.avail_out=o-t,t&&i.output.set(i.output.subarray(e,e+t),0),this.onData(n)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(t!==hr||0!==r){if(t===pr){t=ur.inflateEnd(this.strm),this.onEnd(t),this.ended=!0;break}if(0===i.avail_in)break}}return!0},B.prototype.onData=function(e){this.chunks.push(e)},B.prototype.onEnd=function(e){e===hr&&(this.result="string"===this.options.to?this.chunks.join(""):Tn.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var br={Inflate:B,inflate:L,inflateRaw:function(e,t){return(t=t||{}).raw=!0,L(e,t)},ungzip:L,constants:Dt};let{Deflate:yr,deflate:Tr,deflateRaw:Cr,gzip:Er}=Un,{Inflate:xr,inflate:Ar,inflateRaw:Sr,ungzip:Rr}=br;var Or,Ir,Pr={Deflate:yr,deflate:Tr,deflateRaw:Cr,gzip:Er,Inflate:xr,inflate:Ar,inflateRaw:Sr,ungzip:Rr,constants:Dt};!function(e){e.response_body="rsb",e.request_body="rqb",e.response_headers="rsh",e.request_headers="rqh"}(Or||(Or={})),function(e){var t;e.TRACEPARENT_HEADER_KEY="traceparent",(t=e.CONFIG_PREFERENCES||(e.CONFIG_PREFERENCES={}))[t.APP=0]="APP",t[t.REMOTE=1]="REMOTE",t[t.MERGE=2]="MERGE",function(e){e[e.DISABLED=0]="DISABLED",e[e.PERFORMANCE_TIMING=1]="PERFORMANCE_TIMING",e[e.PERFORMANCE_NAVIGATION_TIMING=2]="PERFORMANCE_NAVIGATION_TIMING"}(e.PERFORMANCE_CONTEXT||(e.PERFORMANCE_CONTEXT={})),e.REMOTE_CONFIG_STORAGE_KEY="ConvivaRemoteConfig",e.END_POINT_STORAGE_KEY="ConvivaEndpoint",e.DEFAULT_END_POINT="https://appgw.conviva.com",e.REMOTE_CONFIG_URL_PREFIX="https://rc.conviva.com/js/",e.REMOTE_CONFIG_FILE_NAME="/remote_config.json"}(Ir||(Ir={}));var Nr,zr={};!function(e){e[e.APP=0]="APP",e[e.REMOTE=1]="REMOTE",e[e.MERGE=2]="MERGE"}(Nr||(Nr={}));var Dr,Br,Lr={},Ur=function(){this.outQueues=[],this.bufferFlushers=[],this.hasLoaded=!1,this.registeredOnLoadHandlers=[]},jr="undefined"!=typeof window?ue():void 0,Fr=Object.freeze({__proto__:null,addGlobalContexts:function(e,t){se(t,(function(t){t.core.addGlobalContexts(e)}))},addPlugin:function(e,t){se(t,(function(t){t.addPlugin(e)}))},clearGlobalContexts:function(e){se(e,(function(e){e.core.clearGlobalContexts()}))},clearUserData:function(e,t){se(t,(function(t){t.clearUserData(e)}))},convivaAppTracker:function(e){void 0===e&&(e={});try{if(jr)return le("CAT","CAT","js-".concat("0.6.8"),"",jr,e)}catch(e){console.warn("Conviva App Tracker:: Initialisation failed! "+e)}},crossDomainLinker:function(e,t){se(t,(function(t){t.crossDomainLinker(e)}))},disableAnonymousTracking:function(e,t){se(t,(function(t){t.disableAnonymousTracking(e)}))},discardBrace:function(e,t){se(t,(function(t){t.discardBrace(e)}))},discardHashTag:function(e,t){se(t,(function(t){t.discardHashTag(e)}))},enableActivityTracking:function(e,t){se(t,(function(t){t.enableActivityTracking(e)}))},enableActivityTrackingCallback:function(e,t){se(t,(function(t){t.enableActivityTrackingCallback(e)}))},enableAnonymousTracking:function(e,t){se(t,(function(t){t.enableAnonymousTracking(e)}))},flushBuffer:function(e,t){se(t,(function(t){t.flushBuffer(e)}))},newSession:function(e){se(e,(function(e){e.newSession()}))},newTracker:function(e,t,n){if(void 0===n&&(n={}),jr)return le(e,e,"js-".concat("0.6.8"),t,jr,n)},preservePageViewId:function(e){se(e,(function(e){e.preservePageViewId()}))},removeGlobalContexts:function(e,t){se(t,(function(t){t.core.removeGlobalContexts(e)}))},setBufferSize:function(e,t){se(t,(function(t){t.setBufferSize(e)}))},setCollectorUrl:function(e,t){se(t,(function(t){t.setCollectorUrl(e)}))},setCookiePath:function(e,t){se(t,(function(t){t.setCookiePath(e)}))},setCustomTags:function(e,t){se(t,(function(t){try{t.setCustomTags(e)}catch(e){console.warn("Conviva App Tracker:: Unable to set custom tags data!")}}))},setCustomUrl:function(e,t){se(t,(function(t){t.setCustomUrl(e)}))},setDocumentTitle:function(e,t){se(t,(function(t){t.setDocumentTitle(e)}))},setOptOutCookie:function(e,t){se(t,(function(t){t.setOptOutCookie(e)}))},setReferrerUrl:function(e,t){se(t,(function(t){t.setReferrerUrl(e)}))},setUserId:function(e,t){se(t,(function(t){t.setUserId(e)}))},setUserIdFromCookie:function(e,t){se(t,(function(t){t.setUserIdFromCookie(e)}))},setUserIdFromLocation:function(e,t){se(t,(function(t){t.setUserIdFromLocation(e)}))},setUserIdFromReferrer:function(e,t){se(t,(function(t){t.setUserIdFromReferrer(e)}))},setVisitorCookieTimeout:function(e,t){se(t,(function(t){t.setVisitorCookieTimeout(e)}))},trackCustomEvent:function(e,t){se(t,(function(t){try{t.trackCustomEvent(e)}catch(e){console.warn("Conviva App Tracker:: Unable to track custom event! "+e)}}))},trackPageView:function(e,t){se(t,(function(t){t.trackPageView(e)}))},trackSelfDescribingEvent:function(e,t){se(t,(function(t){t.core.track(C({event:e.event}),e.context,e.timestamp)}))},trackStructEvent:function(e,t){se(t,(function(t){var r=(t=t.core).track,i=e.category,o=e.action,a=e.label,s=e.property,l=e.value,c=n();c.add("e","se"),c.add("se_ca",i),c.add("se_ac",o),c.add("se_la",a),c.add("se_pr",s),c.add("se_va",null==l?void 0:l.toString()),r.call(t,c,e.context,e.timestamp)}))},unsetCustomTags:function(e,t){se(t,(function(t){try{t.unsetCustomTags(e)}catch(e){console.warn("Conviva App Tracker:: Unable to set custom tags data!")}}))},updatePageActivity:function(e){se(e,(function(e){e.updatePageActivity()}))},version:"0.6.8"}),Mr=Object.freeze({__proto__:null,PerformanceTimingPlugin:de}),qr={},Hr={},Gr={},Zr=!1,Vr=!1,Jr=Object.freeze({__proto__:null,LinkClickTrackingPlugin:fe,enableButtonClickTracking:function(e,t){if(void 0===e&&(e={}),void 0===t&&(t=Object.keys(qr)),Vr=!0,!Zr)try{var n=document.body;new MutationObserver(we).observe(n,{childList:!0,subtree:!0})}catch(e){console.log("exception",e)}t.forEach((function(t){try{qr[t]&&(qr[t].sharedState.hasLoaded?(_e(e,t),be(t)):qr[t].sharedState.registeredOnLoadHandlers.push((function(){_e(e,t),be(t)})))}catch(e){console.warn("Conviva App Tracker caused Exception in enableButtonClickTracking method in click tracking Plugin",e)}}))},enableLinkClickTracking:function(e,t){if(void 0===e&&(e={}),void 0===t&&(t=Object.keys(qr)),Zr=!0,!Vr)try{var n=document.body;new MutationObserver(we).observe(n,{childList:!0,subtree:!0})}catch(e){}t.forEach((function(t){try{qr[t]&&(qr[t].sharedState.hasLoaded?(me(e,t),ke(t)):qr[t].sharedState.registeredOnLoadHandlers.push((function(){me(e,t),ke(t)})))}catch(e){console.warn("Conviva App Tracker caused Exception in enableLinkClickTracking method in click tracking Plugin",e)}}))},refreshButtonClickTracking:function(e){void 0===e&&(e=Object.keys(qr)),e.forEach((function(e){qr[e]&&(qr[e].sharedState.hasLoaded?be(e):qr[e].sharedState.registeredOnLoadHandlers.push((function(){be(e)})))}))},refreshLinkClickTracking:function(e){void 0===e&&(e=Object.keys(qr)),e.forEach((function(e){qr[e]&&(qr[e].sharedState.hasLoaded?ke(e):qr[e].sharedState.registeredOnLoadHandlers.push((function(){ke(e)})))}))},trackButtonClick:function(e,t){void 0===t&&(t=Object.keys(qr));for(var n=0;n<t.length;n++){var r=t[n];if(qr.hasOwnProperty(r)){var i=e;(r=qr[r]).core.getConfig().buttonClickTracking&&r.core.track(x(i),s(void 0,void 0))}}},trackLinkClick:function(e,t){void 0===t&&(t=Object.keys(qr));for(var n=0;n<t.length;n++){var r=t[n];if(qr.hasOwnProperty(r)){var i=e;(r=qr[r]).core.getConfig().linkClickTracking&&r.core.track(E(i),s(void 0,void 0))}}}});!function(e){e.CHANGE_FORM="change_form",e.FOCUS_FORM="focus_form",e.SUBMIT_FORM="submit_form"}(Br||(Br={}));var Kr=[Br.CHANGE_FORM,Br.FOCUS_FORM,Br.SUBMIT_FORM],Yr=["textarea","input","select"],Xr=function(e){return e},Qr={},Wr=Object.freeze({__proto__:null,FormTrackingPlugin:xe,enableFormTracking:function(e,t){void 0===e&&(e={}),void 0===t&&(t=Object.keys(Qr)),t.forEach((function(t){Qr[t]&&(Qr[t].sharedState.hasLoaded?ye(Qr[t],e):Qr[t].sharedState.registeredOnLoadHandlers.push((function(){ye(Qr[t],e)})))}))}}),$r={},ei=Object.freeze({__proto__:null,ErrorTrackingPlugin:Ae,enableErrorTracking:function(e,t){void 0===e&&(e={}),void 0===t&&(t=Object.keys($r));try{var n=e.filter,r=e.contextAdder,i=e.context;G(window,"error",(function(e){try{if(n&&j(n)&&n(e)||null==n){var o=t,a=i||[];r&&j(r)&&(a=a.concat(r(e))),Se({message:e.message,filename:e.filename,lineno:e.lineno,colno:e.colno,error:e.error,context:a},o)}}catch(e){console.warn("Conviva App Tracker caused Exception in enableErrorTracking callback of error tracking Plugin",e)}}),!0)}catch(e){console.warn("Conviva App Tracker caused Exception in enableErrorTracking method of error tracking Plugin",e)}},trackError:Se}),ti=window.GlobalSnowplowNamespace.shift(),ni=window[ti];ni.q=function(t,n){function r(e){var t=e.split(":");return[e=t[0],t=1<t.length?t[1].split(";"):void 0]}function i(e,t){if(_[e])try{_[e].apply(null,t)}catch(t){Xe.error(e+" failed",t)}else Xe.warn(e+" is not an available function")}function o(e){_=Oe(Oe({},_),e)}function a(e){if("string"!=typeof e[0]||"string"!=typeof e[1]||void 0!==e[2]&&"object"!=typeof e[2])Xe.error("newTracker failed",Error("Invalid parameters"));else{var n="".concat(t,"_").concat(e[0]),r=e[2],i=Re(r);(n=le(n,e[0],"js-".concat(m),e[1],v,Oe(Oe({},r),{plugins:i.map((function(e){return e[0]}))})))?(g.push(n.id),i.forEach((function(e){o(e[1])}))):Xe.warn(e[0]+" already exists")}}function s(e){try{if("object"==typeof e[0]&&null!==e[0]){var t=e[0],n=Re(t),r=le("CAT","CAT","js-".concat(m),"",v,Oe(Oe({},t),{plugins:n.map((function(e){return e[0]}))}));r?(g.push(r.id),n.forEach((function(e){o(e[1])}))):Xe.warn("CAT already exists")}else Xe.error("convivaAppTracker failed",Error("Invalid parameters"))}catch(e){console.warn("convivaAppTracker failed "+e)}}function l(t,n){function r(e){Object.prototype.hasOwnProperty.call(h,e)&&(u.clearTimeout(h[e].timeout),delete h[e],0===Object.keys(h).length&&p.forEach((function(e){var t=e[1];void 0!==_[e[0]]&&_[e[0]].length>t.length&&Array.isArray(t[0])&&(t=[{},t[0]]),i(e[0],t)})))}var a;if("string"==typeof t[0]&&d(t[1])&&(void 0===t[2]||Array.isArray(t[2]))){var s=t[0],l=t[1],c=t[2];(null===(a=t[3])||void 0===a||a)&&(a=u.setTimeout((function(){r(s)}),5e3),h[s]={timeout:a}),(a=f.createElement("script")).setAttribute("src",s),a.setAttribute("async","1"),G(a,"error",(function(){r(s),Xe.warn("Failed to load plugin ".concat(l[0]," from ").concat(s))}),!0),G(a,"load",(function(){var t=l[1],i=u[l[0]];if(i&&"object"==typeof i){var a=i[t];t=e(i,["symbol"==typeof t?t:t+""]),_.addPlugin.apply(null,[{plugin:a.apply(null,c)},n]),o(t)}r(s)}),!0),f.head.appendChild(a)}else{if("object"==typeof t[0]&&"string"==typeof t[1]&&(void 0===t[2]||Array.isArray(t[2]))){var v=t[0],g=t[1];if(a=t[2],v)return t=v[g],v=e(v,["symbol"==typeof g?g:g+""]),_.addPlugin.apply(null,[{plugin:t.apply(null,a)},n]),void o(v)}Xe.warn("Failed to add Plugin: ".concat(t[1]))}}function c(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(n=0;n<e.length;n+=1){var o=e[n],c=Array.prototype.shift.call(o);if(j(c))try{for(var u={},d=0,f=ce(g,Lr);d<f.length;d++){var v=f[d];u[v.id.replace("".concat(t,"_"),"")]=v}c.apply(u,o)}catch(e){Xe.error("Tracker callback failed",e)}finally{continue}c=(u=r(c))[0],u=u[1],"newTracker"===c?a(o):"convivaAppTracker"===c?s(o):(u=u?u.map((function(e){return"".concat(t,"_").concat(e)})):g,"addPlugin"===c?l(o,u):(d=void 0,d=0<o.length?[o[0],u]:void 0!==_[c]&&2===_[c].length?[{},u]:[u],0<Object.keys(h).length?p.push([c,d]):i(c,d)))}}for(var u=window,f=document,v=ue(),g=[],h={},p=[],m="0.6.8",_=e(Fr,["version"]),k=0;k<n.length;k++)c(n[k]);return{push:c}}(ti,ni.q)}();
//# sourceMappingURL=sp.js.map
