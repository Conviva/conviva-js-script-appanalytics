/*!
 * Web analytics for Snowplow v0.6.16 (http://bit.ly/sp-js)
 * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
 * Licensed under BSD-3-Clause
 */

"use strict";!function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){var n,r={};for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function n(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function r(){var e,t={},n=[],r=[],i=[],a=function(e,n){null!=n&&""!==n&&(t[e]=n)};return{add:a,addDict:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a(t,e[t])},addJson:function(e,t,i){i&&o(i)&&(e={keyIfEncoded:e,keyIfNotEncoded:t,json:i},r.push(e),n.push(e))},addContextEntity:function(e){i.push(e)},getPayload:function(){return t},getJson:function(){return n},withJsonProcessor:function(t){e=t},build:function(){return null==e||e(this,r,i),t}}}function i(e){return function(t,r,i){for(var o=function(n,r,i){if(n=JSON.stringify(n),e){if(i=t.add,n){var o=0,a=0,c=[];if(n){n=unescape(encodeURIComponent(n));do{var s=n.charCodeAt(o++),l=n.charCodeAt(o++),u=n.charCodeAt(o++),d=s<<16|l<<8|u;s=d>>18&63,l=d>>12&63,u=d>>6&63,d&=63,c[a++]=Qe.charAt(s)+Qe.charAt(l)+Qe.charAt(u)+Qe.charAt(d)}while(o<n.length);o=c.join(""),n=((n=n.length%3)?o.slice(0,n-3):o)+"===".slice(n||3)}n=n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}i.call(t,r,n)}else t.add(i,n)},a=function(n,r){if(!n){var i=t.getPayload();if(e?i.cx:i.co){var o=(n=JSON).parse;if(e){if(i=i.cx){switch(4-i.length%4){case 2:i+="==";break;case 3:i+="="}i=function(e){var t,n=0,r=0,i="",o=[];if(!e)return e;e+="";do{var a=Qe.indexOf(e.charAt(n++)),c=Qe.indexOf(e.charAt(n++));i=Qe.indexOf(e.charAt(n++));var s=Qe.indexOf(e.charAt(n++)),l=a<<18|c<<12|i<<6|s;a=l>>16&255,c=l>>8&255,l&=255,o[r++]=64===i?String.fromCharCode(a):64===s?String.fromCharCode(a,c):String.fromCharCode(a,c,l)}while(n<e.length);return i=o.join(""),t=i.replace(/\0+$/,""),decodeURIComponent(t.split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}(i=i.replace(/-/g,"+").replace(/_/g,"/"))}}else i=i.co;n=o.call(n,i)}else n=void 0}return n?n.dt=n.dt.concat(r.dt):n=r,n},c=void 0,s=0;s<r.length;s++){var l=r[s];"cx"===l.keyIfEncoded?c=a(c,l.json):o(l.json,l.keyIfEncoded,l.keyIfNotEncoded)}r.length=0,i.length&&(c=a(c,r={sc:"sp/ctx/1-0-0",dt:n([],i,!0)}),i.length=0),c&&o(c,"cx","co")}}function o(e){if(!a(e))return!1;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}function a(e){return null!=e&&(e.constructor==={}.constructor||e.constructor===[].constructor)}function c(){var t=[],n=[];return{getGlobalPrimitives:function(){return t},getConditionalProviders:function(){return n},addGlobalContexts:function(e){for(var r=[],i=[],o=0;o<e.length;o++){var a=e[o];w(a)?r.push(a):p(a)&&i.push(a)}t=t.concat(i),n=n.concat(r)},clearGlobalContexts:function(){n=[],t=[]},removeGlobalContexts:function(e){for(var r=function(e){w(e)?n=n.filter((function(t){return JSON.stringify(t)!==JSON.stringify(e)})):p(e)&&(t=t.filter((function(t){return JSON.stringify(t)!==JSON.stringify(e)})))},i=0;i<e.length;i++)r(e[i])},getApplicableContexts:function(r){e:{for(var i=0,o=r.getJson();i<o.length;i++){var a=o[i];if("ue_px"===a.keyIfEncoded&&"object"===e(a.json.data)&&"string"==typeof(a=a.json.data.schema)){i=a;break e}}i=""}a="string"==typeof(o=r.getPayload().e)?o:"",o=[];var c=T(t,r,a,i);return o.push.apply(o,c),r=function(e,t,n,r){var i;return e=y(e).map((function(e){e:{if(m(e)){var i=e[0],o=!1;try{o=i({event:t.getPayload(),eventType:n,eventSchema:r})}catch(e){o=!1}if(!0===o){e=T(e[1],t,n,r);break e}}else if(_(e)&&function(e,t){var n=0,r=0,i=e.accept;return Array.isArray(i)?e.accept.some((function(e){return k(e,t)}))&&r++:"string"==typeof i&&k(i,t)&&r++,i=e.reject,Array.isArray(i)?e.reject.some((function(e){return k(e,t)}))&&n++:"string"==typeof i&&k(i,t)&&n++,0<r&&0===n}(e[0],r)){e=T(e[1],t,n,r);break e}e=[]}if(e&&0!==e.length)return e})),(i=[]).concat.apply(i,e.filter((function(e){return null!=e&&e.filter(Boolean)})))}(n,r,a,i),o.push.apply(o,r),o}}}function s(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return null!==(t=null==e?void 0:e.map((function(e){if("function"!=typeof e)return e;try{return e.apply(void 0,n)}catch(e){}})).filter(Boolean))&&void 0!==t?t:[]}function l(e){return!!((e=e.split("."))&&1<e.length)&&function(e){if("*"===e[0]||"*"===e[1])return!1;if(0<e.slice(2).length){var t=!1,n=0;for(e=e.slice(2);n<e.length;n++)if("*"===e[n])t=!0;else if(t)return!1;return!0}return 2==e.length}(e)}function u(e){if(null!==(e=/^iglu:((?:(?:[a-zA-Z0-9-_]+|\*).)+(?:[a-zA-Z0-9-_]+|\*))\/([a-zA-Z0-9-_.]+|\*)\/jsonschema\/([1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)$/.exec(e))&&l(e[1]))return e.slice(1,6)}function d(e){if(e=u(e)){var t=e[0];return 5===e.length&&l(t)}return!1}function f(e){return Array.isArray(e)&&e.every((function(e){return"string"==typeof e}))}function v(e){return f(e)?e.every((function(e){return d(e)})):"string"==typeof e&&d(e)}function g(t){return!!(o(t)&&"schema"in t&&"data"in t)&&("string"==typeof t.sc&&"object"===e(t.dt))}function h(e){return"function"==typeof e&&1>=e.length}function p(e){return h(e)||g(e)}function m(e){return!(!Array.isArray(e)||2!==e.length)&&(Array.isArray(e[1])?h(e[0])&&e[1].every(p):h(e[0])&&p(e[1]))}function _(t){return!(!Array.isArray(t)||2!==t.length)&&(!!function(t){var n=0;if(null!=t&&"object"===e(t)&&!Array.isArray(t)){if(Object.prototype.hasOwnProperty.call(t,"accept")){if(!v(t.accept))return!1;n+=1}if(Object.prototype.hasOwnProperty.call(t,"reject")){if(!v(t.reject))return!1;n+=1}return 0<n&&2>=n}return!1}(t[0])&&(Array.isArray(t[1])?t[1].every(p):p(t[1])))}function w(e){return m(e)||_(e)}function k(e,t){if(!d(e))return!1;if(e=u(e),t=null!==(t=/^iglu:([a-zA-Z0-9-_.]+)\/([a-zA-Z0-9-_]+)\/jsonschema\/([1-9][0-9]*)-(0|[1-9][0-9]*)-(0|[1-9][0-9]*)$/.exec(t))?t.slice(1,6):void 0,e&&t){if(!function(e,t){if(t=t.split("."),e=e.split("."),t&&e){if(t.length!==e.length)return!1;for(var n=0;n<e.length;n++)if(!b(t[n],e[n]))return!1;return!0}return!1}(e[0],t[0]))return!1;for(var n=1;5>n;n++)if(!b(e[n],t[n]))return!1;return!0}return!1}function b(e,t){return e&&t&&"*"===e||e===t}function y(e){return Array.isArray(e)?e:[e]}function T(e,t,n,r){var i;return e=y(e).map((function(e){e:if(g(e))e=[e];else{if(h(e)){t:{var i=void 0;try{if(i=e({event:t.getPayload(),eventType:n,eventSchema:r}),Array.isArray(i)&&i.every(g)||g(i)){var o=i;break t}o=void 0;break t}catch(e){}o=void 0}if(g(o)){e=[o];break e}if(Array.isArray(o)){e=o;break e}}e=void 0}if(e&&0!==e.length)return e})),(i=[]).concat.apply(i,e.filter((function(e){return null!=e&&e.filter(Boolean)})))}function C(e){void 0===e&&(e={});var t,r,o,s,l,u,d,f=e.base64,v=e.corePlugins,g=null!=v?v:[];t=null==f||f,r=g,o=e.callback,s=function(e){return{addPluginContexts:function(t){var r=t?n([],t,!0):[];return e.forEach((function(e){try{e.contexts&&r.push.apply(r,e.contexts())}catch(e){$e.error("Error adding plugin contexts",e)}})),r}}}(r),l=c(),u=t,d={};var h=De(De({},f={track:function(e,t,n){e.withJsonProcessor(i(u)),e.add("eid",Xe.v4()),e.addDict(d),n=function(e){return null==e?{type:"dtm",value:(new Date).getTime()}:"number"==typeof e?{type:"dtm",value:e}:"ttm"===e.type?{type:"ttm",value:e.value}:{type:"dtm",value:e.value||(new Date).getTime()}}(n),e.add(n.type,n.value.toString()),t=function(e,t){e=l.getApplicableContexts(e);var n=[];return t&&t.length&&n.push.apply(n,t),e&&e.length&&n.push.apply(n,e),n}(e,s.addPluginContexts(t)),void 0!==(t=t&&t.length?{sc:"sp/ctx/1-0-0",dt:t}:void 0)&&e.addJson("cx","co",t),r.forEach((function(t){try{t.beforeTrack&&t.beforeTrack(e)}catch(e){$e.error("Plugin beforeTrack",e)}})),"function"==typeof o&&o(e);var a=e.build();return r.forEach((function(e){try{e.afterTrack&&e.afterTrack(a)}catch(e){$e.error("Plugin afterTrack",e)}})),a},addPayloadPair:function(e,t){d[e]=t},configuration:e,getConfig:function(){return e},setConfig:function(t){t&&(void 0!==t.base64&&(u=e.base64=t.base64),void 0!==t.linkClickTracking&&(e.linkClickTracking=t.linkClickTracking),void 0!==t.lifecycleAutotracking&&(e.lifecycleAutotracking=t.lifecycleAutotracking),void 0!==t.cacheRefreshInterval&&(e.cacheRefreshInterval=t.cacheRefreshInterval),void 0!==t.buttonClickTracking&&(e.buttonClickTracking=t.buttonClickTracking),void 0!==t.exceptionAutotracking&&(e.exceptionAutotracking=t.exceptionAutotracking),void 0!==t.enablePeriodicHeartbeat&&(e.enablePeriodicHeartbeat=t.enablePeriodicHeartbeat),void 0!==t.periodicHeartbeatInterval&&(e.periodicHeartbeatInterval=t.periodicHeartbeatInterval),void 0!==t.enc&&(e.enc=t.enc),void 0!==t.mend&&(e.mend=t.mend),void 0!==t.maxLocalStorageQueueSize&&(e.maxLocalStorageQueueSize=t.maxLocalStorageQueueSize),void 0!==t.maxGetBytes&&(e.maxGetBytes=t.maxGetBytes),void 0!==t.bufferSize&&(e.bufferSize=t.bufferSize),void 0!==t.customEventTrackingConfiguration&&(e.customEventTrackingConfiguration=t.customEventTrackingConfiguration),void 0!==t.ajaxTrackingConfiguration&&(e.ajaxTrackingConfiguration=t.ajaxTrackingConfiguration),void 0!==t.networkRequestTrackingConfiguration&&(e.networkRequestTrackingConfiguration=t.networkRequestTrackingConfiguration),void 0!==t.traceparentconfig&&(e.traceparentconfig=t.traceparentconfig),void 0!==t.metaTagsTrackingConfiguration&&(e.metaTagsTrackingConfiguration=t.metaTagsTrackingConfiguration),void 0!==t.performanceContextConfig&&(e.performanceContextConfig=t.performanceContextConfig),void 0!==t.configurationVersion&&(e.configurationVersion=t.configurationVersion),void 0!==t.catRcLastUpdatedTs&&(e.catRcLastUpdatedTs=t.catRcLastUpdatedTs),void 0!==t.endpoint&&(e.endpoint=t.endpoint),void 0!==t.emitterConfiguration&&(e.emitterConfiguration=t.emitterConfiguration))},getBase64Encoding:function(){return u},setBase64Encoding:function(e){u=e},addPayloadDict:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(d[t]=e[t])},resetPayloadPairs:function(e){d=a(e)?e:{}},setTrackerVersion:function(e){d.tv=e},setTrackerNamespace:function(e){d.tna=e},setAppId:function(e){d.aid=e},setPlatform:function(e){d.p=e},setUserId:function(e){d.uid=e},setScreenResolution:function(e,t){d.res=e+"x"+t},setViewport:function(e,t){d.vp=e+"x"+t},setColorDepth:function(e){d.cd=e},setTimezone:function(e){d.tz=e},setLang:function(e){d.lang=e},setIpAddress:function(e){d.ip=e},setUseragent:function(e){d.ua=e},addGlobalContexts:function(e){l.addGlobalContexts(e)},clearGlobalContexts:function(){l.clearGlobalContexts()},removeGlobalContexts:function(e){l.removeGlobalContexts(e)}}),{addPlugin:function(e){var t,n;e=e.plugin,g.push(e),null===(t=e.logger)||void 0===t||t.call(e,$e),null===(n=e.activateCorePlugin)||void 0===n||n.call(e,h)}});return null==g||g.forEach((function(e){var t,n;null===(t=e.logger)||void 0===t||t.call(e,$e),null===(n=e.activateCorePlugin)||void 0===n||n.call(e,h)})),h}function E(e){var t=e.event;return e={sc:"sp/ue/1-0-0",dt:{sc:e=t.sc,dt:t.dt}},(t=r()).add("e","ue"),t.addJson("ue_px","ue_pr",e),t}function A(e){return E({event:e={sc:"sp/lc/1-0-1",dt:S({targetUrl:e.targetUrl,elementId:e.elementId,elementClasses:e.elementClasses,elementTarget:e.elementTarget,elementContent:e.elementContent})}})}function x(e){return E({event:e={sc:"cv/bc/1-0-0",dt:S({elementType:e.elementType,elementId:e.elementId,elementClasses:e.elementClasses,elementName:e.elementName,elementText:e.elementText,elementValue:e.elementValue})}})}function S(e,t){void 0===t&&(t={});var n,r={};for(n in e)(t[n]||null!==e[n]&&void 0!==e[n])&&(r[n]=e[n]);return r}function R(e){for(var t=e.length;0<=--t;)e[t]=0}function O(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function I(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function N(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function D(){this.strm=null,this.status=0,this.pending_buf=null,this.wrap=this.pending=this.pending_out=this.pending_buf_size=0,this.gzhead=null,this.gzindex=0,this.method=nn,this.last_flush=-1,this.w_mask=this.w_bits=this.w_size=0,this.window=null,this.window_size=0,this.head=this.prev=null,this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),on(this.dyn_ltree),on(this.dyn_dtree),on(this.bl_tree),this.bl_desc=this.d_desc=this.l_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),on(this.heap),this.heap_max=this.heap_len=0,this.depth=new Uint16Array(573),on(this.depth),this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.sym_end=this.sym_next=this.lit_bufsize=this.sym_buf=0}function P(e){(e=this.options=Tn.assign({level:zn,method:Un,chunkSize:16384,windowBits:15,memLevel:8,strategy:Bn},e||{})).raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&16>e.windowBits&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Sn,this.strm.avail_out=0;var t=yn.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(t!==Pn)throw Error(zt[t]);if(e.header&&yn.deflateSetHeader(this.strm,e.header),e.dictionary){if(e="string"==typeof e.dictionary?xn.string2buf(e.dictionary):"[object ArrayBuffer]"===Rn.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(t=yn.deflateSetDictionary(this.strm,e))!==Pn)throw Error(zt[t]);this._dict_set=!0}}function L(e,t){if((t=new P(t)).push(e,!0),t.err)throw t.msg||zt[t.err];return t.result}function z(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.total=this.check=this.dmax=this.flags=0,this.head=null,this.wnext=this.whave=this.wsize=this.wbits=0,this.window=null,this.extra=this.offset=this.length=this.bits=this.hold=0,this.distcode=this.lencode=null,this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.distdyn=this.lendyn=null,this.was=this.back=this.sane=0}function B(e){var t=this.options=Tn.assign({chunkSize:65536,windowBits:15,to:""},e||{});if(t.raw&&0<=t.windowBits&&16>t.windowBits&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&16>t.windowBits)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&48>t.windowBits&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Sn,this.strm.avail_out=0,(e=dr.inflateInit2(this.strm,t.windowBits))!==pr)throw Error(zt[e]);if(this.header=new fr,dr.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=xn.string2buf(t.dictionary):"[object ArrayBuffer]"===vr.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=dr.inflateSetDictionary(this.strm,t.dictionary))!==pr))throw Error(zt[e])}function U(e,t){if((t=new B(t)).push(e),t.err)throw t.msg||zt[t.err];return t.result}function M(e){return Number.isInteger&&Number.isInteger(e)||"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function F(e){return!(!e||"function"!=typeof e)}function j(e){if(!e||"string"!=typeof e.valueOf()){e=e.text||"";var t=document.getElementsByTagName("title");t&&null!=t[0]&&(e=t[0].text)}return e}function H(e){var t=/^(?:(?:https?|ftp):)\/*(?:[^@]+@)?([^:/#]+)/.exec(e);return t?t[1]:e}function q(e){var t=e.length;return"."===e.charAt(--t)&&(e=e.slice(0,t)),"*."===e.slice(0,2)&&(e=e.slice(1)),e}function G(e){var t=window,n=Z("referrer",t.location.href)||Z("referer",t.location.href);if(n)return n;if(e)return e;try{if(t.top)return t.top.document.referrer;if(t.parent)return t.parent.document.referrer}catch(e){}return document.referrer}function V(e,t,n,r){return e.addEventListener?(e.addEventListener(t,n,r),!0):e.attachEvent?e.attachEvent("on"+t,n):void(e["on"+t]=n)}function Z(e,t){return(e=new RegExp("^[^#]*[?&]"+e+"=([^&#]*)").exec(t))?decodeURIComponent(e[1].replace(/\+/g," ")):null}function K(e,t,n){void 0===n&&(n=63072e3);try{var r=window.localStorage,i=Date.now()+1e3*n;return r.setItem("".concat(e,".expires"),i.toString()),r.setItem(e,t),!0}catch(e){return!1}}function J(e){try{var t=window.localStorage;return t.removeItem(e),t.removeItem(e+".expires"),!0}catch(e){return!1}}function Y(e,t,n,r,i,o,a){return 1<arguments.length?document.cookie=e+"="+encodeURIComponent(null!=t?t:"")+(n?"; Expires="+new Date(+new Date+1e3*n).toUTCString():"")+(r?"; Path="+r:"")+(i?"; Domain="+i:"")+(o?"; SameSite="+o:"")+(a?"; Secure":""):decodeURIComponent((("; "+document.cookie).split("; "+e+"=")[1]||"").split(";")[0])}function X(t){if(null==t||"object"!==e(t)||Array.isArray(t))return function(){return!0};var n=Object.prototype.hasOwnProperty.call(t,"allowlist"),r=ee(t);return $(t,(function(e){e:{var t=0;for(e=W(e);t<e.length;t++)if(r[e[t]]){t=!0;break e}t=!1}return t===n}))}function Q(t){if(null==t||"object"!==e(t)||Array.isArray(t))return function(){return!0};var n=t.hasOwnProperty("allowlist"),r=ee(t);return $(t,(function(e){return e.name in r===n}))}function W(e){return e.className.match(/\S+/g)||[]}function $(e,t){return e.hasOwnProperty("filter")&&e.filter?e.filter:t}function ee(e){var t={};if(e=e.allowlist||e.denylist){Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++)t[e[n]]=!0}return t}function te(e){try{var t=null===window||void 0===window?void 0:window.localStorage;return!!t&&(t.removeItem(e),!0)}catch(e){return!1}}function ne(e,t,n){try{if("string"==typeof n&&"string"==typeof e&&"*"===n.trim())return!0;switch(t){case"==":case"equal":return e===n;case"!=":return e!==n;case">":return e>n;case"<":return e<n;case">=":return e>=n;case"<=":return e<=n;case"contains":return""!==n&&"string"==typeof e&&"string"==typeof n&&-1!==e.toLowerCase().indexOf(n.toLowerCase());default:return!1}}catch(e){return console.warn("Conviva App Tracker: Error in Compare values nwreq ".concat(e)),!1}}function re(t,n,r,i,o,a,c,s,l,u,d,f,v,g,h,p,m,_){function w(e){var t=Object.keys(e).map((function(t){return[t,e[t]]})).reduce((function(e,t){return e[t[0]]=t[1].toString(),e}),{});return{evt:t,bytes:k(JSON.stringify(t))}}function k(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);127>=r?t+=1:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,n++):t=65535>r?t+3:t+4}return t}function b(e,t){t=T(t,!0,!1),e=C(E([e.evt]));try{"none"!==h().toLowerCase()&&(e=Cr.gzip(e,{level:6}),t.setRequestHeader("Content-Encoding","gzip"))}catch(e){}t.send(e)}function y(t){for(void 0===t&&(t=!1);N.length&&"string"!=typeof N[0]&&"object"!==e(N[0]);)N.shift();if(1>N.length)I=!1;else{if(!x||"string"!=typeof x.valueOf())throw"No collector configured";if(I=!0,window.clearTimeout(D),D=-1,z){var n=function(e){for(var t=0,n=0;t<e.length&&!((n+=e[t].bytes)>=m());)t+=1;return t},i=void 0;if("object"===e(N[0]))var o=T(i=x,!0,t),a=n(N);else i=A(N[0]),o=T(i,!1,t),a=1;var c=setTimeout((function(){o.abort(),I=!1}),u),s=function(e){for(var t=0;t<e;t++)N.shift();r&&K(M,JSON.stringify(N.slice(-1*l())))};if(o.onreadystatechange=function(){4===o.readyState&&(clearTimeout(c),200<=o.status&&300>o.status?(s(a),y()):($e.error("Status ".concat(o.status,", will not retry.")),s(a),I=!1))},"object"!==e(N[0]))o.send();else if(0<(n=N.slice(0,a)).length){if(t=!1,n=n.map((function(e){return e.evt})),L){var f=new Blob([C(E(n))],{type:"application/json"});try{t=navigator.sendBeacon(i,f)}catch(e){t=!1}}if(!0===t)s(a),y();else{i=C(E(n));try{"none"!==h().toLowerCase()&&(i=Cr.gzip(i,{level:6}),o.setRequestHeader("Content-Encoding","gzip"))}catch(e){}try{o.send(i)}catch(e){}}}}else if(d||"object"===e(N[0]))I=!1;else{i=new Image(1,1);var v=!0;i.onload=function(){v&&(v=!1,N.shift(),r&&K(M,JSON.stringify(N.slice(-1*l()))),y())},i.onerror=function(){v&&(I=v=!1)},i.src=A(N[0]),setTimeout((function(){v&&I&&(v=!1,y())}),u)}}}function T(e,t,n){var r=new XMLHttpRequest;for(var i in t?(r.open("POST",e,!n),r.setRequestHeader("Content-Type","application/json; charset=UTF-8")):r.open("GET",e,!n),r.withCredentials=v,d&&r.setRequestHeader("SP-Anonymous","*"),f)Object.prototype.hasOwnProperty.call(f,i)&&r.setRequestHeader(i,f[i]);return r}function C(e){return JSON.stringify({sc:"sp/pd/1-0-4",dt:e})}function E(e){for(var t=(new Date).getTime().toString(),n=0;n<e.length;n++)e[n].stm=t;return e}function A(e){return s?x+e.replace("?","?stm="+(new Date).getTime()+"&"):x+e}var x,S,R,O,I=!1,N=[],D=-1,P=!0===(i="string"==typeof i?i.toLowerCase():i)||"beacon"===i||"true"===i,L=!(!(P&&window.navigator&&window.navigator.sendBeacon)||(S=window.navigator.userAgent,(O=(O=S).match("(iP.+; CPU .*OS (d+)[_d]*.*) AppleWebKit/"))&&O.length&&parseInt(O[0])<=13||function(e,t,n){return!(!(n=n.match("(Macintosh;.*Mac OS X (d+)_(d+)[_d]*.*) AppleWebKit/"))||!n.length)&&(parseInt(n[0])<=e||parseInt(n[0])===e&&parseInt(n[1])<=t)}(10,15,S)&&(R=S).match("Version/.* Safari/")&&!R.match("Chrom(e|ium)")))&&P,z=!(!window.XMLHttpRequest||!("withCredentials"in new XMLHttpRequest)),B="get"!==i&&z&&("post"===i||P),U=B?o:"/i";i="snowplowOutQueue_".concat(t,"_").concat(B?"post2":"get");var M="convivaOutQueue_".concat(t,"_").concat(B?"post2":"get");if(te(i),te("".concat(i,".expires")),P&&(f={}),a=r&&function(){try{var e=!!window.localStorage}catch(t){e=!0}if(!e)return!1;try{var t=window.localStorage;return t.setItem("modernizr","modernizr"),t.removeItem("modernizr"),!0}catch(e){return!1}}()&&B&&a||1,r)try{var F=window.localStorage.getItem(M);N=F?JSON.parse(F):[]}catch(S){}return Array.isArray(N)||(N=[]),n.outQueues.push(N),z&&1<a&&n.bufferFlushers.push((function(e){I||y(e)})),{enqueueRequest:function(e,t,n){if(x=t+U,B){if(e=w(e),t=m(),e.bytes>=t)return I||y(),$e.warn("Event ("+e.bytes+"B) too big, max is "+t),void b(e,x);N.push(e)}else{var i,s="?",u={co:!0,cx:!0},d=!0;for(i in e)e.hasOwnProperty(i)&&!u.hasOwnProperty(i)&&(d?d=!1:s+="&",s+=encodeURIComponent(i)+"="+encodeURIComponent(e[i]));for(var f in u)e.hasOwnProperty(f)&&u.hasOwnProperty(f)&&(s+="&"+f+"="+encodeURIComponent(e[f]));if(0<(u=c())&&(d=k(d=A(s)))>=u)return $e.warn("Event ("+d+"B) too big, max is "+u),void(z&&(e=w(e),b(e,t+o)));N.push(s)}t=!1,r&&(t=K(M,JSON.stringify(N.slice(-1*l())))),!I&&-1===D&&t&&(D=window.setTimeout(y,_()+Math.floor(Math.random()*g))),!I&&(!t||!p()||B&&(B?N.reduce((function(e,t){return e+t.bytes}),0):N.reduce((function(e,t){return e+t.length}),0))>m()||N.length>a||n)&&y()},executeQueue:function(){I||y()},setUseLocalStorage:function(e){r=e},setAnonymousTracking:function(e){d=e},setCollectorUrl:function(e){x=e+U},setBufferSize:function(e){a=e},setCustomHeaders:function(e){f=e}}}function ie(e,t,n){return"translate.googleusercontent.com"===e?(""===n&&(n=t),e=H(t=null!=(e=(e=/^(?:https?|ftp)(?::\/*(?:[^?]+))([?][^#]+)/.exec(t))&&1<(null==e?void 0:e.length)?Z("u",e[1]):null)?e:"")):"cc.bingj.com"!==e&&"webcache.googleusercontent.com"!==e||(e=H(t=document.links[0].href)),[e,t,n]}function oe(e,t){return void 0===t&&(t=1),"0"===e[0]?(e[7]=e[6],e[5]=e[4],e[3]++):e[3]=t,t=Xe.v4(),e[6]=t,e[10]=-1,e[8]="",e[9]=void 0,t}function ae(e){e[4]=Math.round((new Date).getTime()/1e3)}function ce(e){return{activateLCPObserver:function(){try{PerformanceObserver&&new PerformanceObserver((function(e){try{e.getEntries().forEach((function(e){var t;if("largest-contentful-paint"===e.entryType){var n=null===performance||void 0===performance?void 0:performance.getEntriesByType("navigation"),r=void 0;n&&0<(null==n?void 0:n.length)&&(r=null===(t=n[0])||void 0===t?void 0:t.activationStart),Rr=De(De({},e.toJSON()),{performanceNavigationActivationStart:null!=r?r:0})}}))}catch(e){console.warn("convivaAppTracker error in conviva lcp observer "+e)}})).observe({type:"largest-contentful-paint",buffered:!0})}catch(e){console.warn("convivaAppTracker conviva_lcp failed "+e)}},contexts:function(){try{switch(e){case Er.PERFORMANCE_CONTEXT.DISABLED:return[];case Er.PERFORMANCE_CONTEXT.PERFORMANCE_NAVIGATION_TIMING:return function(){var e,t,n;try{var r=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance||{};if(r.getEntriesByType){var i=r.getEntriesByType("navigation")[0],o=null!==(e=null==r?void 0:r.timeOrigin)&&void 0!==e?e:0;if(!i)return[];var a={st:Math.floor(o+i.startTime),dls:Math.floor(o+i.domainLookupStart),dle:Math.floor(o+i.domainLookupEnd),rss:Math.floor(o+i.responseStart),rse:Math.floor(o+i.responseEnd),le:Math.floor(o+i.loadEventEnd),dur:Math.floor(o+i.duration),as:Math.floor(o+i.activationStart)};return null!=Rr&&Rr.startTime&&(a.lcp={rt:Math.floor(o+Rr.startTime),url:128<(null===(t=null==Rr?void 0:Rr.url)||void 0===t?void 0:t.length)?null===(n=null==Rr?void 0:Rr.url)||void 0===n?void 0:n.substring(0,128):Rr.url,sz:Rr.size}),[{sc:"cv/pc/1-0-1",dt:a}]}return[]}catch(e){return console.warn("ConvivaAppTracker: issue will getting performance Navigation timing context"),[]}}();default:var t=window,r=t.performance||t.mozPerformance||t.msPerformance||t.webkitPerformance,i=r.timing;return n(n([],r?[{sc:"w3/pt/1-0-0",dt:{navigationStart:i.navigationStart,domainLookupStart:i.domainLookupStart,domainLookupEnd:i.domainLookupEnd,responseStart:i.responseStart,responseEnd:i.responseEnd,loadEventEnd:i.loadEventEnd}}]:[],!0),function(){var e,t,n;try{if(void 0!==(null==Rr?void 0:Rr.startTime)&&"number"==typeof(null==Rr?void 0:Rr.startTime))return[{sc:"cv/lcp/1-0-0",dt:{lcp:Math.round(Rr.startTime)-(null!==(e=Rr.performanceNavigationActivationStart)&&void 0!==e?e:0),url:128<(null===(t=null==Rr?void 0:Rr.url)||void 0===t?void 0:t.length)?null===(n=null==Rr?void 0:Rr.url)||void 0===n?void 0:n.substring(0,128):Rr.url}}]}catch(e){}return[]}(),!0)}}catch(e){return console.warn("convivaAppTracker problem in perfromance context "+e),[]}}}}function se(i,o,a,c,s,l){void 0===l&&(l={});var u=[];i=function(i,o,a,c,s,f){function v(){(Ct=ie(window.location.hostname,window.location.href,G()))[1]!==At&&(xt=G(At)),Et=q(Ct[0]),At=Ct[1]}function g(e){try{var t=(new Date).getTime(),n=e.currentTarget;if(null!=n&&n.href){e="_sp="+mt+"."+t;var r=n.href.split("#"),i=r[0].split("?"),o=i.shift(),a=i.join("?");if(a){i=!0;var c=a.split("&");for(t=0;t<c.length;t++)if("_sp="===c[t].substr(0,4)){i=!1,c[t]=e,a=c.join("&");break}i&&(a=e+"&"+a)}else a=e;r[0]=o+"?"+a;var s=r.join("#");n.href=s}}catch(e){console.warn("Conviva App Tracker:: Error in linkDecorationHandler of decorateLinks ".concat(e))}}function h(e){if("undefined"!=typeof document&&document.links&&0<document.links.length)for(var t=0;t<document.links.length;t++){var n=document.links[t];!n.spDecorationEnabled&&e(n)&&(V(n,"click",g,!0),V(n,"mousedown",g,!0),n.spDecorationEnabled=!0)}}function p(e){if(at){var t=/#.*/;e=e.replace(t,"")}return ct&&(t=/[{}]/g,e=e.replace(t,"")),e}function m(e){return(e=/^([a-z]+):/.exec(e))?e[1]:null}function _(e){if(e=Ut+e+"."+pt,"localStorage"==Xt){try{var t=window.localStorage,n=t.getItem(e+".expires");if(null===n||+n>Date.now())var r=t.getItem(e);else t.removeItem(e),t.removeItem(e+".expires"),r=void 0}catch(e){r=void 0}return r}if("cookie"==Xt||"cookieAndLocalStorage"==Xt)return Y(e)}function w(){v(),pt=it((Mt||Et)+(Ft||"/")).slice(0,4)}function k(){dt=(new Date).getTime()}function b(){var e=y(),t=e[0];t<ft?ft=t:t>vt&&(vt=t),(e=e[1])<gt?gt=e:e>ht&&(ht=e),k()}function y(){var e="undefined"!=typeof document?null===document||void 0===document?void 0:document.documentElement:void 0;return e?[e.scrollLeft||window.pageXOffset,e.scrollTop||window.pageYOffset]:[0,0]}function T(){var e=y(),t=e[0];vt=ft=t,ht=gt=e=e[1]}function A(){R(Ut+"ses."+pt,"*",Zt)}function x(e){var t=Ut+"id."+pt;e.shift(),R(t,e=e.join("."),Vt)}function R(e,t,n){Yt&&!Kt||("localStorage"==Xt?K(e,t,n):("cookie"==Xt||"cookieAndLocalStorage"==Xt)&&Y(e,t,n,Ft,Mt,jt,Ht))}function O(e){var t=Ut+"id."+pt,n=Ut+"ses."+pt;J(t),J(n),Y(t,"",-1,"/",Mt,jt,Ht),Y(n,"",-1,"/",Mt,jt,Ht),null!=e&&e.preserveSession||(_t=Xe.v4(),nn=1),null!=e&&e.preserveUser||(mt=Xe.v4(),wt=null)}function I(e){e&&e.stateStorageStrategy&&(f.stateStorageStrategy=e.stateStorageStrategy,Xt=We(f)),Yt=!!f.anonymousTracking,Kt=et(f),Jt=tt(f),on.setUseLocalStorage("localStorage"==Xt||"cookieAndLocalStorage"==Xt),on.setAnonymousTracking(Jt)}function N(){try{var e=window.localStorage.getItem(Qt+"."+Wt),t=JSON.parse(e||"{}");"{}"===t||void 0===t?(lt=U(),ut=F(),en=-1):(lt=t.clId||U(),en=t[$t]&&2147483648>t[$t]?t[$t]:-1,ut=F()),B()}catch(e){console.warn(e)}if(!Yt||Kt){if(e="none"!=Xt&&!!_("ses"),(t=D())[1])var n=t[1];else n=Yt?"":Xe.v4(),t[1]=n;mt=n,_t=e?t[6]:oe(t),nn=t[3],"none"!=Xt&&(A(),ae(t),x(t))}}function D(){return"none"==Xt?["1","",0,0,0,void 0,"","","",void 0,0]:function(e,t,n,r){var i=Math.round((new Date).getTime()/1e3);e?(e=e.split(".")).unshift("0"):e=["1",t,i,r,i,"",n],e[6]&&"undefined"!==e[6]||(e[6]=Xe.v4()),e[7]&&"undefined"!==e[7]||(e[7]=""),e[8]&&"undefined"!==e[8]||(e[8]=""),e[9]&&"undefined"!==e[9]||(e[9]=""),e[10]&&"undefined"!==e[10]||(e[10]=-1);var o=function(e,t){return e=parseInt(e),isNaN(e)?t:e};return t=function(e){return e?o(e,void 0):void 0},[e[0],e[1],o(e[2],i),o(e[3],r),o(e[4],i),t(e[5]),e[6],e[7],e[8],t(e[9]),o(e[10],-1)]}(_("id")||void 0,mt,_t,nn)}function P(e,t){var n,r,i,o,a=!0,c=Tt.getConfig();return void 0!==c.mend?a=c.mend:void 0!==(null===(r=null===(n=null==f?void 0:f.configs)||void 0===n?void 0:n.network)||void 0===r?void 0:r.mergeEndpoint)&&(a=null===(o=null===(i=null==f?void 0:f.configs)||void 0===i?void 0:i.network)||void 0===o?void 0:o.mergeEndpoint),0===e.indexOf("http")?(t&&a&&(e=e.replace(/^(https?:\/\/)(.*)$/,"$1"+t+".$2")),e):t&&a?("https:"===document.location.protocol?"https":"http")+"://"+t+"."+e:("https:"===document.location.protocol?"https":"http")+"://"+e}function L(){an&&null!=s.pageViewId||(s.pageViewId=Xe.v4())}function z(){return null==s.pageViewId&&(s.pageViewId=Xe.v4()),s.pageViewId}function B(){try{var e=window.localStorage,t={clId:lt,iid:ut,eventIndex:en},n=null;try{n=JSON.stringify(t)}catch(e){return}return e.setItem(Qt+"."+Wt,n)}catch(e){}}function U(){try{return Q({"First Launch":"Yes"}),Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()}catch(e){console.warn(e)}}function F(){try{return Math.floor(2147483647*Math.random())}catch(e){return console.warn(e),-1}}function X(t){try{return"object"===e(JSON.parse(t))}catch(e){return!1}}function Q(e){try{var t=Object.keys(e);X(JSON.stringify(e))?t.forEach((function(t){""!==t&&Object.defineProperty(Pt,t,{value:""+e[t],writable:!0,enumerable:!0,configurable:!0})})):console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=")}catch(e){console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",e)}}function W(e){var t=e.title,n=e.context,i=e.timestamp;if(e=e.contextCallback,v(),cn&&L(),cn=!0,zt=document.title,t=j((ot=t)||zt),Tt.track(function(e){var t=e.pageUrl,n=e.pageTitle;e=e.referrer;var i=r();return i.add("e","pv"),i.add("url",t),i.add("page",n),i.add("refr",e),i}({pageUrl:p(rt||At),pageTitle:t,referrer:p(nt||xt)}),(n||[]).concat(e?e():[]),i),i=new Date,t=!1,sn.enabled&&!sn.installed){t=sn.installed=!0;var o={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0},set:function(){}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),o.hasSupport=e}}};o.update();var a="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";Object.prototype.hasOwnProperty.call(o,"hasSupport")?V(document,a,k,{passive:!0}):V(document,a,k),T(),a=function(e,t){return void 0===t&&(t=k),function(e){return V(document,e,t)}},"click mouseup mousedown mousemove keypress keydown keyup".split(" ").forEach(a(document)),["resize","focus","blur"].forEach(a(window)),a(window,b)("scroll")}if(sn.enabled&&(Bt||t))for(i in dt=i.getTime(),i=void 0,sn.configurations)(t=sn.configurations[i])&&(window.clearInterval(t.activityInterval),ee(t,n,e))}function $(){var e,t,r,i,o,a,c,s,l,u,v,g,h,p,m,_,w,k,b,y,T,C,E,A,x,S,R,O,I,N,D;try{var P=d.core.getConfig(),L=void 0;Lt={};var z=xr.MERGE;switch(void 0!==(null===(t=null===(e=null==f?void 0:f.configs)||void 0===e?void 0:e.metaTagsTracking)||void 0===t?void 0:t.preference)?z=null===(i=null===(r=null==f?void 0:f.configs)||void 0===r?void 0:r.metaTagsTracking)||void 0===i?void 0:i.preference:!0===(null===(a=null===(o=null==f?void 0:f.configs)||void 0===o?void 0:o.metaTagsTracking)||void 0===a?void 0:a.force)?z=xr.APP:void 0!==(null===(c=null==P?void 0:P.metaTagsTrackingConfiguration)||void 0===c?void 0:c.pref)&&(z=null===(s=null==P?void 0:P.metaTagsTrackingConfiguration)||void 0===s?void 0:s.pref),z){case xr.APP:if(!1===(null===(u=null===(l=null==f?void 0:f.configs)||void 0===l?void 0:l.metaTagsTracking)||void 0===u?void 0:u.enabled))return;0<(null===(h=null===(g=null===(v=null==f?void 0:f.configs)||void 0===v?void 0:v.metaTagsTracking)||void 0===g?void 0:g.tags)||void 0===h?void 0:h.length)&&(L=n([],null===(m=null===(p=null==f?void 0:f.configs)||void 0===p?void 0:p.metaTagsTracking)||void 0===m?void 0:m.tags,!0));break;case xr.REMOTE:if(!1===(null===(_=null==P?void 0:P.metaTagsTrackingConfiguration)||void 0===_?void 0:_.enabled))return;void 0!==(null==P?void 0:P.metaTagsTrackingConfiguration)&&0<(null===(k=null===(w=null==P?void 0:P.metaTagsTrackingConfiguration)||void 0===w?void 0:w.tags)||void 0===k?void 0:k.length)&&(L=n([],null===(b=null==P?void 0:P.metaTagsTrackingConfiguration)||void 0===b?void 0:b.tags,!0));break;default:if(void 0===(null==P?void 0:P.metaTagsTrackingConfiguration)&&!1===(null===(T=null===(y=null==f?void 0:f.configs)||void 0===y?void 0:y.metaTagsTracking)||void 0===T?void 0:T.enabled)||void 0===(null===(C=null==f?void 0:f.configs)||void 0===C?void 0:C.metaTagsTracking)&&!1===(null===(E=null==P?void 0:P.metaTagsTrackingConfiguration)||void 0===E?void 0:E.enabled))return;var B=null===(x=null===(A=null==f?void 0:f.configs)||void 0===A?void 0:A.metaTagsTracking)||void 0===x?void 0:x.tags,U=null===(S=null==P?void 0:P.metaTagsTrackingConfiguration)||void 0===S?void 0:S.tags;!1===(null===(O=null===(R=null==f?void 0:f.configs)||void 0===R?void 0:R.metaTagsTracking)||void 0===O?void 0:O.enabled)&&(B=[]),!1===(null===(I=null==P?void 0:P.metaTagsTrackingConfiguration)||void 0===I?void 0:I.enabled)&&(U=[]),L=n([],function(e,t){return n(n([],e,!0),t,!0).reduce((function(e,t){var r=e.find((function(e){return e.key===t.key}));return r?t.condition&&(r.condition=n(n([],r.condition||[],!0),t.condition,!0)):e.push(De({},t)),e}),[])}(B||[],U||[]),!0)}if(void 0!==L&&0<(null==L?void 0:L.length)){e={};var M=null===document||void 0===document?void 0:document.head,F=null==M?void 0:M.getElementsByTagName("meta");if(void 0!==F&&0<(null==F?void 0:F.length))for(M=0;M<F.length;M++){var j=F[M];for(t=0;t<L.length;t++){var H=j.getAttribute(L[t].key),q=j.getAttribute(L[t].value);r=void 0,null!==(N=L[t])&&void 0!==N&&N.condition&&(r=null===(D=L[t])||void 0===D?void 0:D.condition),H&&(r&&r.includes(H)?e[H]=q:r&&0!==r.length||(e[H]=q))}}d.setMetaCustomTags(e)}}catch(e){console.warn("Conviva App Tracker:: setPageMetaTagsAsCustomTags",e)}}function ee(e,t,n){var r=function(t,n){var r;v();var o=null===(r=null==d?void 0:d.core)||void 0===r?void 0:r.getConfig();o.enablePeriodicHeartbeat?null!=o.periodicHeartbeatInterval&&((r=1e3*o.periodicHeartbeatInterval)!=e.configHeartBeatTimer&&(e.configHeartBeatTimer=r,window.clearInterval(e.activityInterval),e.activityInterval=window.setInterval(i,r))):window.clearInterval(e.activityInterval),t({context:n,pageViewId:z(),minXOffset:ft,minYOffset:gt,maxXOffset:vt,maxYOffset:ht}),T()};window.setTimeout((function(){r(e.callback,(t||[]).concat(n?n():[]))}),2e3);var i=function(){var i=new Date;("visible"==(null===document||void 0===document?void 0:document.visibilityState)||null!==document&&void 0!==document&&document.pictureInPictureElement||dt+e.configHeartBeatTimer>i.getTime()||!0===ln)&&r(e.callback,(t||[]).concat(n?n():[]))};e.activityInterval=window.setInterval(i,e.configHeartBeatTimer)}function te(e){var t=e.minimumVisitLength,n=e.heartbeatDelay;if(e=e.callback,M(t)&&M(n))return{configMinimumVisitLength:1e3*t,configHeartBeatTimer:1e3*n,callback:e};$e.error("Activity tracking minimumVisitLength & heartbeatDelay must be integers")}function se(e){var t=e.context,n=e.minXOffset,i=e.minYOffset,o=e.maxXOffset,a=e.maxYOffset;(e=document.title)!==zt&&(zt=e,ot=void 0);var c=(e=Tt).track,s=p(rt||At),l=j(ot||zt),u=p(nt||xt);n=Math.round(n),o=Math.round(o),i=Math.round(i),a=Math.round(a);var d=r();d.add("e","pp"),d.add("url",s),d.add("page",l),d.add("refr",u),n&&!isNaN(Number(n))&&d.add("pp_mix",n.toString()),o&&!isNaN(Number(o))&&d.add("pp_max",o.toString()),i&&!isNaN(Number(i))&&d.add("pp_miy",i.toString()),a&&!isNaN(Number(a))&&d.add("pp_may",a.toString()),c.call(e,d,t)}function le(e){var t,r,i,o,a,c,s,l,u,v,g,h,p,m,_,w,k,b,y,T,C,E,A,x,S,R,O,I,N,D,P;try{if(d&&e){var L=d.core.getConfig(),z=Er.CONFIG_PREFERENCES.MERGE,B=[];switch(void 0!==(null===(r=null===(t=null==f?void 0:f.configs)||void 0===t?void 0:t.traceparentGeneration)||void 0===r?void 0:r.force)&&!0===(null===(o=null===(i=null==f?void 0:f.configs)||void 0===i?void 0:i.traceparentGeneration)||void 0===o?void 0:o.force)?z=Er.CONFIG_PREFERENCES.APP:void 0!==(null===(a=null==L?void 0:L.traceparentconfig)||void 0===a?void 0:a.pref)&&(z=null===(c=null==L?void 0:L.traceparentconfig)||void 0===c?void 0:c.pref),z){case Er.CONFIG_PREFERENCES.APP:if(!1===(null===(l=null===(s=null==f?void 0:f.configs)||void 0===s?void 0:s.traceparentGeneration)||void 0===l?void 0:l.enabled))return"";null!==(g=null===(v=null===(u=null==f?void 0:f.configs)||void 0===u?void 0:u.traceparentGeneration)||void 0===v?void 0:v.targetUrl)&&void 0!==g&&g.length&&(B=n([],null===(p=null===(h=null==f?void 0:f.configs)||void 0===h?void 0:h.traceparentGeneration)||void 0===p?void 0:p.targetUrl,!0));break;case Er.CONFIG_PREFERENCES.REMOTE:if(!1===(null===(m=null==L?void 0:L.traceparentconfig)||void 0===m?void 0:m.enabled))return"";void 0!==(null==L?void 0:L.traceparentconfig)&&null!==(w=null===(_=null==L?void 0:L.traceparentconfig)||void 0===_?void 0:_.targetUrl)&&void 0!==w&&w.length&&(B=n([],null===(k=null==L?void 0:L.traceparentconfig)||void 0===k?void 0:k.targetUrl,!0));break;default:if(void 0===(null==L?void 0:L.traceparentconfig)&&!1===(null===(y=null===(b=null==f?void 0:f.configs)||void 0===b?void 0:b.traceparentGeneration)||void 0===y?void 0:y.enabled)||void 0===(null===(T=null==f?void 0:f.configs)||void 0===T?void 0:T.traceparentGeneration)&&!1===(null===(C=null==L?void 0:L.traceparentconfig)||void 0===C?void 0:C.enabled))return"";var U=null===(A=null===(E=null==f?void 0:f.configs)||void 0===E?void 0:E.traceparentGeneration)||void 0===A?void 0:A.targetUrl,M=null===(x=null==L?void 0:L.traceparentconfig)||void 0===x?void 0:x.targetUrl;!1===(null===(R=null===(S=null==f?void 0:f.configs)||void 0===S?void 0:S.traceparentGeneration)||void 0===R?void 0:R.enabled)&&(U=[]),!1===(null===(O=null==L?void 0:L.traceparentconfig)||void 0===O?void 0:O.enabled)&&(M=[]);var F=new Set(n(n([],M||[],!0),U||[],!0));B=Array.from(F)}var j=null===(N=null===(I=null==f?void 0:f.configs)||void 0===I?void 0:I.networkRequestTracking)||void 0===N?void 0:N.safelist,H=null===(D=null==L?void 0:L.networkRequestTrackingConfiguration)||void 0===D?void 0:D.blocklist,q=(null==H?void 0:H.includes("*"))||(null==H?void 0:H.some((function(t){return 0<(null==t?void 0:t.length)&&e.toLowerCase().includes(t.toLowerCase())}))),G=null==j?void 0:j.some((function(t){return 0<(null==t?void 0:t.length)&&e.toLowerCase().includes(t.toLowerCase())}));if(0<(null==B?void 0:B.length)&&(null!=B&&B.includes("*")||null!=B&&B.some((function(t){return 0<(null==t?void 0:t.length)&&e.toLowerCase().includes(t.toLowerCase())})))&&null!==(P=null==L?void 0:L.networkRequestTrackingConfiguration)&&void 0!==P&&P.enabled&&(G||!q))return"00-"+Array.from({length:32},(function(){return Math.floor(16*Math.random()).toString(16)})).join("")+"-"+Array.from({length:16},(function(){return Math.floor(16*Math.random()).toString(16)})).join("")+"-00"}return""}catch(e){return""}}function ue(e,t,n){var r=f.trackerConfigUrl?f.trackerConfigUrl:Ke;"number"==typeof Le&&window.clearInterval(Le);var i=function(){Le=window.setInterval(Qe,6e4*e,r)};try{var o=t?((new Date).getTime()-t)/6e4:e;o=e-o;var a=3*e/100;"string"==typeof n&&n===Er.RC_FETCH_MODE.DO_NOT_FETCH_UPDATE_TIMER?i():"string"==typeof n&&n===Er.RC_FETCH_MODE.UPDATE_TIMER_WITH_DIFF&&0<t&&o>a?window.setTimeout((function(){Qe(r),i()}),6e4*o):(Qe(r),i())}catch(e){Qe(r),i()}}var de,fe,ve,ge,he,pe,me,_e,we,ke,be,ye,Te,Ce,Ee,Ae,xe,Se,Re,Oe,Ie,Ne={cacheRefreshInterval:30,base64:!1,linkClickTracking:!0,buttonClickTracking:!0,lifecycleAutotracking:!0,exceptionAutotracking:!0,enablePeriodicHeartbeat:!0,periodicHeartbeatInterval:40,customEventTrackingConfiguration:{enabled:!0},ajaxTrackingConfiguration:{blocklist:["*"]},networkRequestTrackingConfiguration:{blocklist:["*"]},traceparentconfig:{enabled:!0,pref:Er.CONFIG_PREFERENCES.MERGE,targetUrl:[]},performanceContextConfig:1,configurationVersion:-1,catRcLastUpdatedTs:0,endpoint:Er.DEFAULT_END_POINT,maxLocalStorageQueueSize:10,emitterConfiguration:{batching:{enabled:!0,byteLimitPostInKB:250,batchingIntervalInSec:5,urgentEvents:[Sr.APPLICATION_BACKGROUND,Sr.APPLICATION_ERROR]}}},Pe={},Le=null,ze=!1,Be=!1,Ue={};if("undefined"!=typeof window&&null!==window&&void 0!==window&&window.localStorage)try{localStorage.removeItem(Er.END_POINT_STORAGE_KEY);var Me=null!==(de=localStorage.getItem(Er.REMOTE_CONFIG_STORAGE_KEY))&&void 0!==de?de:JSON.stringify(Pe)}catch(bt){Me=JSON.stringify(Pe),ze=!0,$e.warn("Issue while fetching data from local storage")}else Me=JSON.stringify(Pe);try{Ue=JSON.parse(Me)}catch(bt){ze=!0,$e.warn("Issue while parsing storedConvivaRemoteConfig")}c=f.gatewayUrl?f.gatewayUrl:null!=Ue&&Ue.endpoint?null==Ue?void 0:Ue.endpoint:Er.DEFAULT_END_POINT,o||(o="CAT"),Pe.base64=void 0!==Ue.base64?Ue.base64:Ne.base64,Pe.cacheRefreshInterval=void 0!==Ue.cacheRefreshInterval?Ue.cacheRefreshInterval:Ne.cacheRefreshInterval,Pe.linkClickTracking=void 0!==Ue.linkClickTracking?Ue.linkClickTracking:Ne.linkClickTracking,Pe.lifecycleAutotracking=void 0!==Ue.lifecycleAutotracking?Ue.lifecycleAutotracking:Ne.lifecycleAutotracking,Pe.buttonClickTracking=void 0!==Ue.buttonClickTracking?Ue.buttonClickTracking:Ne.buttonClickTracking,Pe.exceptionAutotracking=void 0!==Ue.exceptionAutotracking?Ue.exceptionAutotracking:Ne.exceptionAutotracking,Pe.enablePeriodicHeartbeat=void 0!==Ue.enablePeriodicHeartbeat?Ue.enablePeriodicHeartbeat:Ne.enablePeriodicHeartbeat,Pe.periodicHeartbeatInterval=void 0!==Ue.periodicHeartbeatInterval?Ue.periodicHeartbeatInterval:Ne.periodicHeartbeatInterval,void 0!==Ue.enc&&(Pe.enc=Ue.enc),void 0!==Ue.maxLocalStorageQueueSize&&(Pe.maxLocalStorageQueueSize=Ue.maxLocalStorageQueueSize),void 0!==Ue.maxGetBytes&&(Pe.maxGetBytes=Ue.maxGetBytes),void 0!==Ue.bufferSize&&(Pe.bufferSize=Ue.bufferSize),Pe.customEventTrackingConfiguration=void 0!==Ue.customEventTrackingConfiguration?Ue.customEventTrackingConfiguration:De({},Ne.customEventTrackingConfiguration),Pe.ajaxTrackingConfiguration=void 0!==Ue.ajaxTrackingConfiguration?Ue.ajaxTrackingConfiguration:De({},Ne.ajaxTrackingConfiguration),Pe.networkRequestTrackingConfiguration=void 0!==Ue.networkRequestTrackingConfiguration?Ue.networkRequestTrackingConfiguration:De({},Ne.networkRequestTrackingConfiguration),void 0!==Ue.metaTagsTrackingConfiguration&&(Pe.metaTagsTrackingConfiguration=Ue.metaTagsTrackingConfiguration),Pe.traceparentconfig=void 0!==Ue.traceparentconfig?Ue.traceparentconfig:De({},Ne.traceparentconfig),void 0!==Ue.mend&&(Pe.mend=Ue.mend),Pe.performanceContextConfig=void 0!==Ue.performanceContextConfig?Ue.performanceContextConfig:Ne.performanceContextConfig,Pe.configurationVersion=void 0!==Ue.configurationVersion?Ue.configurationVersion:Ne.configurationVersion,Pe.catRcLastUpdatedTs=void 0!==Ue.catRcLastUpdatedTs?Ue.catRcLastUpdatedTs:Ne.catRcLastUpdatedTs,Pe.emitterConfiguration=void 0!==Ue.emitterConfiguration?Ue.emitterConfiguration:De({},Ne.emitterConfiguration),null===(fe=ce(Pe.performanceContextConfig))||void 0===fe||fe.activateLCPObserver(),function(){try{var e=0,t=0;null===window||void 0===window||window.addEventListener("load",(function(){var e;try{var t=null===(e=null==d?void 0:d.core)||void 0===e?void 0:e.getConfig();null==d||d.trackCustomEvent({name:"conviva_window_loaded",data:"{}",context:ce(null==t?void 0:t.performanceContextConfig).contexts()})}catch(e){console.warn("ConvivaAppTracker : issue while registering window loaded event",e)}})),null===document||void 0===document||document.addEventListener("visibilitychange",(function(){var n;try{if("hidden"===document.visibilityState)setTimeout((function(){var e;try{var n=null===(e=null==d?void 0:d.core)||void 0===e?void 0:e.getConfig();if(t++,null!=n&&n.lifecycleAutotracking){var r=d.core,i=r.track,o=E({event:{sc:"sp/abg/1-0-0",dt:S({backgroundIndex:t})}});i.call(r,o)}"hidden"!==document.visibilityState||cn||null==d||d.trackCustomEvent({name:"conviva_app_backgrnd_before_page_view",data:"{}"})}catch(e){console.warn("ConvivaAppTracker : issue while tracking visibility change",e)}}),0);else{var r=null===(n=null==d?void 0:d.core)||void 0===n?void 0:n.getConfig();e++,null!=r&&r.lifecycleAutotracking&&d.core.track(E({event:{sc:"sp/afg/1-0-0",dt:S({foregroundIndex:e})}}))}}catch(e){console.warn("convivaAppTracker visibilitychange failed "+e)}})),"undefined"!=typeof document&&document&&document.addEventListener&&document.addEventListener("convivaVideoEvent",(function(e){e&&d&&(null==d||d.trackVideoEvent(e))}))}catch(e){console.warn("convivaAppTracker error in page load metrics"+e)}}();try{var Fe=XMLHttpRequest,je=null===(ve=null===window||void 0===window?void 0:window.fetch)||void 0===ve?void 0:ve.bind(window);if(Fe){var He,qe=function(e,t,n){var r,i;try{var o=d.core.getConfig().networkRequestTrackingConfiguration,a=o.blocklist,c=null===(i=null===(r=null==f?void 0:f.configs)||void 0===r?void 0:r.networkRequestTracking)||void 0===i?void 0:i.safelist,s=(null==a?void 0:a.includes("*"))||(null==a?void 0:a.some((function(e){var n;return 0<(null==e?void 0:e.length)&&(null===(n=null==t?void 0:t.url)||void 0===n?void 0:n.toLowerCase().includes(e.toLowerCase()))}))),l=null==c?void 0:c.some((function(e){var n;return 0<(null==e?void 0:e.length)&&(null===(n=null==t?void 0:t.url)||void 0===n?void 0:n.toLowerCase().includes(e.toLowerCase()))}));if(o&&o.enabled&&!s||l){var u={status:null==e?void 0:e.status,statusText:(""!==(null==e?void 0:e.statusText)?null==e?void 0:e.statusText:void 0)||("load"!=n?n:void 0),responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())};n=void 0;try{n=function(e){var t={};return e.trim().split(/[\r\n]+/).forEach((function(e){var n=(e=e.split(":"))[1];t[e[0].trim()]=null==n?void 0:n.trim()})),t}(e.getAllResponseHeaders()),u.headers=n}catch(e){}try{u.body=null==e?void 0:e.response}catch(e){}d.trackNetworkRequest({requestDetails:t,responseDetails:u})}}catch(e){console.warn("Conviva App Tracker:: Unable to track network request error while handleResponse ".concat(e))}},Ge=function(){var e=new Fe;try{var t,n,r,i={},o=e.setRequestHeader;e.setRequestHeader=function(e,t){i[e]=t,o.call(this,e,t)};var a=e.open;e.open=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];t=r[0],n=r[1];try{/^(?:[a-z]+:)?\/\//i.test(n)||(n=0===n.indexOf("/")?window.location.origin+n:window.location.origin+"/"+n)}catch(e){}a.call(e,r[0],r[1],!0)};var c=e.send;e.send=function(o){try{var a=null;Er.TRACEPARENT_HEADER_KEY in i||null!==(a=le(n))&&""!==a&&e.setRequestHeader(Er.TRACEPARENT_HEADER_KEY,a),c.call(e,o),r={method:t,url:n,headers:i,body:o,requestTimestamp:null===Date||void 0===Date?void 0:Date.now(),requestTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())},null!==a&&""!==a&&(r[Er.TRACEPARENT_HEADER_KEY]=a)}catch(e){console.warn("Conviva App Tracker:: Unable to track network request while send ".concat(e))}},e.addEventListener("load",(function(){return qe(e,r,"load")})),e.addEventListener("error",(function(){return qe(e,r,"error")})),e.addEventListener("abort",(function(){return qe(e,r,"abort")})),e.addEventListener("timeout",(function(){return qe(e,r,"timeout")}))}catch(e){console.warn("Conviva App Tracker:: Unable to track network request while interceptRequest ".concat(e))}return e};for(He in Fe)Fe.hasOwnProperty(He)&&(Ge[He]=Fe[He]);Ge.prototype=Fe.prototype,window.XMLHttpRequest=Ge}if(je){var Ve=function(e){var t={};return e.forEach((function(e,n){t[n]=e})),t};window.fetch=function(e,t){var n,r,i,o=null;if(e instanceof Request){e=null==e?void 0:e.clone();try{var a=!1;null===(n=null==e?void 0:e.headers)||void 0===n||n.forEach((function(e,t){Er.TRACEPARENT_HEADER_KEY===t&&(a=!0)})),a||null!==(o=le(e.url))&&""!==o&&e.headers.set(Er.TRACEPARENT_HEADER_KEY,o)}catch(e){console.warn("ConvivaAppTracker: Issue while adding traceparent header",e)}n=je(e)}else{try{if(t&&t.headers){var c=new Headers(t.headers),s=!1;c.forEach((function(e,t){Er.TRACEPARENT_HEADER_KEY===t&&(s=!0)})),s||null!==(o=le(e))&&""!==o&&c.set(Er.TRACEPARENT_HEADER_KEY,o)}else c=new Headers,null!==(o=le(e))&&""!==o&&c.set(Er.TRACEPARENT_HEADER_KEY,o),t||(t={});t.headers=c}catch(e){console.warn("ConvivaAppTracker: Issue while adding traceparent header",e)}n=je(e,t),e=new Request(e,t).clone()}try{c=void 0;try{c=Ve(e.headers)}catch(e){}var l=void 0;try{l=null==t?void 0:t.body}catch(e){}var u={method:e.method,url:e.url,headers:c,body:l,requestTimestamp:null===Date||void 0===Date?void 0:Date.now(),requestTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())},v=d.core.getConfig().networkRequestTrackingConfiguration,g=v.blocklist,h=null===(i=null===(r=null==f?void 0:f.configs)||void 0===r?void 0:r.networkRequestTracking)||void 0===i?void 0:i.safelist,p=(null==g?void 0:g.includes("*"))||(null==g?void 0:g.some((function(e){var t;return 0<(null==e?void 0:e.length)&&(null===(t=null==u?void 0:u.url)||void 0===t?void 0:t.toLowerCase().includes(e.toLowerCase()))}))),m=null==h?void 0:h.some((function(e){var t;return 0<(null==e?void 0:e.length)&&(null===(t=null==u?void 0:u.url)||void 0===t?void 0:t.toLowerCase().includes(e.toLowerCase()))}));null!==o&&""!==o&&(u[Er.TRACEPARENT_HEADER_KEY]=o),(v&&v.enabled&&!p||m)&&n.then((function(e){try{var t=Ve(e.headers)}catch(e){}var n={status:null==e?void 0:e.status,statusText:""!==(null==e?void 0:e.statusText)?null==e?void 0:e.statusText:void 0,headers:t,size:0,responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())};e.clone().json().then((function(e){n.body=e,d.trackNetworkRequest({requestDetails:u,responseDetails:n})})).catch((function(){d.trackNetworkRequest({requestDetails:u,responseDetails:n})}))})).catch((function(e){e={statusText:e.toString(),responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())},d.trackNetworkRequest({requestDetails:u,responseDetails:e})}))}catch(e){console.warn("Conviva App Tracker:: Unable to track network request while fetch interceptRequest ".concat(e))}return n}}try{Fe||je||PerformanceObserver&&new PerformanceObserver((function(e){try{e.getEntries().forEach((function(e){d&&d.trackAjaxEvent(e)}))}catch(e){console.warn("Conviva PerformanceObserver error in listeneing ajax request observer ".concat(e))}})).observe({type:"resource",buffered:!0})}catch(bt){console.warn("Conviva PerformanceObserver failed to report ajax request"+bt)}}catch(bt){console.warn("Conviva App Tracker:: Unable to track network request ".concat(bt))}var Ze=a.split("js-")[1],Ke=Er.REMOTE_CONFIG_URL_PREFIX+f.convivaCustomerKey+"/"+Ze+Er.REMOTE_CONFIG_FILE_NAME;if(window.XMLHttpRequest){var Je=new XMLHttpRequest,Ye=0;Je.onreadystatechange=function(){try{if(4==Je.readyState)if(Be=!1,200==Je.status){Ye=0,Pe.catRcLastUpdatedTs=(new Date).getTime();var e=JSON.parse(Je.response),t=e.cri||e.cacheRefreshInterval||Ne.cacheRefreshInterval;t=1>t?Ne.cacheRefreshInterval:~~t,Pe.cacheRefreshInterval!=t&&(Pe.cacheRefreshInterval=t,ue(Pe.cacheRefreshInterval,Pe.catRcLastUpdatedTs,Er.RC_FETCH_MODE.DO_NOT_FETCH_UPDATE_TIMER)),function(e,t,n,r){var i,o,a=d.core.getConfig();if((null==e?void 0:e.configurationBundle[0].namespace)!==n||(null==a?void 0:a.configurationVersion)==(null==e?void 0:e.configurationVersion))return!1;n="cws.conviva.com /wsg /ctp remote_config pings.conviva.com .m3u8 .mpd .ism .m4 .mp4 .ts .png .jpg .jpeg .bmp google-analytics.com googlesyndication.com googleapis stats.g.doubleclick chartbeat.com omtrdc.net app-measurement.com firebase nr-data.net newrelic bitmovin.com/impression bitmovin.com/analytics api.segment.io youbora hotjar mixpanel.com clevertap auryc .aac .vtt .googlevideo webp appsflyer facebook dynatrace mparticle npaw doubleclick .pdf bookkeeper kochava mp3 marketingcloudapis demdex scorecardresearch lura.live perimeterx.net permutive.app segment.com vaicore.site boomtrain ketchcdn qualtrics .svg amplitude datadoghq branch.io hotjar splunkcloud".split(" "),t=JSON.parse(JSON.stringify(t)),"number"==typeof e.cri&&1<=e.cri?t.cacheRefreshInterval=parseInt(e.cri):"number"==typeof e.cacheRefreshInterval&&1<=e.cacheRefreshInterval&&(t.cacheRefreshInterval=parseInt(e.cacheRefreshInterval)),void 0!==e.configurationBundle[0].trackerConfiguration.base64Encoding&&(t.base64=e.configurationBundle[0].trackerConfiguration.base64Encoding),void 0!==e.configurationBundle[0].trackerConfiguration.linkClickTracking&&(t.linkClickTracking=e.configurationBundle[0].trackerConfiguration.linkClickTracking),void 0!==e.configurationBundle[0].trackerConfiguration.lifecycleAutotracking&&(t.lifecycleAutotracking=e.configurationBundle[0].trackerConfiguration.lifecycleAutotracking),void 0!==e.configurationBundle[0].trackerConfiguration.buttonClickTracking&&(t.buttonClickTracking=e.configurationBundle[0].trackerConfiguration.buttonClickTracking),void 0!==e.configurationBundle[0].trackerConfiguration.exceptionAutotracking&&(t.exceptionAutotracking=e.configurationBundle[0].trackerConfiguration.exceptionAutotracking),void 0!==e.configurationBundle[0].trackerConfiguration.enablePeriodicHeartbeat&&(t.enablePeriodicHeartbeat=e.configurationBundle[0].trackerConfiguration.enablePeriodicHeartbeat),"number"==typeof(a=null===(o=null===(i=null==e?void 0:e.configurationBundle[0])||void 0===i?void 0:i.trackerConfiguration)||void 0===o?void 0:o.periodicHeartbeatInterval)&&1<=a&&(t.periodicHeartbeatInterval=parseInt(e.configurationBundle[0].trackerConfiguration.periodicHeartbeatInterval)),void 0!==e.configurationBundle[0].networkConfiguration.enc&&(t.enc=e.configurationBundle[0].networkConfiguration.enc),void 0!==e.configurationBundle[0].networkConfiguration.maxLocalStorageQueueSize&&(t.maxLocalStorageQueueSize=e.configurationBundle[0].networkConfiguration.maxLocalStorageQueueSize),void 0!==e.configurationBundle[0].networkConfiguration.maxGetBytes&&(t.maxGetBytes=e.configurationBundle[0].networkConfiguration.maxGetBytes),void 0!==e.configurationBundle[0].networkConfiguration.bufferSize&&(t.bufferSize=e.configurationBundle[0].networkConfiguration.bufferSize),void 0!==e.configurationBundle[0].customEventTrackingConfiguration&&(t.customEventTrackingConfiguration=e.configurationBundle[0].customEventTrackingConfiguration),void 0!==e.configurationBundle[0].ajaxTrackingConfiguration&&(t.ajaxTrackingConfiguration=e.configurationBundle[0].ajaxTrackingConfiguration),void 0!==e.configurationBundle[0].networkRequestTrackingConfiguration&&(t.networkRequestTrackingConfiguration=e.configurationBundle[0].networkRequestTrackingConfiguration),void 0!==e.configurationBundle[0].traceparentconfig&&(t.traceparentconfig=e.configurationBundle[0].traceparentconfig),void 0!==e.configurationBundle[0].networkConfiguration.mend&&(t.mend=e.configurationBundle[0].networkConfiguration.mend),t.ajaxTrackingConfiguration&&(t.ajaxTrackingConfiguration.blocklist||(t.ajaxTrackingConfiguration.blocklist=[]),t.ajaxTrackingConfiguration.blocklist.push(e.configurationBundle[0].networkConfiguration.endpoint),t.ajaxTrackingConfiguration.blocklist=t.ajaxTrackingConfiguration.blocklist.concat(n)),t.networkRequestTrackingConfiguration&&(t.networkRequestTrackingConfiguration.blocklist||(t.networkRequestTrackingConfiguration.blocklist=[]),t.networkRequestTrackingConfiguration.blocklist.push(e.configurationBundle[0].networkConfiguration.endpoint),t.networkRequestTrackingConfiguration.blocklist=t.networkRequestTrackingConfiguration.blocklist.concat(n)),void 0!==e.configurationBundle[0].metaTagsTrackingConfiguration&&(t.metaTagsTrackingConfiguration=e.configurationBundle[0].metaTagsTrackingConfiguration),void 0!==e.configurationBundle[0].trackerConfiguration.perfCx&&(t.performanceContextConfig=e.configurationBundle[0].trackerConfiguration.perfCx),void 0!==e.configurationVersion&&(t.configurationVersion=e.configurationVersion),void 0!==e.configurationBundle[0].networkConfiguration.endpoint&&(t.endpoint=e.configurationBundle[0].networkConfiguration.endpoint),void 0!==e.configurationBundle[0].emitterConfiguration&&void 0!==e.configurationBundle[0].emitterConfiguration.batching&&void 0!==t.emitterConfiguration&&void 0!==t.emitterConfiguration.batching&&(void 0!==e.configurationBundle[0].emitterConfiguration.batching.enabled&&(t.emitterConfiguration.batching.enabled=e.configurationBundle[0].emitterConfiguration.batching.enabled),void 0!==e.configurationBundle[0].emitterConfiguration.batching.batchingIntervalInSec&&0<e.configurationBundle[0].emitterConfiguration.batching.batchingIntervalInSec&&(t.emitterConfiguration.batching.batchingIntervalInSec=e.configurationBundle[0].emitterConfiguration.batching.batchingIntervalInSec),void 0!==e.configurationBundle[0].emitterConfiguration.batching.byteLimitPostInKB&&0<e.configurationBundle[0].emitterConfiguration.batching.byteLimitPostInKB&&(t.emitterConfiguration.batching.byteLimitPostInKB=e.configurationBundle[0].emitterConfiguration.batching.byteLimitPostInKB),void 0!==e.configurationBundle[0].emitterConfiguration.batching.urgentEvents&&(t.emitterConfiguration.batching.urgentEvents=e.configurationBundle[0].emitterConfiguration.batching.urgentEvents)),t.catRcLastUpdatedTs=r,d.core.setConfig(t),null==d||d.setCollectorUrl(e.configurationBundle[0].networkConfiguration.endpoint,l.convivaCustomerKey);try{window.localStorage&&(localStorage.removeItem(Er.REMOTE_CONFIG_STORAGE_KEY),localStorage.setItem(Er.REMOTE_CONFIG_STORAGE_KEY,JSON.stringify(t)))}catch(e){console.warn("Conviva: Error while saving remote-config to localstorage",e)}return!0}(e,Ne,o,Pe.catRcLastUpdatedTs)&&on.executeQueue()}else try{2>Ye&&window.setTimeout((function(){null!=f&&f.trackerConfigUrl?Qe(null==f?void 0:f.trackerConfigUrl,!0):Qe(Ke,!0)}),5e3*(Ye+1))}catch(e){}}catch(e){Be=!1,console.warn("Conviva App Tracker:: Error in fetching remote-config ".concat(e))}};var Qe=function(e,t){try{"boolean"==typeof Be&&!1===Be&&(t?Ye++:Ye=0,Je.timeout=3e4,Je.open("GET",e,!0),Be=!0,Je.send())}catch(e){Be=!1}};ue(Pe.cacheRefreshInterval,Pe.catRcLastUpdatedTs,void 0!==ze&&!0===ze?Er.RC_FETCH_MODE.IMMEDIATE_FETCH:Er.RC_FETCH_MODE.UPDATE_TIMER_WITH_DIFF)}f.eventMethod=null!==(ge=f.eventMethod)&&void 0!==ge?ge:"post";var We=function(e){var t;return null!==(t=e.stateStorageStrategy)&&void 0!==t?t:"cookieAndLocalStorage"},et=function(e){var t,n;return"boolean"!=typeof e.anonymousTracking&&(null!==(n=!0===(null===(t=e.anonymousTracking)||void 0===t?void 0:t.withSessionTracking))&&void 0!==n&&n)},tt=function(e){var t,n;return"boolean"!=typeof e.anonymousTracking&&(null!==(n=!0===(null===(t=e.anonymousTracking)||void 0===t?void 0:t.withServerAnonymisation))&&void 0!==n&&n)};u.push({beforeTrack:function(e){var t=_("ses"),n=D();kt=!!st&&!!Y(st),Gt||kt?O():("0"===n[0]?(_t=t||"none"==Xt?n[6]:oe(n),nn=n[3]):(new Date).getTime()-tn>1e3*Zt&&(nn++,_t=oe(n,nn)),ae(n),-1===n[10]&&(t=e.build(),n[8]=t.eid,t=t.dtm||t.ttm,n[9]=t?parseInt(t):void 0),n[10]+=1,e.add("uid",Yt?null:wt),v(),e.add("refr",p(nt||xt)),document&&(zt=document.title,t=j(ot||zt),e.add("page",t)),e.add("url",p(rt||At)),"none"!=Xt&&(x(n),A()),tn=(new Date).getTime())}}),u.push({contexts:function(){var e=lt,t=ut.toString(),n=Nt;try{var r=window.localStorage.getItem(Qt+"."+Wt),i=JSON.parse(r||"{}");"{}"!==i&&void 0!==i&&void 0!==i[$t]&&(en=i[$t]),2147483647<=en?en=0:en++,B();var o=en}catch(e){console.warn(e),o=void 0}return[{sc:"cv/clid/1-0-2",dt:{clid:e,iid:t,ck:n,eventIndex:o}}]}}),u.push({contexts:function(){return[{sc:"cv/ct/1-0-0",dt:{data:De(De({},Pt),Lt)}}]}}),u.push({contexts:function(){return[{sc:"spm/app/1-0-0",dt:{build:Dt,version:Dt}}]}}),u.push({contexts:function(){var e={sch:"sdk.js.eco.1"};e.cat=Ar.DeviceCategory.WEB;try{var t=null==f?void 0:f.deviceMetadata;if(t){var n=t.DeviceBrand,r=t.DeviceCategory,i=t.DeviceManufacturer,o=t.DeviceModel,a=t.DeviceType,c=t.DeviceVersion,s=t.OperatingSystemName,l=t.OperatingSystemVersion,u=t.FrameworkName,d=t.FrameworkVersion;"string"==typeof r&&Object.values(Ar.DeviceCategory).includes(r)&&(e.cat=r),"string"==typeof n&&""!=n&&(e.dvb=n),"string"==typeof i&&""!=i&&(e.dvma=i),"string"==typeof o&&""!=o&&(e.dvm=o),a&&Object.values(Ar.DeviceType).includes(a)&&(e.dvt=a),"string"==typeof c&&""!=c&&(e.dvv=c),"string"==typeof s&&""!=s&&(e.os=s),"string"==typeof l&&""!=l&&(e.osv=l),"string"==typeof u&&""!=u&&(e.fw=u),"string"==typeof d&&""!=d&&(e.fwv=d)}}catch(e){$e.warn("error in setting platform metadata context",e)}return null!=e&&0<Object.keys(e).length?[{sc:"iglu:com.conviva/pm/jsonschema/1-0-2",dt:e}]:[]}});try{(null!==(he=null==f?void 0:f.plugins)&&void 0!==he?he:[]).forEach((function(e){e.contexts||u.push(e)}))}catch(bt){console.warn("ConvivaAppTracker : issue while processing customer passed pligins",bt)}var nt,rt,ot,at,ct,st,lt,ut,dt,ft,vt,gt,ht,pt,mt,_t,wt,kt,bt,yt,Tt=C({base64:Pe.base64,corePlugins:u,callback:function(t){Gt||kt||on.enqueueRequest(t.build(),Rt,function(t){var n,r,i,o=null!==(i=null===(r=null===(n=Tt.getConfig().emitterConfiguration)||void 0===n?void 0:n.batching)||void 0===r?void 0:r.urgentEvents)&&void 0!==i?i:[],a=n="",c="",s="";return"string"==typeof(r=t.getPayload()).e&&(s=r.e),("ue"===s||"pv"===s)&&(void 0!==(t=t.getJson().find((function(e){return"ue_pr"===e.keyIfNotEncoded||"ue_px"===e.keyIfEncoded})))&&("object"===e((t=t.json).dt)&&null!==t.dt&&("string"==typeof(t=t.dt).sc&&(n=t.sc),"object"===e(t.dt)&&"string"==typeof t.dt.name&&(a=t.dt.name)),c=n.split("/")[1]||""),o.some((function(e){return""!==(e=e.toLowerCase())&&(e===s.toLowerCase()||e===c.toLowerCase()||e===a.toLowerCase())})))}(t))},linkClickTracking:Pe.linkClickTracking,buttonClickTracking:Pe.buttonClickTracking,exceptionAutotracking:Pe.exceptionAutotracking,enablePeriodicHeartbeat:Pe.enablePeriodicHeartbeat,periodicHeartbeatInterval:Pe.periodicHeartbeatInterval,enc:Pe.enc,mend:Pe.mend,maxLocalStorageQueueSize:Pe.maxLocalStorageQueueSize,maxGetBytes:Pe.maxGetBytes,bufferSize:Pe.bufferSize,customEventTrackingConfiguration:Pe.customEventTrackingConfiguration,ajaxTrackingConfiguration:Pe.ajaxTrackingConfiguration,networkRequestTrackingConfiguration:Pe.networkRequestTrackingConfiguration,metaTagsTrackingConfiguration:Pe.metaTagsTrackingConfiguration,performanceContextConfig:Pe.performanceContextConfig,lifecycleAutotracking:Pe.lifecycleAutotracking,configurationVersion:Pe.configurationVersion,catRcLastUpdatedTs:Pe.catRcLastUpdatedTs,cacheRefreshInterval:Pe.cacheRefreshInterval,emitterConfiguration:Pe.emitterConfiguration}),Ct=ie(window.location.hostname,window.location.href,G()),Et=q(Ct[0]),At=Ct[1],xt=Ct[2],St=null!==(pe=f.platform)&&void 0!==pe?pe:"web",Rt=P(c,f.convivaCustomerKey),Ot=null!==(me=f.postPath)&&void 0!==me?me:"/ctp",It=null!==(_e=f.appId)&&void 0!==_e?_e:"",Nt=null!==(we=f.convivaCustomerKey)&&void 0!==we?we:"",Dt=null!==(ke=f.appVersion)&&void 0!==ke?ke:"",Pt={},Lt={},zt="undefined"!=typeof document?document.title:void 0,Bt=null===(be=f.resetActivityTrackingOnPageView)||void 0===be||be,Ut=null!==(ye=f.cookieName)&&void 0!==ye?ye:"_sp_",Mt=null!==(Te=f.cookieDomain)&&void 0!==Te?Te:void 0,Ft="/",jt=null!==(Ce=f.cookieSameSite)&&void 0!==Ce?Ce:"None",Ht=null===(Ee=f.cookieSecure)||void 0===Ee||Ee,qt=navigator.doNotTrack||navigator.msDoNotTrack||window.doNotTrack,Gt=void 0!==f.respectDoNotTrack&&(f.respectDoNotTrack&&("yes"===qt||"1"===qt)),Vt=null!==(Ae=f.cookieLifetime)&&void 0!==Ae?Ae:63072e3,Zt=null!==(xe=f.sessionCookieTimeout)&&void 0!==xe?xe:1800,Kt=et(f),Jt=tt(f),Yt=!!f.anonymousTracking,Xt=We(f),Qt="Conviva",Wt="sdkConfig",$t="eventIndex",en=-1,tn=(new Date).getTime(),nn=1,rn=function(){var e=Tt.getConfig();return!e.emitterConfiguration||!e.emitterConfiguration.batching||e.emitterConfiguration.batching.enabled},on=re(i,s,"localStorage"==Xt||"cookieAndLocalStorage"==Xt,f.eventMethod,Ot,(yt=Tt.getConfig(),null!==(bt=yt.bufferSize?yt.bufferSize:f.bufferSize)&&void 0!==bt?bt:20),(function(){var e,t=Tt.getConfig();return null!==(e=t.maxGetBytes?t.maxGetBytes:f.maxGetBytes)&&void 0!==e?e:0}),null===(Se=f.useStm)||void 0===Se||Se,(function(){var e,t=Tt.getConfig();return null!==(e=t.maxLocalStorageQueueSize?t.maxLocalStorageQueueSize:f.maxLocalStorageQueueSize)&&void 0!==e?e:10}),null!==(Re=f.connectionTimeout)&&void 0!==Re?Re:5e3,Jt,null!==(Oe=f.customHeaders)&&void 0!==Oe?Oe:{},null!==(Ie=f.withCredentials)&&void 0!==Ie&&Ie,5e3,(function(){var e,t,n,r=Tt.getConfig();return null!==(n=null!=r&&r.enc?r.enc:null===(t=null===(e=null==f?void 0:f.configs)||void 0===e?void 0:e.network)||void 0===t?void 0:t.encoding)&&void 0!==n?n:"gzip"}),rn,(function(){var e,t,n=Tt.getConfig();return rn()?"number"==typeof(null===(t=null===(e=n.emitterConfiguration)||void 0===e?void 0:e.batching)||void 0===t?void 0:t.byteLimitPostInKB)?1e3*n.emitterConfiguration.batching.byteLimitPostInKB:25e4:4e4}),(function(){var e,t,n=null===(t=null===(e=Tt.getConfig().emitterConfiguration)||void 0===e?void 0:e.batching)||void 0===t?void 0:t.batchingIntervalInSec;return 1e3*("number"==typeof n?n:5)})),an=!1,cn=!1,sn={enabled:!0,installed:!1,configurations:{pagePing:{configMinimumVisitLength:5e3,configHeartBeatTimer:1e3*Pe.periodicHeartbeatInterval,callback:se}}},ln=!1;return f.hasOwnProperty("discoverRootDomain")&&f.discoverRootDomain&&(Mt=function(e,t){for(var n=window.location.hostname,r="_sp_root_domain_test_"+(new Date).getTime(),i="_test_value_"+(new Date).getTime(),o=n.split("."),a=o.length-1;0<=a;){var c=o.slice(a,o.length).join(".");if(Y(r,i,0,"/",c,e,t),Y(r)===i){for(Y(r,"",-1,"/",c,e,t),n=document.cookie.split("; "),r=[],i=0;i<n.length;i++)"_sp_root_domain_test_"===n[i].substring(0,21)&&r.push(n[i]);for(n=r,r=0;r<n.length;r++)Y(n[r],"",-1,"/",c,e,t);return c}--a}return n}(jt,Ht)),Tt.setTrackerVersion(a),Tt.setAppId(It),Tt.setPlatform(St),w(),N(),on.setCustomHeaders({"x-client-id":""+lt}),f.crossDomainLinker&&h(f.crossDomainLinker),De(De({},{getDomainSessionIndex:function(){return nn},getPageViewId:function(){return z()},newSession:function(){var e=D();"0"===e[0]?(_t="none"!=Xt?oe(e):e[6],nn=e[3],A()):(nn++,_t=oe(e,nn)),ae(e),"none"!=Xt&&(x(e),A()),tn=(new Date).getTime()},getCookieName:function(e){return Ut+e+"."+pt},getUserId:function(){return wt},getDomainUserId:function(){return D()[1]},getDomainUserInfo:function(){return D()},setReferrerUrl:function(e){nt=e},setCustomUrl:function(e){v();var t,n=At;m(e)?rt=e:"/"===e.slice(0,1)?rt=m(n)+"://"+H(n)+e:(0<=(t=(n=p(n)).indexOf("?"))&&(n=n.slice(0,t)),(t=n.lastIndexOf("/"))!==n.length-1&&(n=n.slice(0,t+1)),rt=n+e)},setDocumentTitle:function(e){zt=document.title,ot=e},discardHashTag:function(e){at=e},discardBrace:function(e){ct=e},setCookiePath:function(e){Ft=e,w()},setVisitorCookieTimeout:function(e){Vt=e},crossDomainLinker:function(e){h(e)},enableActivityTracking:function(e){sn.configurations.pagePing||(sn.enabled=!0,sn.configurations.pagePing=te(De(De({},e),{callback:se})))},enableActivityTrackingCallback:function(e){sn.configurations.callback||(sn.enabled=!0,sn.configurations.callback=te(e))},updatePageActivity:function(){k()},setOptOutCookie:function(e){st=e},setUserId:function(e){wt=e},setUserIdFromLocation:function(e){v(),wt=Z(e,At)},setUserIdFromReferrer:function(e){v(),wt=Z(e,xt)},setUserIdFromCookie:function(e){wt=Y(e)},setCollectorUrl:function(e,t){Rt=P(e,t),on.setCollectorUrl(Rt)},setBufferSize:function(e){on.setBufferSize(e)},flushBuffer:function(e){void 0===e&&(e={}),on.executeQueue(),e.newBufferSize&&on.setBufferSize(e.newBufferSize)},trackPageView:function(e){void 0===e&&(e={}),$();var t=this.core.getConfig();try{e=De(De({},e),{context:ce(null==t?void 0:t.performanceContextConfig).contexts()})}catch(e){console.warn("Conviva App Tracker:: error adding performacetiming context to page view",e)}W(e)},trackVideoEvent:function(e){var t;void 0===e&&(e={});try{var n=this.core.getConfig();""!=e.name&&null!=e.name||console.warn("Conviva App Tracker:: Video event could not be tracked due to missing name property!!");var r=null===(t=null==n?void 0:n.customEventTrackingConfiguration)||void 0===t?void 0:t.blocklist;null!=r&&r.includes("*")||null!=r&&r.some((function(t){return 0<(null==t?void 0:t.length)&&e.name.toLowerCase().includes(t.toLowerCase())}))||this.core.track(function(e){return E({event:{sc:"cv/ve/1-0-5",dt:S({name:e.name,sid:e.sid,iid:e.iid,clid:e.clid,st:e.st,sst:e.sst,an:e.an,cl:e.cl,lv:e.lv,pn:e.pn,vid:e.vid,fw:e.fw,fwv:e.fwv,mn:e.mn,mv:e.mv,url:e.url,tags:e.tags,cen:e.cen,ced:e.ced,oldsc:e.oldsc,newsc:e.newsc,err:e.err,br:e.br,ft:e.ft,avgbr:e.avgbr})}})}({name:e.name,sid:e.sid,iid:e.iid,clid:e.clid,st:e.st,sst:e.sst,an:e.an,cl:e.cl,lv:e.lv,pn:e.pn,vid:e.vid,fw:e.fw,fwv:e.fwv,mn:e.mn,mv:e.mv,url:e.url,tags:e.tags,cen:e.cen,ced:e.ced,oldsc:e.old,newsc:e.new,err:e.err,br:e.br,ft:e.ft,avgbr:e.avgbr}),e.context,e.timestamp)}catch(e){console.warn("Conviva App Tracker:: Video event could not be tracked due to an exception!!",e)}},trackCustomEvent:function(e){var t,n,r;void 0===e&&(e={});try{var i=d.core.getConfig();if(null!==(n=null===(t=null==i?void 0:i.customEventTrackingConfiguration)||void 0===t?void 0:t.enabled)&&void 0!==n?n:Ne.customEventTrackingConfiguration.enabled){""!=e.name&&null!=e.name||console.warn("Conviva App Tracker:: custom event name is mandatory for trackCustomEvent API!!");var o=e.data;try{"string"!=typeof e.data&&(o=JSON.stringify(e.data))}catch(e){}var a=null===(r=null==i?void 0:i.customEventTrackingConfiguration)||void 0===r?void 0:r.blocklist;null!=a&&a.includes("*")||null!=a&&a.some((function(t){return 0<(null==t?void 0:t.length)&&e.name.toLowerCase().includes(t.toLowerCase())}))||!e.name||""===e.name||d.core.track(function(e){return E({event:{sc:"cv/re/1-0-1",dt:S({name:e.name,data:e.data})}})}({name:e.name,data:o}),e.context,e.timestamp)}}catch(e){console.warn("Conviva App Tracker:: Unable to track custom event! "+e)}},trackAjaxEvent:function(e){void 0===e&&(e={});try{if("xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType){var t=this.core.getConfig();if(""==e.name||null==e.name)console.warn("Conviva App Tracker:: Ajax request could not be tracked due to missing URL property!!");else if(null!=t.ajaxTrackingConfiguration&&null!=t.ajaxTrackingConfiguration.blocklist&&0<t.ajaxTrackingConfiguration.blocklist.length){var n=t.ajaxTrackingConfiguration.blocklist;if(-1==n.indexOf("*")){t=!1;for(var r=0;r<n.length;r++)""!==n[r]&&-1!==e.name.toLowerCase().indexOf(n[r].toLowerCase())&&(t=!0);if(!t){var i=this.core,o=i.track,a=E({event:{sc:"cv/nr/1-0-2",dt:S({targetUrl:e.name,responseStatusCode:e.responseStatus,duration:e.duration})}});o.call(i,a,e.context,e.timestamp)}}}}}catch(e){console.warn("Conviva App Tracker:: Ajax request could not be tracked due to an exception!!",e)}},trackNetworkRequest:function(n){var r,i,o,a,c,s,l,u,d,f,v,g,h,p,m,_,w,k,b,y,T,C;void 0===n&&(n={});try{var A=this.core.getConfig().networkRequestTrackingConfiguration,x=n.responseDetails.responseTime-n.requestDetails.requestTime;try{x=parseFloat(x.toFixed(3))}catch(e){console.warn("Conviva App Tracker:: exception while converting duration to 3 decimal",e)}var R=function(e){try{var t=void 0;return null!=e&&(t=e["content-type"]||e["Content-Type"]||e["Content-type"]),t}catch(e){}},O=function(e){try{var t=void 0;return null!=e&&(t=e["content-length"]||e["Content-Length"]||e["Content-length"]),null==t||isNaN(t)?t:Number(t)}catch(e){}}(null===(o=null==n?void 0:n.responseDetails)||void 0===o?void 0:o.headers),I=R(null===(a=null==n?void 0:n.requestDetails)||void 0===a?void 0:a.headers),N=R(null===(c=null==n?void 0:n.responseDetails)||void 0===c?void 0:c.headers);try{var D=((r={targetUrl:null===(s=null==n?void 0:n.requestDetails)||void 0===s?void 0:s.url,method:null===(l=null==n?void 0:n.requestDetails)||void 0===l?void 0:l.method,responseStatusCode:null!==(u=null==n?void 0:n.responseDetails)&&void 0!==u&&u.status?n.responseDetails.status:0,responseStatusText:null!==(d=null==n?void 0:n.responseDetails)&&void 0!==d&&d.statusText?n.responseDetails.statusText:"ok"})[yr.request_headers]=null===(f=null==n?void 0:n.requestDetails)||void 0===f?void 0:f.headers,r[yr.response_headers]=null===(v=null==n?void 0:n.responseDetails)||void 0===v?void 0:v.headers,r.duration=x,r);if(void 0!==I&&(I.toLowerCase().includes("text/plain")||I.toLowerCase().includes("json")||I.toLowerCase().includes("text/javascript")||I.toLowerCase().includes("application/javascript"))||void 0===I)if("string"==typeof(null===(g=null==n?void 0:n.requestDetails)||void 0===g?void 0:g.body))try{1e4>=(null===(h=null==n?void 0:n.requestDetails)||void 0===h?void 0:h.body.length)&&(D[yr.request_body]=JSON.parse(null===(p=null==n?void 0:n.requestDetails)||void 0===p?void 0:p.body))}catch(e){}else"object"===e(null===(m=null==n?void 0:n.requestDetails)||void 0===m?void 0:m.body)&&(D[yr.request_body]=null===(_=null==n?void 0:n.requestDetails)||void 0===_?void 0:_.body);if(void 0!==N&&(N.toLowerCase().includes("text/plain")||N.toLowerCase().includes("json")||N.toLowerCase().includes("text/javascript")||N.toLowerCase().includes("application/javascript"))&&void 0!==O&&1e4>=O)if("string"==typeof(null===(w=null==n?void 0:n.responseDetails)||void 0===w?void 0:w.body))try{D[yr.response_body]=JSON.parse(null===(k=null==n?void 0:n.responseDetails)||void 0===k?void 0:k.body)}catch(e){}else"object"===e(null===(b=null==n?void 0:n.responseDetails)||void 0===b?void 0:b.body)&&(D[yr.response_body]=null===(y=null==n?void 0:n.responseDetails)||void 0===y?void 0:y.body);var P=function(n,r){var i=[yr.request_body,yr.response_body,yr.request_headers,yr.response_headers],o={};if(r&&0<r.length)for(var a=0;a<r.length;a++){var c=r[a],s=c.conditions;c=t(c,["conditions"]);try{e:{var l=n;try{for(var u=0;u<s.length;u++){var d=s[u],f=!1;if(0<Object.keys(d).length)for(var v=0,g=Object.entries(d);v<g.length;v++){var h=g[v],p=h[1],m=l[h[0]];if(0<p.length){for(var _=0,w=0,k=p;w<k.length;w++){var b=k[w],y="contains",T=b;if("object"===e(b)&&b.length?(y=b[1],T=b[0]):"boolean"!=typeof b&&null!==b||(y="equal",T=b),ne(m,y,T)){f=!0;break}if(f=!1,_+1===p.length)break;_++}if(!1===f)break}}if(f){var C=!0;break e}}}catch(e){console.warn("Conviva App Tracker: Error in Applying nwreqConfig ".concat(e))}C=!1}if(C){l=0;for(var E=Object.entries(n);l<E.length;l++){var A=E[l],x=A[0],S=A[1];if(i.includes(x))try{if(c[x]&&0<c[x].length){u=!1,x!==yr.response_headers&&x!==yr.request_headers||(u=!0);var R=n[x];s={};try{f=0;for(var O=c[x];f<O.length;f++){var I=O[f];v=R,_=s,u&&(I=I.toLowerCase());var N=I.split(".");for(w=0;w<N.length;w++){var D=N[w];null!=v&&v.hasOwnProperty(D)&&(w===N.length-1?_[D]=v[D]:(_[D]=_[D]||{},v=v[D],_=_[D]))}}}catch(e){console.warn("Conviva App Tracker: Error in filtering schema object nwreq ".concat(e))}var P=s;0!==Object.keys(P).length&&(o[x]=P)}}catch(e){o[x]=void 0}else o[x]=S}return o}}catch(e){console.warn("Conviva App Tracker: Error in collecting attributes nwreqConfig ".concat(e))}}for(o=De({},n),n=0;n<i.length;n++)r=i[n],null!=o&&o.hasOwnProperty(r)&&delete o[r];return o}(D,A.collectattr);if(null!==(T=null==n?void 0:n.requestDetails)&&void 0!==T&&T[Er.TRACEPARENT_HEADER_KEY]){var L=((i={})[Er.TRACEPARENT_HEADER_KEY]=null===(C=null==n?void 0:n.requestDetails)||void 0===C?void 0:C[Er.TRACEPARENT_HEADER_KEY],i);P[yr.request_headers]=P[yr.request_headers]?De(De({},P[yr.request_headers]),L):L}this.core.track(E({event:{sc:"cv/nr/1-0-4",dt:S({targetUrl:P.targetUrl,method:P.method,queryParameters:P.queryParameters,responseStatusCode:P.responseStatusCode,responseStatusText:P.responseStatusText,rqh:P.rqh,rsh:P.rsh,rqb:P.rqb,rsb:P.rsb,requestSize:P.requestSize,responseSize:P.responseSize,duration:P.duration,contentType:P.contentType,requestTimestamp:P.requestTimestamp,responseTimestamp:P.responseTimestamp})}}),n.context,n.timestamp)}catch(e){console.warn("Conviva App Tracker:: Network request could not be tracked due to an exception!!",e)}}catch(e){console.warn("Conviva App Tracker:: Network request could not be tracked due to an exception!!",e)}},setCustomTags:function(e){void 0===e&&(e={}),Q(e)},setMetaCustomTags:function(e){void 0===e&&(e={}),function(e){try{var t=Object.keys(e);X(JSON.stringify(e))?t.forEach((function(t){""!==t&&Object.defineProperty(Lt,t,{value:""+e[t],writable:!0,enumerable:!0,configurable:!0})})):console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=")}catch(e){console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",e)}}(e)},unsetCustomTags:function(e){void 0===e&&(e={}),function(e){try{e.forEach((function(e){delete Pt[e]}))}catch(e){console.warn("Conviva AppTracker:: Failed to unset Custom tag(s). Check format of keys set.")}}(e)},preservePageViewId:function(){an=!0},disableAnonymousTracking:function(e){f.anonymousTracking=!1,I(e),N(),on.executeQueue()},enableAnonymousTracking:function(e){var t;f.anonymousTracking=null===(t=e&&(null==e?void 0:e.options))||void 0===t||t,I(e),Kt||L()},clearUserData:O,setKeepAliveInBG:function(e){void 0===e&&(e=!1),ln=e}}),{id:i,namespace:o,core:Tt,sharedState:s})}(i,o,a,c,s,l);var d=De(De({},i),{addPlugin:function(e){var t,n;d.core.addPlugin(e),null===(n=(t=e.plugin).activateBrowserPlugin)||void 0===n||n.call(t,d)}});return u.forEach((function(e){var t;null===(t=e.activateBrowserPlugin)||void 0===t||t.call(e,d)})),d}function le(e,t){try{de(null!=e?e:Object.keys(Dr),Dr).forEach(t)}catch(e){$e.error("Function failed",e)}}function ue(e,t,n,r,i,o){return Dr.hasOwnProperty(e)?null:(Dr[e]=se(e,t,n,r,i,o),Dr[e])}function de(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r];t.hasOwnProperty(i)?n.push(t[i]):$e.warn(i+" not configured")}return n}function fe(){function e(){var e;if(!t.hasLoaded)for(t.hasLoaded=!0,e=0;e<t.registeredOnLoadHandlers.length;e++)t.registeredOnLoadHandlers[e]();return!0}var t=new Pr,n=document,r=window;return V(r,"beforeunload",(function(){try{t.bufferFlushers.forEach((function(e){e(!1)}))}catch(e){console.warn("Conviva App Tracker:: Error in flushBuffers of constructor ".concat(e))}}),!1),"loading"===document.readyState?(n.addEventListener?n.addEventListener("DOMContentLoaded",(function t(){n.removeEventListener("DOMContentLoaded",t,!1),e()})):n.attachEvent&&n.attachEvent("onreadystatechange",(function t(){"complete"===n.readyState&&(n.detachEvent("onreadystatechange",t),e())})),V(r,"load",e,!1)):e(),t}function ve(){return{contexts:function(){var e=window,t=(e=e.performance||e.mozPerformance||e.msPerformance||e.webkitPerformance).timing;return e=e?[{sc:"w3/pt/1-0-0",dt:{navigationStart:t.navigationStart,domainLookupStart:t.domainLookupStart,domainLookupEnd:t.domainLookupEnd,responseStart:t.responseStart,responseEnd:t.responseEnd,loadEventEnd:t.loadEventEnd}}]:[]}}}function ge(){return{activateBrowserPlugin:function(e){Ur[e.id]=e}}}function he(e,t,n){for(var r,i,o,a;null!==(r=t.parentElement)&&null!=r&&"A"!==(i=t.tagName.toUpperCase())&&"AREA"!==i;)t=r;if(null!=(r=t).href){o=(i=r.hostname||H(r.href)).toLowerCase();var c=r.href.replace(i,o);/^(javascript|vbscript|jscript|mocha|livescript|ecmascript|mailto):/i.test(c)||(i=r.id,o=W(r),a=r.target,r=Mr[e.id].linkTrackingContent?r.innerHTML:void 0,r={targetUrl:c=unescape(c),elementId:i,elementClasses:o,elementTarget:a,elementContent:r},e.core.getConfig().linkClickTracking&&e.core.track(A(r),s(n,t)))}}function pe(e,t,n){for(var r;null!==(r=t.parentElement)&&null!=r&&"BUTTON"!==t.tagName.toUpperCase();)t=r;r={elementType:(r=t).type,elementId:r.id,elementClasses:r.className||"",elementName:r.name,elementText:r.innerText,elementValue:r.value},e.core.getConfig().buttonClickTracking&&e.core.track(x(r),s(n,t))}function me(e,t){return function(n){var r=(n=n||window.event).which||n.button,i=n.target||n.srcElement;"click"===n.type?i&&he(Ur[e],i,t):"mousedown"===n.type?1!==r&&2!==r||!i?Mr[e].lastButton=Mr[e].lastTarget=null:(Mr[e].lastButton=r,Mr[e].lastTarget=i):"mouseup"===n.type&&(r===Mr[e].lastButton&&i===Mr[e].lastTarget&&he(Ur[e],i,t),Mr[e].lastButton=Mr[e].lastTarget=null)}}function _e(e,t){return function(n){var r=(n=n||window.event).which||n.button,i=n.target||n.srcElement;"click"===n.type?i&&pe(Ur[e],i,t):"mousedown"===n.type?1!==r&&2!==r||!i?Fr[e].lastButton=Fr[e].lastTarget=null:(Fr[e].lastButton=r,Fr[e].lastTarget=i):"mouseup"===n.type&&(r===Fr[e].lastButton&&i===Fr[e].lastTarget&&pe(Ur[e],i,t),Fr[e].lastButton=Fr[e].lastTarget=null)}}function we(e,t){e=void 0===e?{}:e,Mr[t]={linkTrackingContent:e.trackContent,linkTrackingContext:e.context,linkTrackingPseudoClicks:e.pseudoClicks,linkTrackingFilter:X(e.options)}}function ke(e,t){e=void 0===e?{}:e,Fr[t]={buttonTrackingContent:e.trackContent,buttonTrackingContext:e.context,buttonTrackingFilter:X(e.options)}}function be(e){var t,n,r,i=document.links;for(Ir=e,r=0;r<i.length;r++)if(null!==(n=null===(t=Mr[e])||void 0===t?void 0:t.linkTrackingFilter)&&void 0!==n&&n.call(t,i[r])&&!i[r][e]){var o=e,a=i[r];Mr[o].linkTrackingPseudoClicks?(V(a,"mouseup",me(o,Mr[o].linkTrackingContext),!1),V(a,"mousedown",me(o,Mr[o].linkTrackingContext),!1)):V(a,"click",me(o,Mr[o].linkTrackingContext),!1),i[r][e]=!0}}function ye(e,t){try{qr++;for(var n=0;n<e.length;n++)"childList"===e[n].type&&(be(Ir),Ce(Ir));20<qr&&(t.disconnect(),setTimeout((function(){qr=0,t.observe(document.body,Gr)}),2e3))}catch(e){console.warn("Conviva App Tracker caused Exception in mutation callback of click tracking Plugin",e)}}function Te(){clearInterval(Or),Or=setInterval((function(){qr=0}),1e3)}function Ce(e){var t,n,r,i=document.querySelectorAll("button");for(r=0;r<i.length;r++)null!==(n=null===(t=Fr[e])||void 0===t?void 0:t.buttonTrackingFilter)&&void 0!==n&&n.call(t,i[r])&&!i[r][e]&&(V(i[r],"click",_e(e,Fr[e].buttonTrackingContext),!1),i[r][e]=!0)}function Ee(e,t){var n,r=t.context,i=e.id+"form",o=function(e){if(e){var t=function(e){return!0},n=null;return!function(e){return null!=e&&0<Array.prototype.slice.call(e).length}(e.forms)?t=X(e.forms):n=e.forms,{forms:n,formFilter:t,fieldFilter:Q(e.fields),fieldTransform:Ae(e.fields),eventFilter:function(t){var n;return-1<(null!==(n=e.events)&&void 0!==n?n:Zr).indexOf(t)}}}return{forms:null,formFilter:function(){return!0},fieldFilter:function(){return!0},fieldTransform:Jr,eventFilter:function(){return!0}}}(t.options);t=null!==(n=o.forms)&&void 0!==n?n:document.getElementsByTagName("form"),Array.prototype.slice.call(t).forEach((function(t){o.formFilter(t)&&(Array.prototype.slice.call(Kr).forEach((function(n){Array.prototype.slice.call(t.getElementsByTagName(n)).forEach((function(t){o.fieldFilter(t)&&!t[i]&&"password"!==t.type.toLowerCase()&&(o.eventFilter(Nr.FOCUS_FORM)&&V(t,"focus",Se(e,o,"focus_form",r),!1),o.eventFilter(Nr.CHANGE_FORM)&&V(t,"change",Se(e,o,"change_form",r),!1),t[i]=!0)}))})),t[i]||(o.eventFilter(Nr.SUBMIT_FORM)&&V(t,"submit",function(e,t,n,r){return function(i){var o;i=i.target;var a=function(e,t){var n=[];return Array.prototype.slice.call(Kr).forEach((function(r){r=Array.prototype.slice.call(t.getElementsByTagName(r)).filter((function(t){return t.hasOwnProperty(e)})),Array.prototype.slice.call(r).forEach((function(e){if("submit"!==e.type){var t={name:xe(e),value:e.value,nodeName:e.nodeName};e.type&&"INPUT"===e.nodeName.toUpperCase()&&(t.type=e.type),"checkbox"!==e.type&&"radio"!==e.type||e.checked||(t.value=null),n.push(t)}}))})),n}(n,i);a.forEach((function(e){var n;e.value=null!==(n=t.fieldTransform(e.value,e))&&void 0!==n?n:e.value})),e.core.track(function(e){return E({event:{sc:"sp/sf/1-0-0",dt:S({formId:e.formId,formClasses:e.formClasses,elements:e.elements})}})}({formId:null!==(o=xe(i))&&void 0!==o?o:"",formClasses:W(i),elements:a}),s(r,i,a))}}(e,o,i,r)),t[i]=!0))}))}function Ae(e){return e&&Object.prototype.hasOwnProperty.call(e,"transform")?e.transform:Jr}function xe(e){for(var t=0,n=["name","id","type","nodeName"];t<n.length;t++){var r=n[t];if(0!=e[r]&&"string"==typeof e[r])return e[r]}return null}function Se(e,t,n,r){return function(i){var o;if(i=i.target){var a=i.nodeName&&"INPUT"===i.nodeName.toUpperCase()?i.type:null,c="checkbox"!==i.type||i.checked?t.fieldTransform(i.value,i):null;if("change_form"===n||"checkbox"!==a&&"radio"!==a){var l,u=e.core,d=u.track;for(l=i;l&&l.nodeName&&"HTML"!==l.nodeName.toUpperCase()&&"FORM"!==l.nodeName.toUpperCase();)l=l.parentNode;l=null!=(l=l&&l.nodeName&&"FORM"===l.nodeName.toUpperCase()?xe(l):null)?l:"";var f=null!==(o=xe(i))&&void 0!==o?o:"";o="",l={formId:l,elementId:f,nodeName:i.nodeName,elementClasses:W(i),value:null!=c?c:null},"change_form"===n?(o="sp/cf/1-0-0",l.type=a):"focus_form"===n&&(o="sp/ff/1-0-0",l.elementType=a),o=E({event:{sc:o,dt:S(l,{value:!0})}}),d.call(u,o,s(r,i,a,c))}}}}function Re(){return{activateBrowserPlugin:function(e){Yr[e.id]=e}}}function Oe(){return{activateBrowserPlugin:function(e){Qr[e.id]=e}}}function Ie(e,t){void 0===t&&(t=Object.keys(Qr));var n=e.message,r=e.filename,i=e.lineno,o=e.colno,a=e.error,c=e.context,s=e.timestamp,l=a&&a.stack?a.stack:null;void 0===n||null===n&&void 0===l||null===l&&void 0===i||null===i&&void 0===o||null===o&&void 0===r||null===r||function(e,t,n){try{de(null!=e?e:Object.keys(t),t).forEach(n)}catch(e){$e.error("Function failed",e)}}(t,Qr,(function(e){e.core.getConfig().exceptionAutotracking&&e.core.track(E({event:{sc:"sp/ae/1-0-1",dt:{programmingLanguage:"JAVASCRIPT",message:null!=n?n:"JS Exception.",stackTrace:l,lineNumber:i,lineColumn:o,fileName:r}}}),c,s)}))}function Ne(e){var n,r=[];return(null!==(n=null==e?void 0:e.contexts)&&void 0!==n?n:{}).performanceTiming&&(e=t(Br,["PerformanceTimingPlugin"]),r.push([ve(),e])),e=t(Vr,["LinkClickTrackingPlugin"]),r.push([ge(),e]),e=t(Xr,["FormTrackingPlugin"]),r.push([Re(),e]),e=t(Wr,["ErrorTrackingPlugin"]),r.push([Oe(),e]),r}var De=function(){return De=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},De.apply(this,arguments)},Pe={},Le="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(Le){var ze=new Uint8Array(16);Pe=function(){return Le(ze),ze}}else{var Be=Array(16);Pe=function(){for(var e,t=0;16>t;t++)0==(3&t)&&(e=4294967296*Math.random()),Be[t]=e>>>((3&t)<<3)&255;return Be}}for(var Ue=[],Me=0;256>Me;++Me)Ue[Me]=(Me+256).toString(16).substr(1);var Fe,je,He=function(e,t){return t=t||0,[Ue[e[t++]],Ue[e[t++]],Ue[e[t++]],Ue[e[t++]],"-",Ue[e[t++]],Ue[e[t++]],"-",Ue[e[t++]],Ue[e[t++]],"-",Ue[e[t++]],Ue[e[t++]],"-",Ue[e[t++]],Ue[e[t++]],Ue[e[t++]],Ue[e[t++]],Ue[e[t++]],Ue[e[t++]]].join("")},qe=Pe,Ge=0,Ve=0,Ze=Pe,Ke=function(e,t,n){if(n=t&&n||0,"string"==typeof e&&(t="binary"===e?Array(16):null,e=null),(e=(e=e||{}).random||(e.rng||Ze)())[6]=15&e[6]|64,e[8]=63&e[8]|128,t)for(var r=0;16>r;++r)t[n+r]=e[r];return t||He(e)};Ke.v1=function(e,t,n){n=t&&n||0;var r=t||[],i=(e=e||{}).node||Fe,o=void 0!==e.clockseq?e.clockseq:je;if(null==i||null==o){var a=qe();null==i&&(i=Fe=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==o&&(o=je=16383&(a[6]<<8|a[7]))}a=void 0!==e.msecs?e.msecs:(new Date).getTime();var c=void 0!==e.nsecs?e.nsecs:Ve+1,s=a-Ge+(c-Ve)/1e4;if(0>s&&void 0===e.clockseq&&(o=o+1&16383),(0>s||a>Ge)&&void 0===e.nsecs&&(c=0),1e4<=c)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");for(Ge=a,Ve=c,je=o,e=(1e4*(268435455&(a+=122192928e5))+c)%4294967296,r[n++]=e>>>24&255,r[n++]=e>>>16&255,r[n++]=e>>>8&255,r[n++]=255&e,e=a/4294967296*1e4&268435455,r[n++]=e>>>8&255,r[n++]=255&e,r[n++]=e>>>24&15|16,r[n++]=e>>>16&255,r[n++]=o>>>8|128,r[n++]=255&o,o=0;6>o;++o)r[n+o]=i[o];return t||He(r)};var Je,Ye,Xe=Ke.v4=Ke,Qe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";(Ye=Je||(Je={}))[Ye.none=0]="none",Ye[Ye.error=1]="error",Ye[Ye.warn=2]="warn",Ye[Ye.debug=3]="debug",Ye[Ye.info=4]="info";var We,$e=function(e){return void 0===e&&(e=Je.warn),{setLogLevel:function(t){e=Je[t]?t:Je.warn},warn:function(t,r){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];e>=Je.warn&&"undefined"!=typeof console&&(o="Conviva: "+t,r?console.warn.apply(console,n([o+"\n",r],i,!1)):console.warn.apply(console,n([o],i,!1)))},error:function(t,r){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];e>=Je.error&&"undefined"!=typeof console&&(o="Conviva: "+t+"\n",r?console.error.apply(console,n([o+"\n",r],i,!1)):console.error.apply(console,n([o],i,!1)))},debug:function(t){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];e>=Je.debug&&"undefined"!=typeof console&&console.debug.apply(console,n(["Conviva: "+t],r,!1))},info:function(t){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];e>=Je.info&&"undefined"!=typeof console&&console.info.apply(console,n(["Conviva: "+t],r,!1))}}}();!function(e){e.response_body="rsb",e.request_body="rqb",e.response_headers="rsh",e.request_headers="rqh"}(We||(We={}));var et={},tt={};!function(){var e={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(t){if(t.constructor==Number)return 16711935&e.rotl(t,8)|4278255360&e.rotl(t,24);for(var n=0;n<t.length;n++)t[n]=e.endian(t[n]);return t},randomBytes:function(e){for(var t=[];0<e;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var t=[],n=0;n<e.length;n+=3)for(var r=e[n]<<16|e[n+1]<<8|e[n+2],i=0;4>i;i++)8*n+6*i<=8*e.length?t.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(r>>>6*(3-i)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],n=0,r=0;n<e.length;r=++n%4)0!=r&&t.push(("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(n-1))&Math.pow(2,-2*r+8)-1)<<2*r|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(n))>>>6-2*r);return t}};tt=e}();var nt={utf8:{stringToBytes:function(e){return nt.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(nt.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}},rt=nt;!function(){var e=tt,t=rt.utf8,n=rt.bin,r=function(r,i){var o=e.wordsToBytes,a=r;a.constructor==String?a=t.stringToBytes(a):"undefined"!=typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(a)?a=Array.prototype.slice.call(a,0):Array.isArray(a)||(a=a.toString()),r=e.bytesToWords(a);var c=8*a.length;a=[];var s=1732584193,l=-271733879,u=-1732584194,d=271733878,f=-1009589776;for(r[c>>5]|=128<<24-c%32,r[15+(c+64>>>9<<4)]=c,c=0;c<r.length;c+=16){for(var v=s,g=l,h=u,p=d,m=f,_=0;80>_;_++){if(16>_)a[_]=r[c+_];else{var w=a[_-3]^a[_-8]^a[_-14]^a[_-16];a[_]=w<<1|w>>>31}w=(s<<5|s>>>27)+f+(a[_]>>>0)+(20>_?1518500249+(l&u|~l&d):40>_?1859775393+(l^u^d):60>_?(l&u|l&d|u&d)-1894007588:(l^u^d)-899497514),f=d,d=u,u=l<<30|l>>>2,l=s,s=w}s+=v,l+=g,u+=h,d+=p,f+=m}return o=o.call(e,[s,l,u,d,f]),i&&i.asBytes?o:i&&i.asString?n.bytesToString(o):e.bytesToHex(o)};r._blocksize=16,r._digestsize=20,et=r}();var it=et,ot=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),at=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),ct=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),st=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lt=Array(576);R(lt);var ut=Array(60);R(ut);var dt=Array(512);R(dt);var ft=Array(256);R(ft);var vt=Array(29);R(vt);var gt=Array(30);R(gt);var ht,pt,mt,_t=function(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},wt=function(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,_t(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},kt=function(e,t,n){wt(e,n[2*t],n[2*t+1])},bt=function(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(0<--t);return n>>>1},yt=function(e,t,n){var r,i=Array(16),o=0;for(r=1;15>=r;r++)o=o+n[r-1]<<1,i[r]=o;for(n=0;n<=t;n++)0!==(o=e[2*n+1])&&(e[2*n]=bt(i[o]++,o))},Tt=function(e){var t;for(t=0;286>t;t++)e.dyn_ltree[2*t]=0;for(t=0;30>t;t++)e.dyn_dtree[2*t]=0;for(t=0;19>t;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Ct=function(e){8<e.bi_valid?_t(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Et=function(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]},At=function(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&Et(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!Et(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},xt=function(e,t,n){var r=0;if(0!==e.sym_next)do{var i=255&e.pending_buf[e.sym_buf+r++];i+=(255&e.pending_buf[e.sym_buf+r++])<<8;var o=e.pending_buf[e.sym_buf+r++];if(0===i)kt(e,o,t);else{var a=ft[o];kt(e,a+256+1,t);var c=ot[a];0!==c&&(o-=vt[a],wt(e,o,c)),a=256>--i?dt[i]:dt[256+(i>>>7)],kt(e,a,n),0!==(c=at[a])&&(i-=gt[a],wt(e,i,c))}}while(r<e.sym_next);kt(e,256,t)},St=function(e,t){var n,r=t.dyn_tree,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,a=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<a;n++)0!==r[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):r[2*n+1]=0;for(;2>e.heap_len;){var s=e.heap[++e.heap_len]=2>c?++c:0;r[2*s]=1,e.depth[s]=0,e.opt_len--,o&&(e.static_len-=i[2*s+1])}for(t.max_code=c,n=e.heap_len>>1;1<=n;n--)At(e,r,n);s=a;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],At(e,r,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,r[2*s]=r[2*n]+r[2*i],e.depth[s]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,r[2*n+1]=r[2*i+1]=s,e.heap[1]=s++,At(e,r,1)}while(2<=e.heap_len);e.heap[--e.heap_max]=e.heap[1],n=t.dyn_tree,s=t.max_code,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,a=t.stat_desc.extra_bits;var l,u=t.stat_desc.extra_base,d=t.stat_desc.max_length,f=0;for(l=0;15>=l;l++)e.bl_count[l]=0;for(n[2*e.heap[e.heap_max]+1]=0,t=e.heap_max+1;573>t;t++){var v=e.heap[t];if((l=n[2*n[2*v+1]+1]+1)>d&&(l=d,f++),n[2*v+1]=l,!(v>s)){e.bl_count[l]++;var g=0;v>=u&&(g=a[v-u]);var h=n[2*v];e.opt_len+=h*(l+g),o&&(e.static_len+=h*(i[2*v+1]+g))}}if(0!==f){do{for(l=d-1;0===e.bl_count[l];)l--;e.bl_count[l]--,e.bl_count[l+1]+=2,e.bl_count[d]--,f-=2}while(0<f);for(l=d;0!==l;l--)for(v=e.bl_count[l];0!==v;)(i=e.heap[--t])>s||(n[2*i+1]!==l&&(e.opt_len+=(l-n[2*i+1])*n[2*i],n[2*i+1]=l),v--)}yt(r,c,e.bl_count)},Rt=function(e,t,n){var r,i=-1,o=t[1],a=0,c=7,s=4;for(0===o&&(c=138,s=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++){var l=o;o=t[2*(r+1)+1],++a<c&&l===o||(a<s?e.bl_tree[2*l]+=a:0!==l?(l!==i&&e.bl_tree[2*l]++,e.bl_tree[32]++):10>=a?e.bl_tree[34]++:e.bl_tree[36]++,a=0,i=l,0===o?(c=138,s=3):l===o?(c=6,s=3):(c=7,s=4))}},Ot=function(e,t,n){var r,i=-1,o=t[1],a=0,c=7,s=4;for(0===o&&(c=138,s=3),r=0;r<=n;r++){var l=o;if(o=t[2*(r+1)+1],!(++a<c&&l===o)){if(a<s)do{kt(e,l,e.bl_tree)}while(0!=--a);else 0!==l?(l!==i&&(kt(e,l,e.bl_tree),a--),kt(e,16,e.bl_tree),wt(e,a-3,2)):10>=a?(kt(e,17,e.bl_tree),wt(e,a-3,3)):(kt(e,18,e.bl_tree),wt(e,a-11,7));a=0,i=l,0===o?(c=138,s=3):l===o?(c=6,s=3):(c=7,s=4)}}},It=!1,Nt=function(e,t,n,r){wt(e,r?1:0,3),Ct(e),_t(e,n),_t(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},Dt=function(e,t,n,r){var i,o=65535&e|0;for(e=e>>>16&65535|0;0!==n;){n-=i=2e3<n?2e3:n;do{e=e+(o=o+t[r++]|0)|0}while(--i);o%=65521,e%=65521}return o|e<<16|0},Pt=new Uint32Array(function(){for(var e,t=[],n=0;256>n;n++){e=n;for(var r=0;8>r;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}()),Lt=function(e,t,n,r){for(n=r+n,e^=-1;r<n;r++)e=e>>>8^Pt[255&(e^t[r])];return-1^e},zt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Bt={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},Ut=function(e,t,n){return e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(ft[n]+256+1)]++,e.dyn_dtree[2*(256>t?dt[t]:dt[256+(t>>>7)])]++),e.sym_next===e.sym_end},Mt=Bt.Z_NO_FLUSH,Ft=Bt.Z_PARTIAL_FLUSH,jt=Bt.Z_FULL_FLUSH,Ht=Bt.Z_FINISH,qt=Bt.Z_BLOCK,Gt=Bt.Z_OK,Vt=Bt.Z_STREAM_END,Zt=Bt.Z_STREAM_ERROR,Kt=Bt.Z_DATA_ERROR,Jt=Bt.Z_BUF_ERROR,Yt=Bt.Z_DEFAULT_COMPRESSION,Xt=Bt.Z_FILTERED,Qt=Bt.Z_HUFFMAN_ONLY,Wt=Bt.Z_RLE,$t=Bt.Z_FIXED,en=Bt.Z_DEFAULT_STRATEGY,tn=Bt.Z_UNKNOWN,nn=Bt.Z_DEFLATED,rn=function(e,t){return e.msg=zt[t],t},on=function(e){for(var t=e.length;0<=--t;)e[t]=0},an=function(e,t,n){return(t<<e.hash_shift^n)&e.hash_mask},cn=function(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},sn=function(e,t){var n=0<=e.block_start?e.block_start:-1,r=e.strstart-e.block_start,i=0;if(0<e.level){for(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;31>=t;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;256>t;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),St(e,e.l_desc),St(e,e.d_desc),Rt(e,e.dyn_ltree,e.l_desc.max_code),Rt(e,e.dyn_dtree,e.d_desc.max_code),St(e,e.bl_desc),i=18;3<=i&&0===e.bl_tree[2*st[i]+1];i--);e.opt_len+=3*(i+1)+14;var o=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3;a<=o&&(o=a)}else o=a=r+5;if(r+4<=o&&-1!==n)Nt(e,n,r,t);else if(4===e.strategy||a===o)wt(e,2+(t?1:0),3),xt(e,lt,ut);else{for(wt(e,4+(t?1:0),3),n=e.l_desc.max_code+1,r=e.d_desc.max_code+1,i+=1,wt(e,n-257,5),wt(e,r-1,5),wt(e,i-4,4),o=0;o<i;o++)wt(e,e.bl_tree[2*st[o]+1],3);Ot(e,e.dyn_ltree,n-1),Ot(e,e.dyn_dtree,r-1),xt(e,e.dyn_ltree,e.dyn_dtree)}Tt(e),t&&Ct(e),e.block_start=e.strstart,cn(e.strm)},ln=function(e,t){e.pending_buf[e.pending++]=t},un=function(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},dn=function(e,t,n,r){var i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),1===e.state.wrap?e.adler=Dt(e.adler,t,i,n):2===e.state.wrap&&(e.adler=Lt(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},fn=function(e,t){var n=e.max_chain_length,r=e.strstart,i=e.prev_length,o=e.nice_match,a=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,c=e.window,s=e.w_mask,l=e.prev,u=e.strstart+258,d=c[r+i-1],f=c[r+i];e.prev_length>=e.good_match&&(n>>=2),o>e.lookahead&&(o=e.lookahead);do{var v=t;if(c[v+i]===f&&c[v+i-1]===d&&c[v]===c[r]&&c[++v]===c[r+1]){for(r+=2,v++;c[++r]===c[++v]&&c[++r]===c[++v]&&c[++r]===c[++v]&&c[++r]===c[++v]&&c[++r]===c[++v]&&c[++r]===c[++v]&&c[++r]===c[++v]&&c[++r]===c[++v]&&r<u;);if(v=258-(u-r),r=u-258,v>i){if(e.match_start=t,i=v,v>=o)break;d=c[r+i-1],f=c[r+i]}}}while((t=l[t&s])>a&&0!=--n);return i<=e.lookahead?i:e.lookahead},vn=function(e){var t=e.w_size;do{var n=e.window_size-e.lookahead-e.strstart;if(e.strstart>=t+(t-262)){e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart);var r,i=e,o=i.w_size,a=r=i.hash_size;do{var c=i.head[--a];i.head[a]=c>=o?c-o:0}while(--r);a=r=o;do{c=i.prev[--a],i.prev[a]=c>=o?c-o:0}while(--r);n+=t}if(0===e.strm.avail_in)break;if(n=dn(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=n,3<=e.lookahead+e.insert)for(n=e.strstart-e.insert,e.ins_h=e.window[n],e.ins_h=an(e,e.ins_h,e.window[n+1]);e.insert&&(e.ins_h=an(e,e.ins_h,e.window[n+3-1]),e.prev[n&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=n,n++,e.insert--,!(3>e.lookahead+e.insert)););}while(262>e.lookahead&&0!==e.strm.avail_in)},gn=function(e,t){var n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r=0,i=e.strm.avail_in;do{var o=65535,a=e.bi_valid+42>>3;if(e.strm.avail_out<a)break;a=e.strm.avail_out-a;var c=e.strstart-e.block_start;if(o>c+e.strm.avail_in&&(o=c+e.strm.avail_in),o>a&&(o=a),o<n&&(0===o&&t!==Ht||t===Mt||o!==c+e.strm.avail_in))break;r=t===Ht&&o===c+e.strm.avail_in?1:0,Nt(e,0,0,r),e.pending_buf[e.pending-4]=o,e.pending_buf[e.pending-3]=o>>8,e.pending_buf[e.pending-2]=~o,e.pending_buf[e.pending-1]=~o>>8,cn(e.strm),c&&(c>o&&(c=o),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+c),e.strm.next_out),e.strm.next_out+=c,e.strm.avail_out-=c,e.strm.total_out+=c,e.block_start+=c,o-=c),o&&(dn(e.strm,e.strm.output,e.strm.next_out,o),e.strm.next_out+=o,e.strm.avail_out-=o,e.strm.total_out+=o)}while(0===r);return(i-=e.strm.avail_in)&&(i>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=i&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),2>e.matches&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-i,e.strm.next_in),e.strstart),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),r?4:t!==Mt&&t!==Ht&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),2>e.matches&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(dn(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,n=(a=65535<e.pending_buf_size-a?65535:e.pending_buf_size-a)>e.w_size?e.w_size:a,((c=e.strstart-e.block_start)>=n||(c||t===Ht)&&t!==Mt&&0===e.strm.avail_in&&c<=a)&&(o=c>a?a:c,r=t===Ht&&0===e.strm.avail_in&&o===c?1:0,Nt(e,e.block_start,o,r),e.block_start+=o,cn(e.strm)),r?3:1)},hn=function(e,t){for(var n;;){if(262>e.lookahead){if(vn(e),262>e.lookahead&&t===Mt)return 1;if(0===e.lookahead)break}if(n=0,3<=e.lookahead&&(e.ins_h=an(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-262&&(e.match_length=fn(e,n)),3<=e.match_length)if(n=Ut(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&3<=e.lookahead){e.match_length--;do{e.strstart++,e.ins_h=an(e,e.ins_h,e.window[e.strstart+3-1]),e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=an(e,e.ins_h,e.window[e.strstart+1]);else n=Ut(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(sn(e,!1),0===e.strm.avail_out))return 1}return e.insert=2>e.strstart?e.strstart:2,t===Ht?(sn(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(sn(e,!1),0===e.strm.avail_out)?1:2},pn=function(e,t){for(var n,r;;){if(262>e.lookahead){if(vn(e),262>e.lookahead&&t===Mt)return 1;if(0===e.lookahead)break}if(n=0,3<=e.lookahead&&(e.ins_h=an(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-262&&(e.match_length=fn(e,n),5>=e.match_length&&(e.strategy===Xt||3===e.match_length&&4096<e.strstart-e.match_start)&&(e.match_length=2)),3<=e.prev_length&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,n=Ut(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=an(e,e.ins_h,e.window[e.strstart+3-1]),e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(sn(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=Ut(e,0,e.window[e.strstart-1]))&&sn(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(Ut(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=2>e.strstart?e.strstart:2,t===Ht?(sn(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(sn(e,!1),0===e.strm.avail_out)?1:2},mn=[new N(0,0,0,0,gn),new N(4,4,8,4,hn),new N(4,5,16,8,hn),new N(4,6,32,32,hn),new N(4,4,16,16,pn),new N(8,16,32,32,pn),new N(8,16,128,128,pn),new N(8,32,128,256,pn),new N(32,128,258,1024,pn),new N(32,258,258,4096,pn)],_n=function(e){if(!e)return 1;var t=e.state;return!t||t.strm!==e||42!==t.status&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&113!==t.status&&666!==t.status?1:0},wn=function(e){if(_n(e))return rn(e,Zt);e.total_in=e.total_out=0,e.data_type=tn;var t=e.state;if(t.pending=0,t.pending_out=0,0>t.wrap&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=-2,!It){var n,r,i;for(e=Array(16),i=r=0;28>i;i++)for(vt[i]=r,n=0;n<1<<ot[i];n++)ft[r++]=i;for(ft[r-1]=i,i=r=0;16>i;i++)for(gt[i]=r,n=0;n<1<<at[i];n++)dt[r++]=i;for(r>>=7;30>i;i++)for(gt[i]=r<<7,n=0;n<1<<at[i]-7;n++)dt[256+r++]=i;for(n=0;15>=n;n++)e[n]=0;for(n=0;143>=n;)lt[2*n+1]=8,n++,e[8]++;for(;255>=n;)lt[2*n+1]=9,n++,e[9]++;for(;279>=n;)lt[2*n+1]=7,n++,e[7]++;for(;287>=n;)lt[2*n+1]=8,n++,e[8]++;for(yt(lt,287,e),n=0;30>n;n++)ut[2*n+1]=5,ut[2*n]=bt(n,5);ht=new O(lt,ot,257,286,15),pt=new O(ut,at,0,30,15),mt=new O([],ct,0,19,7),It=!0}return t.l_desc=new I(t.dyn_ltree,ht),t.d_desc=new I(t.dyn_dtree,pt),t.bl_desc=new I(t.bl_tree,mt),t.bi_buf=0,t.bi_valid=0,Tt(t),Gt},kn=function(e){var t=wn(e);return t===Gt&&((e=e.state).window_size=2*e.w_size,on(e.head),e.max_lazy_match=mn[e.level].max_lazy,e.good_match=mn[e.level].good_length,e.nice_match=mn[e.level].nice_length,e.max_chain_length=mn[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),t},bn=function(e,t,n,r,i,o){if(!e)return Zt;var a=1;if(t===Yt&&(t=6),0>r?(a=0,r=-r):15<r&&(a=2,r-=16),1>i||9<i||n!==nn||8>r||15<r||0>t||9<t||0>o||o>$t||8===r&&1!==a)return rn(e,Zt);8===r&&(r=9);var c=new D;return e.state=c,c.strm=e,c.status=42,c.wrap=a,c.gzhead=null,c.w_bits=r,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=i+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+3-1)/3),c.window=new Uint8Array(2*c.w_size),c.head=new Uint16Array(c.hash_size),c.prev=new Uint16Array(c.w_size),c.lit_bufsize=1<<i+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new Uint8Array(c.pending_buf_size),c.sym_buf=c.lit_bufsize,c.sym_end=3*(c.lit_bufsize-1),c.level=t,c.strategy=o,c.method=n,kn(e)},yn={deflateInit:function(e,t){return bn(e,t,nn,15,8,en)},deflateInit2:bn,deflateReset:kn,deflateResetKeep:wn,deflateSetHeader:function(e,t){return _n(e)||2!==e.state.wrap?Zt:(e.state.gzhead=t,Gt)},deflate:function(e,t){if(_n(e)||t>qt||0>t)return e?rn(e,Zt):Zt;var n=e.state;if(!e.output||0!==e.avail_in&&!e.input||666===n.status&&t!==Ht)return rn(e,0===e.avail_out?Jt:Zt);var r=n.last_flush;if(n.last_flush=t,0!==n.pending){if(cn(e),0===e.avail_out)return n.last_flush=-1,Gt}else if(0===e.avail_in&&2*t-(4<t?9:0)<=2*r-(4<r?9:0)&&t!==Ht)return rn(e,Jt);if(666===n.status&&0!==e.avail_in)return rn(e,Jt);if(42===n.status&&0===n.wrap&&(n.status=113),42===n.status&&(r=nn+(n.w_bits-8<<4)<<8,r|=(n.strategy>=Qt||2>n.level?0:6>n.level?1:6===n.level?2:3)<<6,0!==n.strstart&&(r|=32),un(n,r+(31-r%31)),0!==n.strstart&&(un(n,e.adler>>>16),un(n,65535&e.adler)),e.adler=1,n.status=113,cn(e),0!==n.pending))return n.last_flush=-1,Gt;if(57===n.status)if(e.adler=0,ln(n,31),ln(n,139),ln(n,8),n.gzhead)ln(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),ln(n,255&n.gzhead.time),ln(n,n.gzhead.time>>8&255),ln(n,n.gzhead.time>>16&255),ln(n,n.gzhead.time>>24&255),ln(n,9===n.level?2:n.strategy>=Qt||2>n.level?4:0),ln(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(ln(n,255&n.gzhead.extra.length),ln(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Lt(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(ln(n,0),ln(n,0),ln(n,0),ln(n,0),ln(n,0),ln(n,9===n.level?2:n.strategy>=Qt||2>n.level?4:0),ln(n,3),n.status=113,cn(e),0!==n.pending)return n.last_flush=-1,Gt;if(69===n.status){if(n.gzhead.extra){r=n.pending;for(var i=(65535&n.gzhead.extra.length)-n.gzindex;n.pending+i>n.pending_buf_size;){var o=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+o),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>r&&(e.adler=Lt(e.adler,n.pending_buf,n.pending-r,r)),n.gzindex+=o,cn(e),0!==n.pending)return n.last_flush=-1,Gt;r=0,i-=o}o=new Uint8Array(n.gzhead.extra),n.pending_buf.set(o.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending+=i,n.gzhead.hcrc&&n.pending>r&&(e.adler=Lt(e.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=Lt(e.adler,n.pending_buf,n.pending-r,r)),cn(e),0!==n.pending)return n.last_flush=-1,Gt;r=0}i=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,ln(n,i)}while(0!==i);n.gzhead.hcrc&&n.pending>r&&(e.adler=Lt(e.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=Lt(e.adler,n.pending_buf,n.pending-r,r)),cn(e),0!==n.pending)return n.last_flush=-1,Gt;r=0}i=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,ln(n,i)}while(0!==i);n.gzhead.hcrc&&n.pending>r&&(e.adler=Lt(e.adler,n.pending_buf,n.pending-r,r))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(cn(e),0!==n.pending))return n.last_flush=-1,Gt;ln(n,255&e.adler),ln(n,e.adler>>8&255),e.adler=0}if(n.status=113,cn(e),0!==n.pending)return n.last_flush=-1,Gt}if(0!==e.avail_in||0!==n.lookahead||t!==Mt&&666!==n.status){if(r=0===n.level?gn(n,t):n.strategy===Qt?function(e,t){for(var n;;){if(0===e.lookahead&&(vn(e),0===e.lookahead)){if(t===Mt)return 1;break}if(e.match_length=0,n=Ut(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(sn(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Ht?(sn(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(sn(e,!1),0===e.strm.avail_out)?1:2}(n,t):n.strategy===Wt?function(e,t){for(var n,r,i,o=e.window;;){if(258>=e.lookahead){if(vn(e),258>=e.lookahead&&t===Mt)return 1;if(0===e.lookahead)break}if(e.match_length=0,3<=e.lookahead&&0<e.strstart&&(n=o[r=e.strstart-1])===o[++r]&&n===o[++r]&&n===o[++r]){for(i=e.strstart+258;n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&r<i;);e.match_length=258-(i-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(3<=e.match_length?(n=Ut(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Ut(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(sn(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Ht?(sn(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(sn(e,!1),0===e.strm.avail_out)?1:2}(n,t):mn[n.level].func(n,t),3!==r&&4!==r||(n.status=666),1===r||3===r)return 0===e.avail_out&&(n.last_flush=-1),Gt;if(2===r&&(t===Ft?(wt(n,2,3),kt(n,256,lt),16===n.bi_valid?(_t(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):8<=n.bi_valid&&(n.pending_buf[n.pending++]=255&n.bi_buf,n.bi_buf>>=8,n.bi_valid-=8)):t!==qt&&(Nt(n,0,0,!1),t===jt&&(on(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),cn(e),0===e.avail_out))return n.last_flush=-1,Gt}return t!==Ht?Gt:0>=n.wrap?Vt:(2===n.wrap?(ln(n,255&e.adler),ln(n,e.adler>>8&255),ln(n,e.adler>>16&255),ln(n,e.adler>>24&255),ln(n,255&e.total_in),ln(n,e.total_in>>8&255),ln(n,e.total_in>>16&255),ln(n,e.total_in>>24&255)):(un(n,e.adler>>>16),un(n,65535&e.adler)),cn(e),0<n.wrap&&(n.wrap=-n.wrap),0!==n.pending?Gt:Vt)},deflateEnd:function(e){if(_n(e))return Zt;var t=e.state.status;return e.state=null,113===t?rn(e,Kt):Gt},deflateSetDictionary:function(e,t){var n=t.length;if(_n(e))return Zt;var r=e.state,i=r.wrap;if(2===i||1===i&&42!==r.status||r.lookahead)return Zt;if(1===i&&(e.adler=Dt(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===i&&(on(r.head),r.strstart=0,r.block_start=0,r.insert=0);var o=new Uint8Array(r.w_size);o.set(t.subarray(n-r.w_size,n),0),t=o,n=r.w_size}o=e.avail_in;var a=e.next_in,c=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,vn(r);3<=r.lookahead;){t=r.strstart,n=r.lookahead-2;do{r.ins_h=an(r,r.ins_h,r.window[t+3-1]),r.prev[t&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=t,t++}while(--n);r.strstart=t,r.lookahead=2,vn(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=a,e.input=c,e.avail_in=o,r.wrap=i,Gt},deflateInfo:"pako deflate (from Nodeca project)"},Tn={assign:function(t){for(var n=Array.prototype.slice.call(arguments,1);n.length;){var r=n.shift();if(r){if("object"!==e(r))throw new TypeError(r+"must be non-object");for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}}return t},flattenChunks:function(e){for(var t=0,n=0,r=e.length;n<r;n++)t+=e[n].length;t=new Uint8Array(t),r=n=0;for(var i=e.length;n<i;n++){var o=e[n];t.set(o,r),r+=o.length}return t}},Cn=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(Ye){Cn=!1}for(var En=new Uint8Array(256),An=0;256>An;An++)En[An]=252<=An?6:248<=An?5:240<=An?4:224<=An?3:192<=An?2:1;En[254]=En[254]=1;var xn={string2buf:function(e){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,n,r=e.length,i=0;for(t=0;t<r;t++){var o=e.charCodeAt(t);if(55296==(64512&o)&&t+1<r){var a=e.charCodeAt(t+1);56320==(64512&a)&&(o=65536+(o-55296<<10)+(a-56320),t++)}i+=128>o?1:2048>o?2:65536>o?3:4}var c=new Uint8Array(i);for(t=n=0;n<i;t++)55296==(64512&(o=e.charCodeAt(t)))&&t+1<r&&(56320==(64512&(a=e.charCodeAt(t+1)))&&(o=65536+(o-55296<<10)+(a-56320),t++)),128>o?c[n++]=o:(2048>o?c[n++]=192|o>>>6:(65536>o?c[n++]=224|o>>>12:(c[n++]=240|o>>>18,c[n++]=128|o>>>12&63),c[n++]=128|o>>>6&63),c[n++]=128|63&o);return c},buf2string:function(e,t){var n,r,i=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));for(t=Array(2*i),n=r=0;n<i;){var o=e[n++];if(128>o)t[r++]=o;else{var a=En[o];if(4<a)t[r++]=65533,n+=a-1;else{for(o&=2===a?31:3===a?15:7;1<a&&n<i;)o=o<<6|63&e[n++],a--;1<a?t[r++]=65533:65536>o?t[r++]=o:(o-=65536,t[r++]=55296|o>>10&1023,t[r++]=56320|1023&o)}}}if(65534>(e=r)&&t.subarray&&Cn)t=String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));else{for(i="",n=0;n<e;n++)i+=String.fromCharCode(t[n]);t=i}return t},utf8border:function(e,t){(t=t||e.length)>e.length&&(t=e.length);for(var n=t-1;0<=n&&128==(192&e[n]);)n--;return 0>n||0===n?t:n+En[e[n]]>t?n:t}},Sn=function(){this.input=null,this.total_in=this.avail_in=this.next_in=0,this.output=null,this.total_out=this.avail_out=this.next_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},Rn=Object.prototype.toString,On=Bt.Z_NO_FLUSH,In=Bt.Z_SYNC_FLUSH,Nn=Bt.Z_FULL_FLUSH,Dn=Bt.Z_FINISH,Pn=Bt.Z_OK,Ln=Bt.Z_STREAM_END,zn=Bt.Z_DEFAULT_COMPRESSION,Bn=Bt.Z_DEFAULT_STRATEGY,Un=Bt.Z_DEFLATED;P.prototype.push=function(e,t){var n=this.strm,r=this.options.chunkSize;if(this.ended)return!1;for(t=t===~~t?t:!0===t?Dn:On,"string"==typeof e?n.input=xn.string2buf(e):"[object ArrayBuffer]"===Rn.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(t===In||t===Nn)&&6>=n.avail_out)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if((e=yn.deflate(n,t))===Ln)return 0<n.next_out&&this.onData(n.output.subarray(0,n.next_out)),e=yn.deflateEnd(this.strm),this.onEnd(e),this.ended=!0,e===Pn;if(0===n.avail_out)this.onData(n.output);else if(0<t&&0<n.next_out)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}return!0},P.prototype.onData=function(e){this.chunks.push(e)},P.prototype.onEnd=function(e){e===Pn&&(this.result=Tn.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Mn,Fn,jn=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Hn=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),qn=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Gn=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Vn=function(e,t,n,r,i,o,a,c){var s,l,u,d,f,v,g,h=c.bits,p=new Uint16Array(16),m=new Uint16Array(16);for(s=0;15>=s;s++)p[s]=0;for(l=0;l<r;l++)p[t[n+l]]++;var _=h;for(u=15;1<=u&&0===p[u];u--);if(_>u&&(_=u),0===u)return i[o++]=20971520,i[o++]=20971520,c.bits=1,0;for(h=1;h<u&&0===p[h];h++);for(_<h&&(_=h),s=d=1;15>=s;s++)if(d<<=1,0>(d-=p[s]))return-1;if(0<d&&(0===e||1!==u))return-1;for(m[1]=0,s=1;15>s;s++)m[s+1]=m[s]+p[s];for(l=0;l<r;l++)0!==t[n+l]&&(a[m[t[n+l]]++]=l);if(0===e)var w=g=a,k=20;else 1===e?(w=jn,g=Hn,k=257):(w=qn,g=Gn,k=0);l=f=0,s=h;var b=o;r=_,m=0;var y=-1,T=1<<_,C=T-1;if(1===e&&852<T||2===e&&592<T)return 1;for(;;){var E=s-m;if(a[l]+1<k)var A=0,x=a[l];else a[l]>=k?(A=g[a[l]-k],x=w[a[l]-k]):(A=96,x=0);d=1<<s-m,h=v=1<<r;do{i[b+(f>>m)+(v-=d)]=E<<24|A<<16|x|0}while(0!==v);for(d=1<<s-1;f&d;)d>>=1;if(0!==d?(f&=d-1,f+=d):f=0,l++,0==--p[s]){if(s===u)break;s=t[n+a[l]]}if(s>_&&(f&C)!==y){for(0===m&&(m=_),b+=h,d=1<<(r=s-m);r+m<u&&!(0>=(d-=p[r+m]));)r++,d<<=1;if(T+=1<<r,1===e&&852<T||2===e&&592<T)return 1;i[y=f&C]=_<<24|r<<16|b-o|0}}return 0!==f&&(i[b+f]=s-m<<24|4194304),c.bits=_,0},Zn=Bt.Z_FINISH,Kn=Bt.Z_BLOCK,Jn=Bt.Z_TREES,Yn=Bt.Z_OK,Xn=Bt.Z_STREAM_END,Qn=Bt.Z_NEED_DICT,Wn=Bt.Z_STREAM_ERROR,$n=Bt.Z_DATA_ERROR,er=Bt.Z_MEM_ERROR,tr=Bt.Z_BUF_ERROR,nr=Bt.Z_DEFLATED,rr=function(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)},ir=function(e){if(!e)return 1;var t=e.state;return!t||t.strm!==e||16180>t.mode||16211<t.mode?1:0},or=function(e){if(ir(e))return Wn;var t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=16180,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Yn},ar=function(e){if(ir(e))return Wn;var t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,or(e)},cr=function(e,t){if(ir(e))return Wn;var n=e.state;if(0>t){var r=0;t=-t}else r=5+(t>>4),48>t&&(t&=15);return t&&(8>t||15<t)?Wn:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,ar(e))},sr=function(e,t){if(!e)return Wn;var n=new z;return e.state=n,n.strm=e,n.window=null,n.mode=16180,(t=cr(e,t))!==Yn&&(e.state=null),t},lr=!0,ur=function(e,t,n,r){var i=e.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):((e=i.wsize-i.wnext)>r&&(e=r),i.window.set(t.subarray(n-r,n-r+e),i.wnext),(r-=e)?(i.window.set(t.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=e,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=e))),0},dr={inflateReset:ar,inflateReset2:cr,inflateResetKeep:or,inflateInit:function(e){return sr(e,15)},inflateInit2:sr,inflate:function(e,t){var n=new Uint8Array(4),r=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ir(e)||!e.output||!e.input&&0!==e.avail_in)return Wn;var i=e.state;16191===i.mode&&(i.mode=16192);var o=e.next_out,a=e.output,c=e.avail_out,s=e.next_in,l=e.input,u=e.avail_in,d=i.hold,f=i.bits,v=u,g=c,h=Yn;e:for(;;)switch(i.mode){case 16180:if(0===i.wrap){i.mode=16192;break}for(;16>f;){if(0===u)break e;u--,d+=l[s++]<<f,f+=8}if(2&i.wrap&&35615===d){0===i.wbits&&(i.wbits=15),i.check=0,n[0]=255&d,n[1]=d>>>8&255,i.check=Lt(i.check,n,2,0),f=d=0,i.mode=16181;break}if(i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&d)<<8)+(d>>8))%31){e.msg="incorrect header check",i.mode=16209;break}if((15&d)!==nr){e.msg="unknown compression method",i.mode=16209;break}f-=4;var p=8+(15&(d>>>=4));if(0===i.wbits&&(i.wbits=p),15<p||p>i.wbits){e.msg="invalid window size",i.mode=16209;break}i.dmax=1<<i.wbits,i.flags=0,e.adler=i.check=1,i.mode=512&d?16189:16191,f=d=0;break;case 16181:for(;16>f;){if(0===u)break e;u--,d+=l[s++]<<f,f+=8}if(i.flags=d,(255&i.flags)!==nr){e.msg="unknown compression method",i.mode=16209;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=16209;break}i.head&&(i.head.text=d>>8&1),512&i.flags&&4&i.wrap&&(n[0]=255&d,n[1]=d>>>8&255,i.check=Lt(i.check,n,2,0)),f=d=0,i.mode=16182;case 16182:for(;32>f;){if(0===u)break e;u--,d+=l[s++]<<f,f+=8}i.head&&(i.head.time=d),512&i.flags&&4&i.wrap&&(n[0]=255&d,n[1]=d>>>8&255,n[2]=d>>>16&255,n[3]=d>>>24&255,i.check=Lt(i.check,n,4,0)),f=d=0,i.mode=16183;case 16183:for(;16>f;){if(0===u)break e;u--,d+=l[s++]<<f,f+=8}i.head&&(i.head.xflags=255&d,i.head.os=d>>8),512&i.flags&&4&i.wrap&&(n[0]=255&d,n[1]=d>>>8&255,i.check=Lt(i.check,n,2,0)),f=d=0,i.mode=16184;case 16184:if(1024&i.flags){for(;16>f;){if(0===u)break e;u--,d+=l[s++]<<f,f+=8}i.length=d,i.head&&(i.head.extra_len=d),512&i.flags&&4&i.wrap&&(n[0]=255&d,n[1]=d>>>8&255,i.check=Lt(i.check,n,2,0)),f=d=0}else i.head&&(i.head.extra=null);i.mode=16185;case 16185:if(1024&i.flags){var m=i.length;if(m>u&&(m=u),m&&(i.head&&(p=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(l.subarray(s,s+m),p)),512&i.flags&&4&i.wrap&&(i.check=Lt(i.check,l,m,s)),u-=m,s+=m,i.length-=m),i.length)break e}i.length=0,i.mode=16186;case 16186:if(2048&i.flags){if(0===u)break e;m=0;do{p=l[s+m++],i.head&&p&&65536>i.length&&(i.head.name+=String.fromCharCode(p))}while(p&&m<u);if(512&i.flags&&4&i.wrap&&(i.check=Lt(i.check,l,m,s)),u-=m,s+=m,p)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=16187;case 16187:if(4096&i.flags){if(0===u)break e;m=0;do{p=l[s+m++],i.head&&p&&65536>i.length&&(i.head.comment+=String.fromCharCode(p))}while(p&&m<u);if(512&i.flags&&4&i.wrap&&(i.check=Lt(i.check,l,m,s)),u-=m,s+=m,p)break e}else i.head&&(i.head.comment=null);i.mode=16188;case 16188:if(512&i.flags){for(;16>f;){if(0===u)break e;u--,d+=l[s++]<<f,f+=8}if(4&i.wrap&&d!==(65535&i.check)){e.msg="header crc mismatch",i.mode=16209;break}f=d=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=16191;break;case 16189:for(;32>f;){if(0===u)break e;u--,d+=l[s++]<<f,f+=8}e.adler=i.check=rr(d),f=d=0,i.mode=16190;case 16190:if(0===i.havedict)return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=u,i.hold=d,i.bits=f,Qn;e.adler=i.check=1,i.mode=16191;case 16191:if(t===Kn||t===Jn)break e;case 16192:if(i.last){d>>>=7&f,f-=7&f,i.mode=16206;break}for(;3>f;){if(0===u)break e;u--,d+=l[s++]<<f,f+=8}switch(i.last=1&d,--f,3&(d>>>=1)){case 0:i.mode=16193;break;case 1:if(m=i,lr){for(Mn=new Int32Array(512),Fn=new Int32Array(32),p=0;144>p;)m.lens[p++]=8;for(;256>p;)m.lens[p++]=9;for(;280>p;)m.lens[p++]=7;for(;288>p;)m.lens[p++]=8;for(Vn(1,m.lens,0,288,Mn,0,m.work,{bits:9}),p=0;32>p;)m.lens[p++]=5;Vn(2,m.lens,0,32,Fn,0,m.work,{bits:5}),lr=!1}if(m.lencode=Mn,m.lenbits=9,m.distcode=Fn,m.distbits=5,i.mode=16199,t===Jn){d>>>=2,f-=2;break e}break;case 2:i.mode=16196;break;case 3:e.msg="invalid block type",i.mode=16209}d>>>=2,f-=2;break;case 16193:for(d>>>=7&f,f-=7&f;32>f;){if(0===u)break e;u--,d+=l[s++]<<f,f+=8}if((65535&d)!=(d>>>16^65535)){e.msg="invalid stored block lengths",i.mode=16209;break}if(i.length=65535&d,f=d=0,i.mode=16194,t===Jn)break e;case 16194:i.mode=16195;case 16195:if(m=i.length){if(m>u&&(m=u),m>c&&(m=c),0===m)break e;a.set(l.subarray(s,s+m),o),u-=m,s+=m,c-=m,o+=m,i.length-=m;break}i.mode=16191;break;case 16196:for(;14>f;){if(0===u)break e;u--,d+=l[s++]<<f,f+=8}if(i.nlen=257+(31&d),d>>>=5,f-=5,i.ndist=1+(31&d),d>>>=5,f-=5,i.ncode=4+(15&d),d>>>=4,f-=4,286<i.nlen||30<i.ndist){e.msg="too many length or distance symbols",i.mode=16209;break}i.have=0,i.mode=16197;case 16197:for(;i.have<i.ncode;){for(;3>f;){if(0===u)break e;u--,d+=l[s++]<<f,f+=8}i.lens[r[i.have++]]=7&d,d>>>=3,f-=3}for(;19>i.have;)i.lens[r[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,m={bits:i.lenbits},h=Vn(0,i.lens,0,19,i.lencode,0,i.work,m),i.lenbits=m.bits,h){e.msg="invalid code lengths set",i.mode=16209;break}i.have=0,i.mode=16198;case 16198:for(;i.have<i.nlen+i.ndist;){for(;;){var _=i.lencode[d&(1<<i.lenbits)-1];if(m=_>>>24,_&=65535,m<=f)break;if(0===u)break e;u--,d+=l[s++]<<f,f+=8}if(16>_)d>>>=m,f-=m,i.lens[i.have++]=_;else{if(16===_){for(p=m+2;f<p;){if(0===u)break e;u--,d+=l[s++]<<f,f+=8}if(d>>>=m,f-=m,0===i.have){e.msg="invalid bit length repeat",i.mode=16209;break}p=i.lens[i.have-1],m=3+(3&d),d>>>=2,f-=2}else if(17===_){for(p=m+3;f<p;){if(0===u)break e;u--,d+=l[s++]<<f,f+=8}f-=m,p=0,m=3+(7&(d>>>=m)),d>>>=3,f-=3}else{for(p=m+7;f<p;){if(0===u)break e;u--,d+=l[s++]<<f,f+=8}f-=m,p=0,m=11+(127&(d>>>=m)),d>>>=7,f-=7}if(i.have+m>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=16209;break}for(;m--;)i.lens[i.have++]=p}}if(16209===i.mode)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=16209;break}if(i.lenbits=9,m={bits:i.lenbits},h=Vn(1,i.lens,0,i.nlen,i.lencode,0,i.work,m),i.lenbits=m.bits,h){e.msg="invalid literal/lengths set",i.mode=16209;break}if(i.distbits=6,i.distcode=i.distdyn,m={bits:i.distbits},h=Vn(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,m),i.distbits=m.bits,h){e.msg="invalid distances set",i.mode=16209;break}if(i.mode=16199,t===Jn)break e;case 16199:i.mode=16200;case 16200:if(6<=u&&258<=c){e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=u,i.hold=d,i.bits=f;var w=e,k=w.state,b=w.next_in;a=w.input;var y=b+(w.avail_in-5),T=w.next_out;l=w.output;var C=T-(g-w.avail_out),E=T+(w.avail_out-257),A=k.dmax;_=k.wsize;var x=k.whave,S=k.wnext,R=k.window;p=k.hold,m=k.bits,f=k.lencode,d=k.distcode,c=(1<<k.lenbits)-1,u=(1<<k.distbits)-1;t:do{15>m&&(p+=a[b++]<<m,m+=8,p+=a[b++]<<m,m+=8);var O=f[p&c];n:for(;;){if(p>>>=o=O>>>24,m-=o,0===(o=O>>>16&255))l[T++]=65535&O;else{if(!(16&o)){if(0==(64&o)){O=f[(65535&O)+(p&(1<<o)-1)];continue n}32&o?k.mode=16191:(w.msg="invalid literal/length code",k.mode=16209);break t}s=65535&O,(o&=15)&&(m<o&&(p+=a[b++]<<m,m+=8),s+=p&(1<<o)-1,p>>>=o,m-=o),15>m&&(p+=a[b++]<<m,m+=8,p+=a[b++]<<m,m+=8),O=d[p&u];r:for(;;){if(p>>>=o=O>>>24,m-=o,!(16&(o=O>>>16&255))){if(0==(64&o)){O=d[(65535&O)+(p&(1<<o)-1)];continue r}w.msg="invalid distance code",k.mode=16209;break t}var I=65535&O;if(m<(o&=15)&&(p+=a[b++]<<m,(m+=8)<o&&(p+=a[b++]<<m,m+=8)),(I+=p&(1<<o)-1)>A){w.msg="invalid distance too far back",k.mode=16209;break t}if(p>>>=o,m-=o,I>(o=T-C)){if((o=I-o)>x&&k.sane){w.msg="invalid distance too far back",k.mode=16209;break t}var N=0;if(O=R,0===S){if(N+=_-o,o<s){s-=o;do{l[T++]=R[N++]}while(--o);N=T-I,O=l}}else if(S<o){if(N+=_+S-o,(o-=S)<s){s-=o;do{l[T++]=R[N++]}while(--o);if(N=0,S<s){s-=o=S;do{l[T++]=R[N++]}while(--o);N=T-I,O=l}}}else if(N+=S-o,o<s){s-=o;do{l[T++]=R[N++]}while(--o);N=T-I,O=l}for(;2<s;)l[T++]=O[N++],l[T++]=O[N++],l[T++]=O[N++],s-=3;s&&(l[T++]=O[N++],1<s&&(l[T++]=O[N++]))}else{N=T-I;do{l[T++]=l[N++],l[T++]=l[N++],l[T++]=l[N++],s-=3}while(2<s);s&&(l[T++]=l[N++],1<s&&(l[T++]=l[N++]))}break}}break}}while(b<y&&T<E);b-=s=m>>3,m-=s<<3,w.next_in=b,w.next_out=T,w.avail_in=b<y?y-b+5:5-(b-y),w.avail_out=T<E?E-T+257:257-(T-E),k.hold=p&(1<<m)-1,k.bits=m,o=e.next_out,a=e.output,c=e.avail_out,s=e.next_in,l=e.input,u=e.avail_in,d=i.hold,f=i.bits,16191===i.mode&&(i.back=-1);break}for(i.back=0;m=(_=i.lencode[d&(1<<i.lenbits)-1])>>>24,p=_>>>16&255,_&=65535,!(m<=f);){if(0===u)break e;u--,d+=l[s++]<<f,f+=8}if(p&&0==(240&p)){for(R=m,S=p,x=_;m=(_=i.lencode[x+((d&(1<<R+S)-1)>>R)])>>>24,p=_>>>16&255,_&=65535,!(R+m<=f);){if(0===u)break e;u--,d+=l[s++]<<f,f+=8}d>>>=R,f-=R,i.back+=R}if(d>>>=m,f-=m,i.back+=m,i.length=_,0===p){i.mode=16205;break}if(32&p){i.back=-1,i.mode=16191;break}if(64&p){e.msg="invalid literal/length code",i.mode=16209;break}i.extra=15&p,i.mode=16201;case 16201:if(i.extra){for(p=i.extra;f<p;){if(0===u)break e;u--,d+=l[s++]<<f,f+=8}i.length+=d&(1<<i.extra)-1,d>>>=i.extra,f-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=16202;case 16202:for(;m=(_=i.distcode[d&(1<<i.distbits)-1])>>>24,p=_>>>16&255,_&=65535,!(m<=f);){if(0===u)break e;u--,d+=l[s++]<<f,f+=8}if(0==(240&p)){for(R=m,S=p,x=_;m=(_=i.distcode[x+((d&(1<<R+S)-1)>>R)])>>>24,p=_>>>16&255,_&=65535,!(R+m<=f);){if(0===u)break e;u--,d+=l[s++]<<f,f+=8}d>>>=R,f-=R,i.back+=R}if(d>>>=m,f-=m,i.back+=m,64&p){e.msg="invalid distance code",i.mode=16209;break}i.offset=_,i.extra=15&p,i.mode=16203;case 16203:if(i.extra){for(p=i.extra;f<p;){if(0===u)break e;u--,d+=l[s++]<<f,f+=8}i.offset+=d&(1<<i.extra)-1,d>>>=i.extra,f-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=16209;break}i.mode=16204;case 16204:if(0===c)break e;if(m=g-c,i.offset>m){if((m=i.offset-m)>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=16209;break}m>i.wnext?(m-=i.wnext,p=i.wsize-m):p=i.wnext-m,m>i.length&&(m=i.length),R=i.window}else R=a,p=o-i.offset,m=i.length;m>c&&(m=c),c-=m,i.length-=m;do{a[o++]=R[p++]}while(--m);0===i.length&&(i.mode=16200);break;case 16205:if(0===c)break e;a[o++]=i.length,c--,i.mode=16200;break;case 16206:if(i.wrap){for(;32>f;){if(0===u)break e;u--,d|=l[s++]<<f,f+=8}if(g-=c,e.total_out+=g,i.total+=g,4&i.wrap&&g&&(e.adler=i.check=i.flags?Lt(i.check,a,g,o-g):Dt(i.check,a,g,o-g)),g=c,4&i.wrap&&(i.flags?d:rr(d))!==i.check){e.msg="incorrect data check",i.mode=16209;break}f=d=0}i.mode=16207;case 16207:if(i.wrap&&i.flags){for(;32>f;){if(0===u)break e;u--,d+=l[s++]<<f,f+=8}if(4&i.wrap&&d!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=16209;break}f=d=0}i.mode=16208;case 16208:h=Xn;break e;case 16209:h=$n;break e;case 16210:return er;default:return Wn}return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=u,i.hold=d,i.bits=f,(i.wsize||g!==e.avail_out&&16209>i.mode&&(16206>i.mode||t!==Zn))&&ur(e,e.output,e.next_out,g-e.avail_out),v-=e.avail_in,g-=e.avail_out,e.total_in+=v,e.total_out+=g,i.total+=g,4&i.wrap&&g&&(e.adler=i.check=i.flags?Lt(i.check,a,g,e.next_out-g):Dt(i.check,a,g,e.next_out-g)),e.data_type=i.bits+(i.last?64:0)+(16191===i.mode?128:0)+(16199===i.mode||16194===i.mode?256:0),(0===v&&0===g||t===Zn)&&h===Yn&&(h=tr),h},inflateEnd:function(e){if(ir(e))return Wn;var t=e.state;return t.window&&(t.window=null),e.state=null,Yn},inflateGetHeader:function(e,t){return ir(e)||0==(2&(e=e.state).wrap)?Wn:(e.head=t,t.done=!1,Yn)},inflateSetDictionary:function(e,t){var n=t.length;if(ir(e))return Wn;var r=e.state;if(0!==r.wrap&&16190!==r.mode)return Wn;if(16190===r.mode&&Dt(1,t,n,0)!==r.check)return $n;return ur(e,t,n,n)?(r.mode=16210,er):(r.havedict=1,Yn)},inflateInfo:"pako inflate (from Nodeca project)"},fr=function(){this.os=this.xflags=this.time=this.text=0,this.extra=null,this.extra_len=0,this.comment=this.name="",this.hcrc=0,this.done=!1},vr=Object.prototype.toString,gr=Bt.Z_NO_FLUSH,hr=Bt.Z_FINISH,pr=Bt.Z_OK,mr=Bt.Z_STREAM_END,_r=Bt.Z_NEED_DICT,wr=Bt.Z_STREAM_ERROR,kr=Bt.Z_DATA_ERROR,br=Bt.Z_MEM_ERROR;B.prototype.push=function(e,t){var n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;if(this.ended)return!1;var o=t===~~t?t:!0===t?hr:gr;for("[object ArrayBuffer]"===vr.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(t=dr.inflate(n,o))===_r&&i&&((t=dr.inflateSetDictionary(n,i))===pr?t=dr.inflate(n,o):t===kr&&(t=_r));0<n.avail_in&&t===mr&&0<n.state.wrap&&0!==e[n.next_in];)dr.inflateReset(n),t=dr.inflate(n,o);switch(t){case wr:case kr:case _r:case br:return this.onEnd(t),this.ended=!0,!1}var a=n.avail_out;if(n.next_out&&(0===n.avail_out||t===mr))if("string"===this.options.to){var c=xn.utf8border(n.output,n.next_out),s=n.next_out-c,l=xn.buf2string(n.output,c);n.next_out=s,n.avail_out=r-s,s&&n.output.set(n.output.subarray(c,c+s),0),this.onData(l)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(t!==pr||0!==a){if(t===mr){t=dr.inflateEnd(this.strm),this.onEnd(t),this.ended=!0;break}if(0===n.avail_in)break}}return!0},B.prototype.onData=function(e){this.chunks.push(e)},B.prototype.onEnd=function(e){e===pr&&(this.result="string"===this.options.to?this.chunks.join(""):Tn.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var yr,Tr,Cr={Deflate:P,deflate:L,deflateRaw:function(e,t){return(t=t||{}).raw=!0,L(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,L(e,t)},Inflate:B,inflate:U,inflateRaw:function(e,t){return(t=t||{}).raw=!0,U(e,t)},ungzip:U,constants:Bt};!function(e){e.response_body="rsb",e.request_body="rqb",e.response_headers="rsh",e.request_headers="rqh"}(yr||(yr={})),function(e){e.BRAND="DeviceBrand",e.MANUFACTURER="DeviceManufacturer",e.MODEL="DeviceModel",e.TYPE="DeviceType",e.VERSION="DeviceVersion",e.OS_NAME="OperatingSystemName",e.OS_VERSION="OperatingSystemVersion",e.CATEGORY="DeviceCategory",e.FRAMEWORK_NAME="FrameworkName",e.FRAMEWORK_VERSION="FrameworkVersion"}(Tr||(Tr={}));var Er,Ar={DeviceType:{CONSOLE:"Console",DESKTOP:"DESKTOP",MOBILE:"Mobile",SETTOP:"Settop",SMARTTV:"SmartTV",TABLET:"Tablet",VEHICLE:"Vehicle",OTHER:"Other"},DeviceCategory:{ANDROID_DEVICE:"AND",APPLE_DEVICE:"APL",CHROMECAST:"CHR",DESKTOP_APP:"DSKAPP",DEVICE_SIMULATOR:"SIMULATOR",KAIOS_DEVICE:"KAIOS",LG_TV:"LGTV",LINUX:"LNX",NINTENDO:"NINTENDO",PLAYSTATION:"PS",ROKU:"RK",SAMSUNG_TV:"SAMSUNGTV",VIDAA_DEVICE:"VIDAA",VIZIO_TV:"VIZIOTV",WEB:"WEB",WINDOWS_DEVICE:"WIN",XBOX:"XB"}};!function(e){var t;e.TRACEPARENT_HEADER_KEY="traceparent",(t=e.CONFIG_PREFERENCES||(e.CONFIG_PREFERENCES={}))[t.APP=0]="APP",t[t.REMOTE=1]="REMOTE",t[t.MERGE=2]="MERGE",function(e){e[e.DISABLED=0]="DISABLED",e[e.PERFORMANCE_TIMING=1]="PERFORMANCE_TIMING",e[e.PERFORMANCE_NAVIGATION_TIMING=2]="PERFORMANCE_NAVIGATION_TIMING"}(e.PERFORMANCE_CONTEXT||(e.PERFORMANCE_CONTEXT={})),function(e){e.DO_NOT_FETCH_UPDATE_TIMER="updateTimer",e.IMMEDIATE_FETCH="urgentFetch",e.UPDATE_TIMER_WITH_DIFF="checkDiff"}(e.RC_FETCH_MODE||(e.RC_FETCH_MODE={})),e.REMOTE_CONFIG_STORAGE_KEY="ConvivaRemoteConfig",e.END_POINT_STORAGE_KEY="ConvivaEndpoint",e.DEFAULT_END_POINT="https://appgw.conviva.com",e.REMOTE_CONFIG_URL_PREFIX="https://rc.conviva.com/js/",e.REMOTE_CONFIG_FILE_NAME="/remote_config.json"}(Er||(Er={}));var xr,Sr,Rr={};!function(e){e[e.APP=0]="APP",e[e.REMOTE=1]="REMOTE",e[e.MERGE=2]="MERGE"}(xr||(xr={})),function(e){e.APPLICATION_BACKGROUND="abg",e.APPLICATION_ERROR="ae"}(Sr||(Sr={}));var Or,Ir,Nr,Dr={},Pr=function(){this.outQueues=[],this.bufferFlushers=[],this.hasLoaded=!1,this.registeredOnLoadHandlers=[]},Lr="undefined"!=typeof window?fe():void 0,zr=Object.freeze({__proto__:null,addGlobalContexts:function(e,t){le(t,(function(t){t.core.addGlobalContexts(e)}))},addPlugin:function(e,t){le(t,(function(t){t.addPlugin(e)}))},clearGlobalContexts:function(e){le(e,(function(e){e.core.clearGlobalContexts()}))},clearUserData:function(e,t){le(t,(function(t){t.clearUserData(e)}))},convivaAppTracker:function(e){void 0===e&&(e={});try{if(Lr)return ue("CAT","CAT","js-".concat("0.6.16"),"",Lr,e)}catch(e){console.warn("Conviva App Tracker:: Initialisation failed! "+e)}},crossDomainLinker:function(e,t){le(t,(function(t){t.crossDomainLinker(e)}))},disableAnonymousTracking:function(e,t){le(t,(function(t){t.disableAnonymousTracking(e)}))},discardBrace:function(e,t){le(t,(function(t){t.discardBrace(e)}))},discardHashTag:function(e,t){le(t,(function(t){t.discardHashTag(e)}))},enableActivityTracking:function(e,t){le(t,(function(t){t.enableActivityTracking(e)}))},enableActivityTrackingCallback:function(e,t){le(t,(function(t){t.enableActivityTrackingCallback(e)}))},enableAnonymousTracking:function(e,t){le(t,(function(t){t.enableAnonymousTracking(e)}))},flushBuffer:function(e,t){le(t,(function(t){t.flushBuffer(e)}))},newSession:function(e){le(e,(function(e){e.newSession()}))},newTracker:function(e,t,n){if(void 0===n&&(n={}),Lr)return ue(e,e,"js-".concat("0.6.16"),t,Lr,n)},preservePageViewId:function(e){le(e,(function(e){e.preservePageViewId()}))},removeGlobalContexts:function(e,t){le(t,(function(t){t.core.removeGlobalContexts(e)}))},setBufferSize:function(e,t){le(t,(function(t){t.setBufferSize(e)}))},setCollectorUrl:function(e,t){le(t,(function(t){t.setCollectorUrl(e)}))},setCookiePath:function(e,t){le(t,(function(t){t.setCookiePath(e)}))},setCustomTags:function(e,t){le(t,(function(t){try{t.setCustomTags(e)}catch(e){console.warn("Conviva App Tracker:: Unable to set custom tags data!")}}))},setCustomUrl:function(e,t){le(t,(function(t){t.setCustomUrl(e)}))},setDocumentTitle:function(e,t){le(t,(function(t){t.setDocumentTitle(e)}))},setOptOutCookie:function(e,t){le(t,(function(t){t.setOptOutCookie(e)}))},setReferrerUrl:function(e,t){le(t,(function(t){t.setReferrerUrl(e)}))},setUserId:function(e,t){le(t,(function(t){t.setUserId(e)}))},setUserIdFromCookie:function(e,t){le(t,(function(t){t.setUserIdFromCookie(e)}))},setUserIdFromLocation:function(e,t){le(t,(function(t){t.setUserIdFromLocation(e)}))},setUserIdFromReferrer:function(e,t){le(t,(function(t){t.setUserIdFromReferrer(e)}))},setVisitorCookieTimeout:function(e,t){le(t,(function(t){t.setVisitorCookieTimeout(e)}))},trackCustomEvent:function(e,t){le(t,(function(t){try{t.trackCustomEvent(e)}catch(e){console.warn("Conviva App Tracker:: Unable to track custom event! "+e)}}))},trackPageView:function(e,t){le(t,(function(t){t.trackPageView(e)}))},trackSelfDescribingEvent:function(e,t){le(t,(function(t){t.core.track(E({event:e.event}),e.context,e.timestamp)}))},trackStructEvent:function(e,t){le(t,(function(t){var n=(t=t.core).track,i=e.category,o=e.action,a=e.label,c=e.property,s=e.value,l=r();l.add("e","se"),l.add("se_ca",i),l.add("se_ac",o),l.add("se_la",a),l.add("se_pr",c),l.add("se_va",null==s?void 0:s.toString()),n.call(t,l,e.context,e.timestamp)}))},unsetCustomTags:function(e,t){le(t,(function(t){try{t.unsetCustomTags(e)}catch(e){console.warn("Conviva App Tracker:: Unable to set custom tags data!")}}))},updatePageActivity:function(e){le(e,(function(e){e.updatePageActivity()}))},version:"0.6.16"}),Br=Object.freeze({__proto__:null,PerformanceTimingPlugin:ve}),Ur={},Mr={},Fr={},jr=!1,Hr=!1,qr=0,Gr={childList:!0,subtree:!0},Vr=Object.freeze({__proto__:null,LinkClickTrackingPlugin:ge,enableButtonClickTracking:function(e,t){if(void 0===e&&(e={}),void 0===t&&(t=Object.keys(Ur)),Hr=!0,!jr)try{var n=document.body;new MutationObserver(ye).observe(n,Gr),Te()}catch(e){console.log("exception",e)}t.forEach((function(t){try{Ur[t]&&(Ur[t].sharedState.hasLoaded?(ke(e,t),Ce(t)):Ur[t].sharedState.registeredOnLoadHandlers.push((function(){ke(e,t),Ce(t)})))}catch(e){console.warn("Conviva App Tracker caused Exception in enableButtonClickTracking method in click tracking Plugin",e)}}))},enableLinkClickTracking:function(e,t){if(void 0===e&&(e={}),void 0===t&&(t=Object.keys(Ur)),jr=!0,!Hr)try{var n=document.body;new MutationObserver(ye).observe(n,Gr),Te()}catch(e){}t.forEach((function(t){try{Ur[t]&&(Ur[t].sharedState.hasLoaded?(we(e,t),be(t)):Ur[t].sharedState.registeredOnLoadHandlers.push((function(){we(e,t),be(t)})))}catch(e){console.warn("Conviva App Tracker caused Exception in enableLinkClickTracking method in click tracking Plugin",e)}}))},refreshButtonClickTracking:function(e){void 0===e&&(e=Object.keys(Ur)),e.forEach((function(e){Ur[e]&&(Ur[e].sharedState.hasLoaded?Ce(e):Ur[e].sharedState.registeredOnLoadHandlers.push((function(){Ce(e)})))}))},refreshLinkClickTracking:function(e){void 0===e&&(e=Object.keys(Ur)),e.forEach((function(e){Ur[e]&&(Ur[e].sharedState.hasLoaded?be(e):Ur[e].sharedState.registeredOnLoadHandlers.push((function(){be(e)})))}))},trackButtonClick:function(e,t){void 0===t&&(t=Object.keys(Ur));for(var n=0;n<t.length;n++){var r=t[n];if(Ur.hasOwnProperty(r)){var i=e;(r=Ur[r]).core.getConfig().buttonClickTracking&&r.core.track(x(i),s(void 0,void 0))}}},trackLinkClick:function(e,t){void 0===t&&(t=Object.keys(Ur));for(var n=0;n<t.length;n++){var r=t[n];if(Ur.hasOwnProperty(r)){var i=e;(r=Ur[r]).core.getConfig().linkClickTracking&&r.core.track(A(i),s(void 0,void 0))}}}});!function(e){e.CHANGE_FORM="change_form",e.FOCUS_FORM="focus_form",e.SUBMIT_FORM="submit_form"}(Nr||(Nr={}));var Zr=[Nr.CHANGE_FORM,Nr.FOCUS_FORM,Nr.SUBMIT_FORM],Kr=["textarea","input","select"],Jr=function(e){return e},Yr={},Xr=Object.freeze({__proto__:null,FormTrackingPlugin:Re,enableFormTracking:function(e,t){void 0===e&&(e={}),void 0===t&&(t=Object.keys(Yr)),t.forEach((function(t){Yr[t]&&(Yr[t].sharedState.hasLoaded?Ee(Yr[t],e):Yr[t].sharedState.registeredOnLoadHandlers.push((function(){Ee(Yr[t],e)})))}))}}),Qr={},Wr=Object.freeze({__proto__:null,ErrorTrackingPlugin:Oe,enableErrorTracking:function(e,t){void 0===e&&(e={}),void 0===t&&(t=Object.keys(Qr));try{var n=e.filter,r=e.contextAdder,i=e.context;V(window,"error",(function(e){try{if(n&&F(n)&&n(e)||null==n){var o=t,a=i||[];r&&F(r)&&(a=a.concat(r(e))),Ie({message:e.message,filename:e.filename,lineno:e.lineno,colno:e.colno,error:e.error,context:a},o)}}catch(e){console.warn("Conviva App Tracker caused Exception in enableErrorTracking callback of error tracking Plugin",e)}}),!0)}catch(e){console.warn("Conviva App Tracker caused Exception in enableErrorTracking method of error tracking Plugin",e)}},trackError:Ie}),$r=window.GlobalSnowplowNamespace?window.GlobalSnowplowNamespace.shift():window.GlobalConvivaNamespace.shift(),ei=window[$r];ei.q=function(e,n){function r(e){var t=e.split(":");return[e=t[0],t=1<t.length?t[1].split(";"):void 0]}function i(e,t){if(_[e])try{_[e].apply(null,t)}catch(t){$e.error(e+" failed",t)}else $e.warn(e+" is not an available function")}function o(e){_=De(De({},_),e)}function a(t){if("string"!=typeof t[0]||"string"!=typeof t[1]||void 0!==t[2]&&"object"!=typeof t[2])$e.error("newTracker failed",Error("Invalid parameters"));else{var n="".concat(e,"_").concat(t[0]),r=t[2],i=Ne(r);(n=ue(n,t[0],"js-".concat(m),t[1],v,De(De({},r),{plugins:i.map((function(e){return e[0]}))})))?(g.push(n.id),i.forEach((function(e){o(e[1])}))):$e.warn(t[0]+" already exists")}}function c(e){try{if("object"==typeof e[0]&&null!==e[0]){var t=e[0],n=Ne(t),r=ue("CAT","CAT","js-".concat(m),"",v,De(De({},t),{plugins:n.map((function(e){return e[0]}))}));r?(g.push(r.id),n.forEach((function(e){o(e[1])}))):$e.warn("CAT already exists")}else $e.error("convivaAppTracker failed",Error("Invalid parameters"))}catch(e){console.warn("convivaAppTracker failed "+e)}}function s(e,n){function r(e){Object.prototype.hasOwnProperty.call(h,e)&&(u.clearTimeout(h[e].timeout),delete h[e],0===Object.keys(h).length&&p.forEach((function(e){var t=e[1];void 0!==_[e[0]]&&_[e[0]].length>t.length&&Array.isArray(t[0])&&(t=[{},t[0]]),i(e[0],t)})))}var a;if("string"==typeof e[0]&&f(e[1])&&(void 0===e[2]||Array.isArray(e[2]))){var c=e[0],s=e[1],l=e[2];(null===(a=e[3])||void 0===a||a)&&(a=u.setTimeout((function(){r(c)}),5e3),h[c]={timeout:a}),(a=d.createElement("script")).setAttribute("src",c),a.setAttribute("async","1"),V(a,"error",(function(){r(c),$e.warn("Failed to load plugin ".concat(s[0]," from ").concat(c))}),!0),V(a,"load",(function(){var e=s[1],i=u[s[0]];if(i&&"object"==typeof i){var a=i[e];e=t(i,["symbol"==typeof e?e:e+""]),_.addPlugin.apply(null,[{plugin:a.apply(null,l)},n]),o(e)}r(c)}),!0),d.head.appendChild(a)}else{if("object"==typeof e[0]&&"string"==typeof e[1]&&(void 0===e[2]||Array.isArray(e[2]))){var v=e[0],g=e[1];if(a=e[2],v)return e=v[g],v=t(v,["symbol"==typeof g?g:g+""]),_.addPlugin.apply(null,[{plugin:e.apply(null,a)},n]),void o(v)}$e.warn("Failed to add Plugin: ".concat(e[1]))}}function l(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(n=0;n<t.length;n+=1){var o=t[n],l=Array.prototype.shift.call(o);if(F(l))try{for(var u={},d=0,f=de(g,Dr);d<f.length;d++){var v=f[d];u[v.id.replace("".concat(e,"_"),"")]=v}l.apply(u,o)}catch(e){$e.error("Tracker callback failed",e)}finally{continue}l=(u=r(l))[0],u=u[1],"newTracker"===l?a(o):"convivaAppTracker"===l?c(o):(u=u?u.map((function(t){return"".concat(e,"_").concat(t)})):g,"addPlugin"===l?s(o,u):(d=void 0,d=0<o.length?[o[0],u]:void 0!==_[l]&&2===_[l].length?[{},u]:[u],0<Object.keys(h).length?p.push([l,d]):i(l,d)))}}for(var u=window,d=document,v=fe(),g=[],h={},p=[],m="0.6.16",_=t(zr,["version"]),w=0;w<n.length;w++)l(n[w]);return{push:l}}($r,ei.q)}();
//# sourceMappingURL=sp.js.map
